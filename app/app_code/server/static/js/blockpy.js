(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("jQuery"), require("ko"));
	else if(typeof define === 'function' && define.amd)
		define("blockpy", ["jQuery", "ko"], factory);
	else if(typeof exports === 'object')
		exports["blockpy"] = factory(require("jQuery"), require("ko"));
	else
		root["blockpy"] = factory(root["jQuery"], root["ko"]);
})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_jquery__, __WEBPACK_EXTERNAL_MODULE_knockout__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/blockpy.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/blockpy.js":
/*!************************!*\
  !*** ./src/blockpy.js ***!
  \************************/
/*! exports provided: _IMPORTED_COMPLETE_DATASETS, _IMPORTED_DATASETS, BlockPy */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(ko) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BlockPy", function() { return BlockPy; });
/* harmony import */ var _css_blockpy_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./css/blockpy.css */ "./src/css/blockpy.css");
/* harmony import */ var _css_blockpy_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_blockpy_css__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _css_bootstrap_retheme_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./css/bootstrap_retheme.css */ "./src/css/bootstrap_retheme.css");
/* harmony import */ var _css_bootstrap_retheme_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_bootstrap_retheme_css__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "jquery");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var skulpt_modules_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! skulpt_modules/image */ "./src/skulpt_modules/image.js");
/* harmony import */ var storage_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! storage.js */ "./src/storage.js");
/* harmony import */ var editors_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! editors.js */ "./src/editors.js");
/* harmony import */ var editor_python_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! editor/python.js */ "./src/editor/python.js");
/* harmony import */ var server_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! server.js */ "./src/server.js");
/* harmony import */ var interface_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! interface.js */ "./src/interface.js");
/* harmony import */ var _files__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./files */ "./src/files.js");
/* harmony import */ var _editor_abstract_editor__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./editor/abstract_editor */ "./src/editor/abstract_editor.js");
/* harmony import */ var engine_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine.js */ "./src/engine.js");
/* harmony import */ var _trace__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./trace */ "./src/trace.js");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./console */ "./src/console.js");
/* harmony import */ var feedback_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! feedback.js */ "./src/feedback.js");
/* harmony import */ var _dialog__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./dialog */ "./src/dialog.js");
/* harmony import */ var _editor_assignment_settings__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./editor/assignment_settings */ "./src/editor/assignment_settings.js");
/* harmony import */ var _corgis__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./corgis */ "./src/corgis.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "_IMPORTED_COMPLETE_DATASETS", function() { return _corgis__WEBPACK_IMPORTED_MODULE_17__["_IMPORTED_COMPLETE_DATASETS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "_IMPORTED_DATASETS", function() { return _corgis__WEBPACK_IMPORTED_MODULE_17__["_IMPORTED_DATASETS"]; });

/* harmony import */ var _history__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./history */ "./src/history.js");
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./utilities */ "./src/utilities.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
/**
 * @fileoverview Starting point of the BlockPy application, containing the main
 * BlockPy class.
 */
























/**
 * Major entry point for creating a BlockPy instance.
 * Two most important fields are `model` and `components`.
 * The `model` holds all the data about the interface.
 * The `components` are references to the disparate parts of BlockPy.
 *
 * Most of this classes definition is just initializing the model and updating
 * it on an assignment switch.
 */
var BlockPy = /*#__PURE__*/function () {
  /**
   * @param {Object} configuration - User level settings (e.g., what editor mode, whether to mute semantic errors, etc.)
   * @param {Object} assignment - Assignment level settings (data about the loaded assignment, user, submission, etc.)
   * @param {Object} submission - Includes the source code of any programs to be loaded
   */
  function BlockPy(configuration, assignment, submission) {
    _classCallCheck(this, BlockPy);
    this.initModel(configuration);
    if (assignment !== undefined) {
      this.setAssignment(configuration, assignment, submission);
    }
    this.initMain();
  }

  /**
   * Initializes the BlockPy object by initializing its interface,
   * model, and components.
   *
   */
  _createClass(BlockPy, [{
    key: "initMain",
    value: function initMain() {
      this.initUtilities();
      this.initModelMethods();
      this.turnOnHacks();
      this.initInterface();
      this.applyModel();
      this.initComponents();
      this.makeExtraSubscriptions();
      this.start();
    }
  }, {
    key: "getSetting",
    /**
     * Retrieves a default value or
     * @param {string} key - the key to look up a value for
     * @param {Object} defaultValue - if the key is not found anywhere, use this value
     */
    value: function getSetting(key, defaultValue) {
      if (key in this.initialConfiguration_) {
        return this.initialConfiguration_[key];
      } else if (this.localSettings_.has(key)) {
        return this.localSettings_.get(key);
      } else {
        return defaultValue;
      }
    }
    /**
     * Initializes the model to its defaults.
     *
     * Categories:
     *   * user: values for the current user (stored to server)
     *   * assignment: values for the current assignment (stored to server)
     *   * submission: values for the current submission (stored to server)
     *   * display: flags related to current visibility (stored to localSettings)
     *   * status: messages related to current status (not stored)
     *   * execution: values related to last run (not stored)
     *   * configuration: constant values related to setup (not stored)
     */
  }, {
    key: "initModel",
    value: function initModel(configuration) {
      // Connect to local storage
      this.localSettings_ = new storage_js__WEBPACK_IMPORTED_MODULE_4__["LocalStorageWrapper"]("localSettings");
      this.initialConfiguration_ = configuration;
      this.model = {
        user: {
          id: ko.observable(configuration["user.id"]),
          name: ko.observable(configuration["user.name"]),
          /**
           * Whether you are an Owner (can modify the assignment), Grader (can view
           * the assignments' information) or Student (can not see any instructor stuff).
           * @type {bool}
           */
          role: ko.observable(this.getSetting("user.role", "owner")),
          /**
           * Current course for this user
           */
          courseId: ko.observable(configuration["user.course_id"]),
          /**
           * Current assignment group that this user is inside
           */
          groupId: ko.observable(configuration["user.group_id"])
        },
        assignment: {
          id: ko.observable(null),
          name: ko.observable("Scratch Canvas"),
          instructions: ko.observable("Welcome to BlockPy. Try editing and running the code below."),
          /**
           * The human-friendly URL to use as a shortcut for this assignment
           */
          url: ko.observable(""),
          // TODO: warning message if maze
          type: ko.observable(""),
          startingCode: ko.observable(configuration["assignment.starting_code"] || ""),
          onRun: ko.observable(configuration["assignment.on_run"] || ""),
          onChange: ko.observable(configuration["assignment.on_change"] || null),
          onEval: ko.observable(configuration["assignment.on_eval"] || null),
          extraInstructorFiles: ko.observableArray([]),
          extraStartingFiles: ko.observableArray([]),
          forkedId: ko.observable(null),
          forkedVersion: ko.observable(null),
          ownerId: ko.observable(null),
          courseId: ko.observable(null),
          version: ko.observable(null),
          tags: ko.observableArray([]),
          sampleSubmissions: ko.observableArray([]),
          reviewed: ko.observable(configuration["assignment.reviewed"]),
          "public": ko.observable(configuration["assignment.public"]),
          hidden: ko.observable(configuration["assignment.hidden"]),
          ipRanges: ko.observable(configuration["assignment.ip_ranges"]),
          settings: Object(_editor_assignment_settings__WEBPACK_IMPORTED_MODULE_16__["makeAssignmentSettingsModel"])(configuration)
        },
        submission: {
          id: ko.observable(null),
          code: ko.observable(configuration["submission.code"] || ""),
          extraFiles: ko.observableArray([]),
          url: ko.observable(""),
          endpoint: ko.observable(""),
          score: ko.observable(0),
          correct: ko.observable(false),
          // assignmentId inferred from assignment.id
          // courseId inferred from user.courseId
          // userId inferred from user.id
          // assignmentVersion inferred from assignment.version
          version: ko.observable(0),
          submissionStatus: ko.observable("Started"),
          gradingStatus: ko.observable("NotReady"),
          ownerId: ko.observable(null)
        },
        display: {
          /**
           * Currently visible File, if applicable
           * @type {String}
           */
          filename: ko.observable(null),
          /**
           * Whether or not to be presented with the instructor settings and files
           * @type {bool}
           */
          instructor: ko.observable(this.getSetting("display.instructor", "false").toString() === "true"),
          /**
           * Whether or not to prevent the printer from showing things
           */
          mutePrinter: ko.observable(false),
          /**
           * (Python Views) The current editor mode.
           * @type {DisplayModes}
           */
          pythonMode: ko.observable(this.getSetting("display.python.mode", editor_python_js__WEBPACK_IMPORTED_MODULE_6__["DisplayModes"].SPLIT)),
          /**
           * Whether or not History mode is engaged.
           * @type {bool}
           */
          historyMode: ko.observable(false),
          /**
           * Whether or not to be auto-saving changes in Python editor
           * If an integer, specifies the delay that should be used (microseconds).
           * This is never on in non-Python editors.
           * @type {bool|int}
           */
          autoSave: ko.observable(true),
          /**
           * Whether or not the console is full width and feedback is hidden
           */
          bigConsole: ko.observable(false),
          /**
           * The height to use for the console.
           *    If null, then let the height remain unchanged
           *    If a number, then the
           */
          previousConsoleHeight: ko.observable(null),
          currentConsoleHeight: ko.observable(null),
          /**
           * Which panel to show in the second row's second column
           * @type {SecondRowSecondPanelOptions}
           */
          secondRowSecondPanel: ko.observable(interface_js__WEBPACK_IMPORTED_MODULE_8__["SecondRowSecondPanelOptions"].FEEDBACK),
          /**
           * Whether or not to be tracing the code right now
           */
          traceExecution: ko.observable(false),
          /**
           * The list of promises to still resolve while loading datasets
           * @type {Array<Promise>}
           */
          loadingDatasets: ko.observableArray([]),
          /**
           * The temporary changed value of the instructions have been changed from what is in the assignment
           */
          changedInstructions: ko.observable(null),
          /**
           * A holder for the timer to trigger on-changes
           */
          triggerOnChange: null,
          /**
           * Whether the current feedback and output corresponds to the current submission.
           * This would be false if there is no feedback/output (i.e., code has not been run),
           * or if the user has modified the submission after the last run (e.g., by editing
           * the text).
           */
          dirtySubmission: ko.observable(true),
          /**
           *  Whether or not to make the BlockPy element in FULL SCREEN mode. Sadly, not fullscreen
           *  within the window, but FULL SCREEN. Very aggressive.
           */
          fullscreen: ko.observable(false),
          /**
           * User-supplied passcode to compare on the server against the current passcode.
           */
          passcode: ko.observable(""),
          /**
           * Whether or not to clear out inputs after a run/on_run cycle
           */
          clearInputs: ko.observable(true)
        },
        status: {
          // @type {ServerStatus}
          loadAssignment: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_7__["StatusState"].READY),
          loadAssignmentMessage: ko.observable(""),
          // @type {ServerStatus}
          loadHistory: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_7__["StatusState"].READY),
          loadHistoryMessage: ko.observable(""),
          // @type {ServerStatus}
          loadFile: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_7__["StatusState"].READY),
          loadFileMessage: ko.observable(""),
          // @type {ServerStatus}
          loadDataset: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_7__["StatusState"].READY),
          loadDatasetMessage: ko.observable(""),
          // @type {ServerStatus}
          logEvent: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_7__["StatusState"].READY),
          logEventMessage: ko.observable(""),
          // @type {ServerStatus}
          saveImage: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_7__["StatusState"].READY),
          saveImageMessage: ko.observable(""),
          // @type {ServerStatus}
          saveFile: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_7__["StatusState"].READY),
          saveFileMessage: ko.observable(""),
          // @type {ServerStatus}
          saveAssignment: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_7__["StatusState"].READY),
          saveAssignmentMessage: ko.observable(""),
          // @type {ServerStatus}
          updateSubmission: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_7__["StatusState"].READY),
          updateSubmissionMessage: ko.observable(""),
          // @type {ServerStatus}
          updateSubmissionStatus: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_7__["StatusState"].READY),
          updateSubmissionStatusMessage: ko.observable(""),
          // @type {ServerStatus}
          onExecution: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_7__["StatusState"].READY)
        },
        execution: {
          // Information about in-progress executions
          reports: {},
          // list of Output objects
          output: ko.observableArray([]),
          // List of inputted strings
          input: ko.observableArray([]),
          inputIndex: ko.observable(0),
          // Information related to a student run
          student: {
            // str: the filename that was last executed and is associated with these results
            filename: ko.observable(null),
            // integer
            currentStep: ko.observable(null),
            // integer
            lastStep: ko.observable(null),
            // integer
            currentLine: ko.observable(null),
            lastLine: ko.observable(0),
            // array of simple objects
            currentTraceData: ko.observableArray([]),
            // integer
            currentTraceStep: ko.observable(0),
            // Actual execution results
            results: null,
            globals: ko.observable(null)
          },
          instructor: {
            globals: null,
            sysmodules: undefined
          },
          // Information related to feedback from the instructor run
          feedback: {
            // str (markdown)
            message: ko.observable("Ready"),
            category: ko.observable(null),
            label: ko.observable(null),
            hidden: ko.observable(false),
            linesError: ko.observableArray([]),
            linesUncovered: ko.observableArray([]),
            // The results of the last execution
            results: null
          }
        },
        configuration: {
          /**
           * Functions to fire when certain events occur
           */
          callbacks: {
            /**
             * When the student gets a success
             */
            "success": this.initialConfiguration_["callback.success"]
          },
          /**
           * Whether or not the server is connected.
           * @type {bool}
           */
          serverConnected: ko.observable(this.getSetting("server.connected", true)),
          // string
          blocklyPath: this.initialConfiguration_["blockly.path"],
          // string
          attachmentPoint: this.initialConfiguration_["attachment.point"],
          // JQuery object
          container: null,
          // Maps codes ('log_event', 'save_code') to URLs
          urls: this.initialConfiguration_["urls"] || {}
        }
      };
    }
  }, {
    key: "initInterface",
    /**
     * Creates the interface
     */
    value: function initInterface() {
      var constants = this.model.configuration;
      var gui = Object(interface_js__WEBPACK_IMPORTED_MODULE_8__["makeInterface"])(this);
      constants.container = jquery__WEBPACK_IMPORTED_MODULE_2___default()(constants.attachmentPoint).html(jquery__WEBPACK_IMPORTED_MODULE_2___default()(gui));
    }
  }, {
    key: "loadAssignment",
    value: function loadAssignment(assignment_id) {
      this.components.server.loadAssignment(assignment_id);
    }
  }, {
    key: "loadTags",
    value: function loadTags(tags) {
      // Already a JSON list representing tags
    }
  }, {
    key: "loadSampleSubmissions",
    value: function loadSampleSubmissions(samples) {
      // Already a JSON list representing samples
    }
  }, {
    key: "loadNoSubmission",
    value: function loadNoSubmission(assignment) {
      this.model.submission.code(assignment.starting_code);
      Object(_files__WEBPACK_IMPORTED_MODULE_9__["loadConcatenatedFile"])(assignment.extra_starting_files, this.model.submission.extraFiles);
    }
  }, {
    key: "loadSubmission",
    value: function loadSubmission(submission, assignment) {
      if (!submission) {
        // TODO: Scarier "You are not logged in message"
        this.loadNoSubmission(assignment);
        return false;
      }
      // TODO: What if submissions' assignment version and the assignments' version conflict?
      this.model.submission.id(submission.id);
      this.model.submission.code(submission.code);
      this.model.submission.correct(submission.correct);
      this.model.submission.score(submission.score);
      this.model.submission.endpoint(submission.endpoint);
      this.model.submission.url(submission.url);
      this.model.submission.version(submission.version);
      this.model.submission.gradingStatus(submission.grading_status);
      this.model.submission.submissionStatus(submission.submission_status);
      this.model.submission.ownerId(submission.user_id);
      this.model.user.courseId(submission.course_id);
      Object(_files__WEBPACK_IMPORTED_MODULE_9__["loadConcatenatedFile"])(submission.extra_files, this.model.submission.extraFiles);
    }
  }, {
    key: "loadAssignmentData_",
    value: function loadAssignmentData_(data) {
      console.log(data);
      this.resetInterface();
      this.components.fileSystem.dismountExtraFiles();
      var wasServerConnected = this.model.configuration.serverConnected();
      this.model.configuration.serverConnected(false);
      var assignment = data.assignment;
      this.model.assignment.id(assignment.id);
      this.model.assignment.version(assignment.version);
      this.model.assignment.courseId(assignment.course_id);
      this.model.assignment.forkedId(assignment.forked_id);
      this.model.assignment.forkedVersion(assignment.forked_version);
      this.model.assignment.hidden(assignment.hidden);
      this.model.assignment.reviewed(assignment.reviewed);
      this.model.assignment["public"](assignment["public"]);
      this.model.assignment.type(assignment.type);
      this.model.assignment.url(assignment.url);
      this.model.assignment.ipRanges(assignment.ip_ranges);
      this.model.assignment.instructions(assignment.instructions);
      this.model.assignment.name(assignment.name);
      this.model.assignment.onChange(assignment.on_change || null);
      if (assignment.on_change) {
        this.components.fileSystem.newFile("!on_change.py", assignment.on_change);
      }
      this.model.assignment.onEval(assignment.on_eval || null);
      if (assignment.on_eval) {
        this.components.fileSystem.newFile("!on_eval.py", assignment.on_eval);
      }
      this.model.assignment.onRun(assignment.on_run);
      this.model.assignment.startingCode(assignment.starting_code);
      this.model.assignment.ownerId(assignment.owner_id);
      Object(_editor_assignment_settings__WEBPACK_IMPORTED_MODULE_16__["loadAssignmentSettings"])(this.model, assignment.settings);
      this.loadTags(assignment.tags);
      this.loadSampleSubmissions(assignment.sample_submissions);
      Object(_files__WEBPACK_IMPORTED_MODULE_9__["loadConcatenatedFile"])(assignment.extra_instructor_files, this.model.assignment.extraInstructorFiles);
      Object(_files__WEBPACK_IMPORTED_MODULE_9__["loadConcatenatedFile"])(assignment.extra_starting_files, this.model.assignment.extraStartingFiles);
      this.loadSubmission(data.submission, assignment);
      this.model.display.dirtySubmission(true);
      this.model.display.changedInstructions(null);
      this.model.configuration.serverConnected(wasServerConnected);
      this.components.corgis.loadDatasets(true);
      this.components.pythonEditor.bm.refresh();
      this.components.server.setStatus("saveFile", server_js__WEBPACK_IMPORTED_MODULE_7__["StatusState"].READY);
    }
  }, {
    key: "initModelMethods",
    value: function initModelMethods() {
      var _this = this;
      var self = this;
      var model = this.model;
      model.ui = {
        role: {
          isGrader: ko.pureComputed(function () {
            return model.user.role() === "owner" || model.user.role() === "grader";
          })
        },
        instructions: {
          isChanged: ko.pureComputed(function () {
            return model.display.changedInstructions() !== null;
          }),
          current: ko.pureComputed(function () {
            return model.ui.instructions.isChanged() ? self.utilities.markdown(model.display.changedInstructions()) : self.utilities.markdown(model.assignment.instructions());
          }),
          reset: function reset() {
            return model.display.changedInstructions(null);
          }
        },
        menu: {
          textFullscreen: ko.pureComputed(function () {
            return model.display.fullscreen() ? "fa-compress-arrows-alt" : "fa-expand-arrows-alt";
          }),
          clickFullscreen: function clickFullscreen() {
            model.display.fullscreen(!model.display.fullscreen());
          },
          editInputs: function editInputs() {
            _this.components.dialog.EDIT_INPUTS();
          },
          canMarkSubmitted: ko.pureComputed(function () {
            return model.assignment.hidden() || model.assignment.reviewed() || model.assignment.settings.canClose();
          }),
          textMarkSubmitted: ko.pureComputed(function () {
            if (model.ui.menu.isCompleted()) {
              return model.user.groupId() ? "Problem closed" : "Assignment closed";
            } else if (model.ui.menu.isSubmitted()) {
              return "Reopen for editing";
            } else if (model.display.dirtySubmission()) {
              return "Run";
            } else {
              if (!model.assignment.hidden() && model.submission.correct()) {
                return "Submit";
              } else {
                return "Submit early";
              }
            }
          }),
          clickMarkSubmitted: function clickMarkSubmitted() {
            if (model.ui.menu.isCompleted()) {
              alert("You cannot reopen closed assignments. Contact a grader!");
            } else if (model.ui.menu.isSubmitted()) {
              self.components.server.updateSubmissionStatus("inProgress");
            } else if (model.display.dirtySubmission()) {
              self.components.engine.delayedRun();
            } else {
              self.components.server.updateSubmissionStatus("Submitted");
            }
          },
          isSubmitted: ko.pureComputed(function () {
            return (model.assignment.reviewed() || model.assignment.settings.canClose()) && model.submission.submissionStatus().toLowerCase() === "submitted";
          }),
          isCompleted: ko.pureComputed(function () {
            return model.submission.submissionStatus().toLowerCase() === "completed";
          }),
          showQueuedInputs: ko.pureComputed(function () {
            return !model.assignment.settings.hideQueuedInputs();
          })
        },
        secondRow: {
          isAllVisible: ko.pureComputed(function () {
            return !model.assignment.settings.hideMiddlePanel();
          }),
          isFeedbackVisible: ko.pureComputed(function () {
            return model.display.secondRowSecondPanel() === interface_js__WEBPACK_IMPORTED_MODULE_8__["SecondRowSecondPanelOptions"].FEEDBACK;
          }),
          isTraceVisible: ko.pureComputed(function () {
            return model.display.secondRowSecondPanel() === interface_js__WEBPACK_IMPORTED_MODULE_8__["SecondRowSecondPanelOptions"].TRACE;
          }),
          isConsoleShowVisible: ko.pureComputed(function () {
            return model.ui.secondRow.isFeedbackVisible() || model.ui.secondRow.isTraceVisible();
          }),
          switchLabel: ko.pureComputed(function () {
            return model.execution.student.lastStep() !== null ? "View Trace" : "";
          }),
          advanceState: function advanceState() {
            var currentPanel = model.display.secondRowSecondPanel;
            if (currentPanel() === interface_js__WEBPACK_IMPORTED_MODULE_8__["SecondRowSecondPanelOptions"].NONE) {
              currentPanel(interface_js__WEBPACK_IMPORTED_MODULE_8__["SecondRowSecondPanelOptions"].FEEDBACK);
            } else if (currentPanel() === interface_js__WEBPACK_IMPORTED_MODULE_8__["SecondRowSecondPanelOptions"].TRACE) {
              currentPanel(interface_js__WEBPACK_IMPORTED_MODULE_8__["SecondRowSecondPanelOptions"].NONE);
            } else if (model.execution.student.lastStep() !== null) {
              currentPanel(interface_js__WEBPACK_IMPORTED_MODULE_8__["SecondRowSecondPanelOptions"].TRACE);
            } else {
              currentPanel(interface_js__WEBPACK_IMPORTED_MODULE_8__["SecondRowSecondPanelOptions"].NONE);
            }
          }
        },
        console: {
          size: ko.pureComputed(function () {
            return model.display.secondRowSecondPanel() === interface_js__WEBPACK_IMPORTED_MODULE_8__["SecondRowSecondPanelOptions"].NONE ? "col-md-12" : "col-md-6";
          }),
          hideEvaluate: ko.pureComputed(function () {
            return model.assignment.settings.hideEvaluate() || !model.execution.student.globals() || model.status.onExecution() === server_js__WEBPACK_IMPORTED_MODULE_7__["StatusState"].ACTIVE;
          })
        },
        feedback: {
          badge: ko.pureComputed(function () {
            if (model.execution.feedback.category() === null) {
              return "label-none";
            }
            switch (model.execution.feedback.category().toLowerCase()) {
              default:
              case "none":
                return "label-none";
              case "runtime":
                return "label-runtime-error";
              case "syntax":
                return "label-syntax-error";
              case "editor":
                return "label-syntax-error";
              case "internal":
                return "label-internal-error";
              case "semantic":
              case "analyzer":
                return "label-semantic-error";
              case "feedback":
              case "instructor":
                return "label-feedback-error";
              case "complete":
                return "label-problem-complete";
              case "instructions":
                return "label-instructions";
              case "no errors":
                return "label-no-errors";
            }
          }),
          category: ko.pureComputed(function () {
            if (model.execution.feedback.category() === null) {
              return "";
            }
            switch (model.execution.feedback.category().toLowerCase()) {
              default:
              case "none":
                return "";
              case "runtime":
                return "Runtime Error";
              case "syntax":
                return "Syntax Error";
              case "editor":
                return "Editor Error";
              case "internal":
                return "Internal Error";
              case "semantic":
              case "analyzer":
                return "Algorithm Error";
              case "feedback":
              case "instructions":
                return "Instructions";
              case "instructor":
                return "Incorrect Answer";
              case "complete":
                return "Complete";
              case "no errors":
                return "No errors";
            }
          })
        },
        trace: {
          has: ko.pureComputed(function () {
            return model.execution.student.currentTraceData() !== null;
          }),
          line: ko.pureComputed(function () {
            var step = model.execution.student.currentTraceStep();
            var lastStep = model.execution.student.lastStep();
            var traceData = model.execution.student.currentTraceData();
            if (!traceData || step === null) {
              return "No trace";
            }
            if (step === 0) {
              return "Before run";
            } else if (step === lastStep) {
              return "Finished run";
            } else {
              // TODO: why are these numbers wonky?
              return "Line " + (traceData[step].line - 1);
            }
          }),
          first: function first() {
            model.execution.student.currentTraceStep(0);
          },
          backward: function backward() {
            var previous = Math.max(0, model.execution.student.currentTraceStep() - 1);
            model.execution.student.currentTraceStep(previous);
          },
          forward: function forward() {
            var next = Math.min(model.execution.student.lastStep(), model.execution.student.currentTraceStep() + 1);
            model.execution.student.currentTraceStep(next);
          },
          last: function last() {
            model.execution.student.currentTraceStep(model.execution.student.lastStep());
          },
          data: ko.pureComputed(function () {
            var step = model.execution.student.currentTraceStep();
            var lastStep = model.execution.student.lastStep();
            var traceData = model.execution.student.currentTraceData();
            if (!traceData) {
              return [];
            }
            switch (step) {
              case 0:
                return [];
              case lastStep:
                return traceData[step - 1];
              default:
                return traceData[step];
            }
          })
        },
        files: {
          visible: ko.pureComputed(function () {
            return model.display.instructor() || !model.assignment.settings.hideFiles();
          }),
          hasContents: function hasContents(path) {
            switch (path) {
              case "answer.py":
                return model.submission.code();
              case "!instructions.md":
                return model.assignment.instructions();
              case "!on_change.py":
                return model.assignment.onChange() !== null;
              case "!on_eval.py":
                return model.assignment.onEval() !== null;
              case "?mock_urls.blockpy":
                return model.assignment.extraInstructorFiles().some(function (file) {
                  return file.filename() === "?mock_urls.blockpy";
                });
              case "!tags.blockpy":
                return model.assignment.tags().length;
              case "!sample_submissions.blockpy":
                return model.assignment.sampleSubmissions().length;
              default:
                return false;
            }
          },
          add: function add(path) {
            switch (path) {
              case "?mock_urls.blockpy":
              case "?tags.blockpy":
              case "?settings.blockpy":
                self.components.fileSystem.newFile(path);
                break;
              case "!on_change.py":
                model.assignment.onChange("");
                self.components.fileSystem.newFile(path);
                break;
              // TODO fix extrafiles for instructor and student
              case "!on_eval.py":
                model.assignment.onEval("");
                self.components.fileSystem.newFile(path);
                break;
              case "instructor":
                self.components.fileSystem.newFileDialog("instructor");
                return;
              case "student":
                self.components.fileSystem.newFileDialog("student");
                return;
              case "starting":
                self.components.fileSystem.newFileDialog("starting");
                return;
              default:
            }
            model.display.filename(path);
          },
          "delete": function _delete() {
            return self.components.fileSystem.deleteFile(model.display.filename());
          },
          extraStudentFiles: Object(_files__WEBPACK_IMPORTED_MODULE_9__["observeConcatenatedFile"])(model.submission.extraFiles),
          extraInstructorFiles: Object(_files__WEBPACK_IMPORTED_MODULE_9__["observeConcatenatedFile"])(model.assignment.extraInstructorFiles),
          extraStartingFiles: Object(_files__WEBPACK_IMPORTED_MODULE_9__["observeConcatenatedFile"])(model.assignment.extraStartingFiles),
          displayFilename: function displayFilename(path) {
            if (path === "?mock_urls.blockpy") {
              return "URL Data";
            }
            if (path.startsWith("&")) {
              return path.slice(1);
            }
            return path;
          }
        },
        editors: {
          current: ko.pureComputed(function () {
            return self.components.editors.getEditor(model.display.filename());
          }),
          view: ko.pureComputed(function () {
            return !model.display.instructor() && model.assignment.settings.hideEditors() ? "None" : model.display.filename() ? model.ui.editors.current() : "None";
          }),
          reset: function reset() {
            self.components.server.logEvent("X-File.Reset", "", "", "", "answer.py");
            model.submission.code(model.assignment.startingCode());
            model.submission.extraFiles(model.assignment.extraStartingFiles().map(function (file) {
              var filename = file.filename().substr(1);
              return Object(_files__WEBPACK_IMPORTED_MODULE_9__["makeModelFile"])(filename, file.contents());
            }));
          },
          canSave: ko.pureComputed(function () {
            return !model.display.autoSave();
          }),
          canDelete: ko.pureComputed(function () {
            return (!model.assignment.settings.hideFiles() || model.display.instructor()) && _files__WEBPACK_IMPORTED_MODULE_9__["UNDELETABLE_FILES"].indexOf(model.display.filename()) === -1;
          }),
          canRename: ko.pureComputed(function () {
            return (!model.assignment.settings.hideFiles() || model.display.instructor()) && _files__WEBPACK_IMPORTED_MODULE_9__["UNRENAMABLE_FILES"].indexOf(model.display.filename()) === -1;
          }),
          upload: _editor_abstract_editor__WEBPACK_IMPORTED_MODULE_10__["uploadFile"].bind(self),
          download: _editor_abstract_editor__WEBPACK_IMPORTED_MODULE_10__["downloadFile"].bind(self),
          importDataset: function importDataset() {
            self.components.corgis.openDialog();
          },
          python: {
            fullscreen: function fullscreen() {
              var codeMirror = self.components.pythonEditor.bm.textEditor.codeMirror;
              return codeMirror.setOption("fullScreen", !codeMirror.getOption("fullScreen"));
            },
            updateMode: function updateMode(newMode) {
              self.components.server.logEvent("X-View.Change", "", "", newMode, model.display.filename());
              model.display.pythonMode(newMode);
              if (model.display.filename() === "answer.py") {
                self.components.pythonEditor.oldPythonMode = newMode;
              }
            },
            isHistoryAvailable: ko.pureComputed(function () {
              return model.ui.server.isEndpointConnected("loadHistory");
            }),
            turnOffHistoryMode: function turnOffHistoryMode() {
              self.components.pythonEditor.updateEditor();
              self.components.pythonEditor.setReadOnly(false);
              model.display.historyMode(false);
            },
            turnOnHistoryMode: function turnOnHistoryMode() {
              self.components.server.loadHistory(function (response) {
                if (response.success) {
                  self.components.history.load(response.history);
                  model.display.historyMode(true);
                  self.components.pythonEditor.setReadOnly(true);
                } else {
                  self.components.dialog.ERROR_LOADING_HISTORY();
                }
              });
            },
            toggleHistoryMode: function toggleHistoryMode() {
              if (model.display.historyMode()) {
                model.ui.editors.python.turnOffHistoryMode();
              } else {
                model.ui.editors.python.turnOnHistoryMode();
              }
            },
            history: {
              start: function start() {
                self.components.history.moveToStart();
              },
              previous: function previous() {
                self.components.history.movePrevious();
              },
              next: function next() {
                self.components.history.moveNext();
              },
              mostRecent: function mostRecent() {
                self.components.history.moveToMostRecent();
              },
              use: function use() {
                self.components.history.use();
              }
            }
          },
          settings: {
            save: function save() {
              return self.components.server.saveAssignment();
            }
          }
        },
        execute: {
          isRunning: ko.pureComputed(function () {
            return model.status.onExecution() === server_js__WEBPACK_IMPORTED_MODULE_7__["StatusState"].ACTIVE;
          }),
          run: function run() {
            return self.components.engine.delayedRun();
          },
          evaluate: function evaluate() {
            return self.components.engine.evaluate();
          }
        },
        server: {
          status: function status(endpoint) {
            return "server-status-" + model.status[endpoint]();
          },
          isEndpointConnected: function isEndpointConnected(endpoint) {
            return model.configuration.serverConnected() && model.configuration.urls !== undefined && model.configuration.urls[endpoint] !== undefined;
          },
          messages: ko.pureComputed(function () {
            return Object(_utilities__WEBPACK_IMPORTED_MODULE_19__["capitalize"])(model.status.loadAssignmentMessage() || model.status.saveAssignmentMessage() || model.status.loadHistoryMessage() || model.status.loadFileMessage() || model.status.saveFileMessage() || model.status.loadDatasetMessage() || model.status.logEventMessage() || model.status.saveImage() || model.status.updateSubmissionMessage() || model.status.updateSubmissionStatusMessage() || "");
          }),
          force: {
            updateSubmission: function updateSubmission(data, event) {
              console.log(event);
              self.components.server.updateSubmission(self.model.submission.score(), self.model.submission.correct(), false, true);
              jquery__WEBPACK_IMPORTED_MODULE_2___default()(event.target).fadeOut(100).fadeIn(100);
            }
          }
        }
      };
      Object(interface_js__WEBPACK_IMPORTED_MODULE_8__["makeExtraInterfaceSubscriptions"])(self, model);
    }
  }, {
    key: "turnOnHacks",
    value: function turnOnHacks() {
      //console.log("TODO");
      Sk.builtinFiles.files["src/lib/image.js"] = skulpt_modules_image__WEBPACK_IMPORTED_MODULE_3__["$builtinmodule"].toString();
    }
    /**
     * Applys the KnockoutJS bindings to the model, instantiating the values into the
     * HTML.
     */
  }, {
    key: "applyModel",
    value: function applyModel() {
      ko.applyBindings(this.model);
    }
  }, {
    key: "initUtilities",
    value: function initUtilities() {
      var main = this;
      this.utilities = {
        markdown: function markdown(text) {
          return text ? EasyMDE.prototype.markdown(text) : "<p></p>";
        }
      };
    }
  }, {
    key: "initComponents",
    value: function initComponents() {
      var container = this.model.configuration.container;
      var components = this.components = {};
      var main = this;
      // Each of these components will take the BlockPy instance, and possibly a
      // reference to the relevant HTML location where it will be embedded.
      components.dialog = new _dialog__WEBPACK_IMPORTED_MODULE_15__["BlockPyDialog"](main, container.find(".blockpy-dialog"));
      components.feedback = new feedback_js__WEBPACK_IMPORTED_MODULE_14__["BlockPyFeedback"](main, container.find(".blockpy-feedback"));
      components.trace = new _trace__WEBPACK_IMPORTED_MODULE_12__["BlockPyTrace"](main);
      components.console = new _console__WEBPACK_IMPORTED_MODULE_13__["BlockPyConsole"](main, container.find(".blockpy-console"));
      components.engine = new engine_js__WEBPACK_IMPORTED_MODULE_11__["BlockPyEngine"](main);
      components.fileSystem = new _files__WEBPACK_IMPORTED_MODULE_9__["BlockPyFileSystem"](main);
      components.editors = new editors_js__WEBPACK_IMPORTED_MODULE_5__["Editors"](main, container.find(".blockpy-editor"));
      // Convenient shortcut directly to PythonEditor
      components.pythonEditor = this.components.editors.byName("python");
      components.server = new server_js__WEBPACK_IMPORTED_MODULE_7__["BlockPyServer"](main);
      components.corgis = new _corgis__WEBPACK_IMPORTED_MODULE_17__["BlockPyCorgis"](main);
      components.history = new _history__WEBPACK_IMPORTED_MODULE_18__["BlockPyHistory"](main, container.find(".blockpy-history-toolbar"));
    }
  }, {
    key: "makeExtraSubscriptions",
    value: function makeExtraSubscriptions() {
      var _this2 = this;
      this.model.display.changedInstructions.subscribe(function (changed) {
        _this2.components.server.logEvent("X-Instructions.Change", "", "", changed, "instructions.md");
      });
    }
  }, {
    key: "start",
    value: function start() {
      this.model.display.filename("answer.py");
    }
  }, {
    key: "resetInterface",
    value: function resetInterface() {
      this.components.engine.reset();
    }
  }, {
    key: "requestPasscode",
    value: function requestPasscode() {
      var userSuppliedPasscode = prompt("Please enter the passcode.");
      this.model.display.passcode(userSuppliedPasscode);
    }
  }]);
  return BlockPy;
}();
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! knockout */ "knockout")))

/***/ }),

/***/ "./src/console.js":
/*!************************!*\
  !*** ./src/console.js ***!
  \************************/
/*! exports provided: CONSOLE_HTML, ConsoleLineType, BlockPyConsole */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CONSOLE_HTML", function() { return CONSOLE_HTML; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConsoleLineType", function() { return ConsoleLineType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BlockPyConsole", function() { return BlockPyConsole; });
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities */ "./src/utilities.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }


/**
 * Evaluate button HTML template
 * @type {string}
 */
var START_EVAL_HTML = "\n<button type=\"button\" class=\"btn btn-sm btn-outline float-right blockpy-btn-eval\">\n    Evaluate\n</button>";

/**
 * HTML template for a new line in the console.
 * @type {string}
 */
var NEW_CONSOLE_LINE_HTML = "<div></div>";

/**
 * HTML template for the entire console area
 * @type {string}
 */
var CONSOLE_HTML = "\n    <div class='col-md-6 blockpy-panel blockpy-console'\n          role=\"region\" aria-label=\"Console\"\n          data-bind=\"class: ui.console.size\">\n          \n        <!-- Feedback/Trace Visibility Control -->\n        <button type='button'\n                class='btn btn-sm btn-outline-secondary float-right blockpy-show-feedback'\n                data-bind=\"hidden: ui.secondRow.isConsoleShowVisible, click: ui.secondRow.advanceState\">\n            <span class='fas fa-eye'></span>\n        </button>\n          \n        <strong>Console:</strong>\n        \n        <div class='blockpy-printer blockpy-printer-default'>\n        </div>\n        \n     </div>";

/**
 * All the possible types for a line in the console.
 * @enum
 */
var ConsoleLineType = {
  TEXT: "text",
  HTML: "html",
  PLOT: "plot",
  IMAGE: "image",
  TURTLE: "turtle",
  EVAL: "eval",
  START_EVAL: "start_eval",
  VALUE: "value",
  INPUT: "input",
  TEST_CASE: "test_case"
};

/**
 * Abstract version of a line in the console. All other console lines
 * should extend this class. Critically, they need to implement a render function.
 */
var ConsoleLine = /*#__PURE__*/function () {
  function ConsoleLine(main, type, content) {
    _classCallCheck(this, ConsoleLine);
    /**
     * Reference back to the main BlockPy instance.
     * @const
     * @type {BlockPy}
     */
    this.main = main;
    /**
     * Categorizes what kind of line this is (text/html/plot/etc.)
     * @type {ConsoleLineType}
     */
    this.type = type;
    /**
     * The actual data stored on this line.
     * @type {string}
     */
    this.content = content;
    /**
     * Metadata about where the line originated from in the code.
     * @type {{filename: string, line: number, step: number}}
     */
    this.origin = {
      filename: Sk.currFilename,
      step: main.components.engine.executionBuffer.step,
      line: main.components.engine.executionBuffer.line
    };
    /**
     * The HTML content stored on this line, meant to be rendered
     * to the user.
     * @type {*|jQuery.fn.init|jQuery|HTMLElement}
     */
    this.html = $("<div></div>", {
      "class": "blockpy-printer-output",
      "data-container": main.model.configuration.attachmentPoint,
      "data-toggle": "tooltip",
      "data-placement": "auto",
      "data-step": this.origin.step,
      "title": "Step " + this.origin.step + ", Line " + this.origin.line
    });
    /**
     * Whether or not this line should be visible
     * @type {boolean}
     */
    this.visible = !main.model.display.mutePrinter();
    /**
     *
     * @type {number}
     */
    this.index = 0;
  }

  /**
   * Create a Skulpt representation of this console line's content.
   * @returns {*}
   */
  _createClass(ConsoleLine, [{
    key: "toSkulpt",
    value: function toSkulpt() {
      return Sk.ffi.remapToPy(this.content);
    }
    /**
     * Remove this console line by deleting its HTML representation.
     */
  }, {
    key: "delete",
    value: function _delete() {
      this.html.remove();
    }
  }]);
  return ConsoleLine;
}();
var ConsoleLineTurtle = /*#__PURE__*/function (_ConsoleLine) {
  _inherits(ConsoleLineTurtle, _ConsoleLine);
  var _super = _createSuper(ConsoleLineTurtle);
  // TODO: Capture turtle commands for tracing purposes
  function ConsoleLineTurtle(main) {
    var _this;
    _classCallCheck(this, ConsoleLineTurtle);
    _this = _super.call(this, main, ConsoleLineType.TURTLE);
    _this.html.addClass("blockpy-console-turtle-output");
    return _this;
  }
  _createClass(ConsoleLineTurtle, [{
    key: "render",
    value: function render(where) {
      if (this.visible) {
        where.prepend(this.html);
        //this.html[0].scrollIntoView({ behavior: "smooth" });
        var top = this.html.position().top;
        //$('html').scrollTop(top);
        $("html").scrollTop(0);
        //this.html.tooltip();
      }
    }
  }]);
  return ConsoleLineTurtle;
}(ConsoleLine);
var ConsoleLineImage = /*#__PURE__*/function (_ConsoleLine2) {
  _inherits(ConsoleLineImage, _ConsoleLine2);
  var _super2 = _createSuper(ConsoleLineImage);
  function ConsoleLineImage(main, content) {
    var _this2;
    _classCallCheck(this, ConsoleLineImage);
    _this2 = _super2.call(this, main, ConsoleLineType.IMAGE, content);
    _this2.html.addClass("blockpy-console-image-output");
    return _this2;
  }
  _createClass(ConsoleLineImage, [{
    key: "render",
    value: function render(where) {
      if (this.visible) {
        console.log(this.content);
        this.html.append(this.content);
        where.append(this.html);
        //this.html.tooltip();
      }
    }
  }]);
  return ConsoleLineImage;
}(ConsoleLine);
var ConsoleLinePlot = /*#__PURE__*/function (_ConsoleLine3) {
  _inherits(ConsoleLinePlot, _ConsoleLine3);
  var _super3 = _createSuper(ConsoleLinePlot);
  function ConsoleLinePlot(main, content) {
    var _this3;
    _classCallCheck(this, ConsoleLinePlot);
    _this3 = _super3.call(this, main, ConsoleLineType.PLOT, content);
    _this3.html.addClass("blockpy-console-plot-output");
    return _this3;
  }
  _createClass(ConsoleLinePlot, [{
    key: "render",
    value: function render(where) {
      if (this.visible) {
        where.append(this.html);
        //this.html.tooltip();
      }
    }
  }]);
  return ConsoleLinePlot;
}(ConsoleLine);
var ConsoleLineText = /*#__PURE__*/function (_ConsoleLine4) {
  _inherits(ConsoleLineText, _ConsoleLine4);
  var _super4 = _createSuper(ConsoleLineText);
  function ConsoleLineText() {
    _classCallCheck(this, ConsoleLineText);
    return _super4.apply(this, arguments);
  }
  _createClass(ConsoleLineText, [{
    key: "addContent",
    value: function addContent(content) {
      this.content = this.content + content;
    }
  }, {
    key: "render",
    value: function render(where) {
      if (this.visible) {
        var encodedText = Object(_utilities__WEBPACK_IMPORTED_MODULE_0__["encodeHTML"])(this.content);
        if (!encodedText || encodedText.trim().length <= 0) {
          encodedText = "\n";
        }
        var lineData = $("<samp></samp>", {
          "html": encodedText
        });
        this.html.append(lineData);
        where.append(this.html);
        this.html.tooltip();
      }
    }
  }]);
  return ConsoleLineText;
}(ConsoleLine);
var ConsoleLineValue = /*#__PURE__*/function (_ConsoleLine5) {
  _inherits(ConsoleLineValue, _ConsoleLine5);
  var _super5 = _createSuper(ConsoleLineValue);
  function ConsoleLineValue(main, content) {
    _classCallCheck(this, ConsoleLineValue);
    return _super5.call(this, main, ConsoleLineType.VALUE, content);
  }
  _createClass(ConsoleLineValue, [{
    key: "render",
    value: function render(where) {
      if (this.visible) {
        var encodedText = Object(_utilities__WEBPACK_IMPORTED_MODULE_0__["encodeHTML"])(this.content);
        var lineData = $("<code></code>", {
          "html": encodedText
        });
        this.html.append(lineData);
        where.append(this.html);
        this.html.tooltip();
      }
    }
  }]);
  return ConsoleLineValue;
}(ConsoleLine);
var ConsoleLineInput = /*#__PURE__*/function (_ConsoleLine6) {
  _inherits(ConsoleLineInput, _ConsoleLine6);
  var _super6 = _createSuper(ConsoleLineInput);
  function ConsoleLineInput(main, promptMessage) {
    var _this4;
    _classCallCheck(this, ConsoleLineInput);
    _this4 = _super6.call(this, main, ConsoleLineType.INPUT, promptMessage);
    _this4.visible = true;
    return _this4;
  }

  /**
   * Creates an Input box for receiving input() from the user.
   *
   */
  _createClass(ConsoleLineInput, [{
    key: "render",
    value: function render(where) {
      // Perform any necessary cleaning
      if (this.visible) {
        // Input form
        var inputForm = $("<input type='text' />");
        // Enter button
        var inputBtn = $("<button></button>", {
          "html": "Enter"
        });
        // Group form and button
        var inputGroup = $("<div></div>", {
          "class": "blockpy-console-input"
        });
        inputGroup.append(inputForm);
        inputGroup.append(inputBtn);
        // Prompt box, new line, input group
        var inputBox = $("<div></div>");
        if (this.content !== "\n") {
          var encodedText = Object(_utilities__WEBPACK_IMPORTED_MODULE_0__["encodeHTML"])(this.content);
          var inputMsg = $("<samp></samp>", {
            "html": encodedText
          });
          inputBox.append(inputMsg);
        }
        inputBox.append($("<br>")).append(inputGroup);
        // Render
        this.html.append(inputBox);
        where.append(this.html);
        // Make it interactive
        return this.makeInteractive(inputForm, inputBtn);
      }
      return "";
    }
  }, {
    key: "makeInteractive",
    value: function makeInteractive(input, button) {
      var _this5 = this;
      var resolveOnClick;
      var submittedPromise = new Promise(function (resolve) {
        resolveOnClick = resolve;
      });
      var inputIndex = this.main.model.execution.inputIndex();
      var submitForm = function submitForm() {
        var userInputtedValue = input.val();
        Sk.queuedInput.push(userInputtedValue);
        _this5.main.model.execution.inputIndex(inputIndex + 1);
        _this5.main.model.execution.input().push(userInputtedValue);
        resolveOnClick(userInputtedValue);
        input.prop("disabled", true);
        button.prop("disabled", true);
        _this5.html.tooltip();
      };
      button.click(submitForm);
      input.keyup(function (e) {
        if (e.keyCode === 13) {
          submitForm();
        }
      });
      input.focus();
      if (inputIndex < this.main.model.execution.input().length) {
        var userInputtedValue = this.main.model.execution.input()[inputIndex];
        input.val(userInputtedValue);
        this.main.model.execution.inputIndex(inputIndex + 1);
        return new Promise(function (resolve) {
          input.prop("disabled", true);
          button.prop("disabled", true);
          _this5.html.tooltip();
          resolve(userInputtedValue);
        });
      }
      return submittedPromise;
    }
  }]);
  return ConsoleLineInput;
}(ConsoleLine);
var ConsoleLineEvaluate = /*#__PURE__*/function (_ConsoleLineInput) {
  _inherits(ConsoleLineEvaluate, _ConsoleLineInput);
  var _super7 = _createSuper(ConsoleLineEvaluate);
  function ConsoleLineEvaluate(main) {
    _classCallCheck(this, ConsoleLineEvaluate);
    return _super7.call(this, main, "Evaluate:");
  }
  return ConsoleLineEvaluate;
}(ConsoleLineInput);
var ConsoleLineStartEvaluate = /*#__PURE__*/function (_ConsoleLine7) {
  _inherits(ConsoleLineStartEvaluate, _ConsoleLine7);
  var _super8 = _createSuper(ConsoleLineStartEvaluate);
  function ConsoleLineStartEvaluate(main) {
    var _this6;
    _classCallCheck(this, ConsoleLineStartEvaluate);
    _this6 = _super8.call(this, main, ConsoleLineType.START_EVAL);
    _this6.html.append($(START_EVAL_HTML));
    _this6.html.click(function () {
      _this6.main.model.ui.execute.evaluate();
      _this6["delete"]();
    });
    return _this6;
  }
  _createClass(ConsoleLineStartEvaluate, [{
    key: "render",
    value: function render(where) {
      where.append(this.html);
    }
  }]);
  return ConsoleLineStartEvaluate;
}(ConsoleLine);
var BlockPyConsole = /*#__PURE__*/function () {
  /**
   * An object for managing the console, with features for things like printing, plotting, evaling, inputing.
   * The "printer" is the region where we put things, as opposed to the console as a whole.
   *
   * @constructor
   * @param {Object} main - The main BlockPy instance
   * @param {HTMLElement} tag - The HTML object this is attached to.
   */
  function BlockPyConsole(main, tag) {
    _classCallCheck(this, BlockPyConsole);
    this.main = main;
    this.tag = tag;
    this.printerTag = tag.find(".blockpy-printer");
    this.MINIMUM_WIDTH = 200;
    this.MINIMUM_HEIGHT = 200;
    this.DEFAULT_HEIGHT = this.printerTag.height(); // Let CSS define this
    this.main.model.display.previousConsoleHeight(this.DEFAULT_HEIGHT);
    this.output = this.main.model.execution.output;
    //this.input = this.main.model.execution.input;
    this.settings = {};
    this.clear();

    // TODO: If the user modifies a file, then make the console look faded a little
  }
  _createClass(BlockPyConsole, [{
    key: "clear",
    /**
     * Reset the status of the printer, including removing any text in it and
     * fixing its size.
     */
    value: function clear() {
      this.output.removeAll();
      this.lineBuffer = null;
      this.plotBuffer = null;
      this.printerTag.empty();
      // If the user hasn't changed the console size, we'll reset it
      if (this.main.model.display.previousConsoleHeight() === this.printerTag.height()) {
        this.printerTag.height(this.DEFAULT_HEIGHT);
        this.main.model.display.previousConsoleHeight(this.printerTag.height());
      }
      this.turtleLine = null;
      Sk.TurtleGraphics = {
        target: this.getTurtleLine.bind(this),
        width: this.getWidth(),
        height: this.getHeight(),
        assets: this.loadAsset.bind(this)
      };
    }
  }, {
    key: "loadAsset",
    value: function loadAsset(name) {
      return name;
    }
  }, {
    key: "getTurtleLine",
    value: function getTurtleLine() {
      if (this.turtleLine === null) {
        this.turtleLine = new ConsoleLineTurtle(this.main);
        this.turtleLine.render(this.printerTag);
        // If the user hasn't changed the console size, we'll do so
        if (this.main.model.display.previousConsoleHeight() === this.printerTag.height()) {
          var currentPrinterDimension = this.printerTag.width();
          this.printerTag.height(currentPrinterDimension);
          this.main.model.display.previousConsoleHeight(this.printerTag.height());
          Sk.TurtleGraphics.height = currentPrinterDimension - 40;
        }
      }
      return this.turtleLine.html[0];
    }
  }, {
    key: "finishTurtles",
    value: function finishTurtles() {
      if (this.main.model.assignment.settings.saveTurtleOutput()) {
        var canvas = this.turtleLine.html.find("canvas").last()[0];
        var ctx = canvas.getContext("2d");
        var img = new Image();
        var dataUrl = canvas.toDataURL("image/png");
        this.main.components.server.saveImage("turtle_output", dataUrl);
      }
    } // TODO: turtles should be based on the current width
  }, {
    key: "newTurtle",
    value: function newTurtle() {
      return this;
    }
  }, {
    key: "getWidth",
    value: function getWidth() {
      return Math.max(this.MINIMUM_WIDTH, this.printerTag.width() - 40);
    }
  }, {
    key: "getHeight",
    value: function getHeight() {
      return Math.max(this.MINIMUM_HEIGHT, this.printerTag.height() + 40);
    }
  }, {
    key: "isMuted",
    value: function isMuted() {
      return this.main.model.display.mutePrinter();
    }
    /**
     * Updates each printed element in the printer and makes it hidden
     * or visible, depending on what step we're on.
     *
     * @param {Number} step - The current step of the executed program that we're on; each element in the printer must be marked with a "data-step" property to resolve this.
     * @param {Number} page - Deprecated, not sure what this even does.
     */
  }, {
    key: "stepPrinter",
    value: function stepPrinter(step, page) {
      this.printerTag.find(".blockpy-printer-output").each(function () {
        if ($(this).attr("data-step") <= step) {
          $(this).show();
        } else {
          $(this).hide();
        }
      });
    }
  }, {
    key: "print",
    /**
     * Print a line to the on-screen printer.
     * @param {String} lineText - A line of text to be printed out.
     */
    value: function print(lineText) {
      // Empty strings means do nothing.
      // print("", end="")
      if (!lineText) {
        return;
      }
      var flush = false;
      if (lineText.charAt(lineText.length - 1) === "\n") {
        flush = true;
      }
      var splitLines = lineText.split("\n");
      if (this.lineBuffer === null) {
        this.lineBuffer = new ConsoleLineText(this.main, ConsoleLineType.TEXT, splitLines[0]);
      } else {
        this.lineBuffer.addContent(splitLines[0]);
      }
      for (var i = 1; i < splitLines.length - 1; i++) {
        this.output.push(this.lineBuffer);
        this.lineBuffer.render(this.printerTag);
        this.lineBuffer = new ConsoleLineText(this.main, ConsoleLineType.TEXT, splitLines[i]);
      }
      if (flush) {
        this.output.push(this.lineBuffer);
        this.lineBuffer.render(this.printerTag);
        this.lineBuffer = null;
      }
    }
  }, {
    key: "plot",
    value: function plot(plots) {
      this.plotBuffer = new ConsoleLinePlot(this.main, plots);
      this.plotBuffer.render(this.printerTag);
      return this.plotBuffer;
    }
  }, {
    key: "printPILImage",
    value: function printPILImage(imageData) {
      console.log("TEST", imageData.image);
      this.imageBuffer = new ConsoleLineImage(this.main, imageData.image);
      this.imageBuffer.render(this.printerTag);
      return this.imageBuffer;
    }
  }, {
    key: "printValue",
    value: function printValue(value) {
      var printedValue = new ConsoleLineValue(this.main, value);
      printedValue.render(this.printerTag);
      return printedValue;
    }
    /**
     * Creates and registers a Promise from the Input box
     * @param {String} promptMessage - Message to display to the user.
     *
     */
  }, {
    key: "input",
    value: function input(promptMessage) {
      this.inputBuffer = new ConsoleLineInput(this.main, promptMessage);
      return this.inputBuffer.render(this.printerTag);
    }
  }, {
    key: "evaluate",
    value: function evaluate() {
      this.inputBuffer = new ConsoleLineEvaluate(this.main);
      return this.inputBuffer.render(this.printerTag);
    }
  }, {
    key: "beginEval",
    value: function beginEval() {
      var startEvaluation = new ConsoleLineStartEvaluate(this.main);
      return startEvaluation.render(this.printerTag);
    }
    /**
     * Unconditionally scroll to the bottom of the window.
     *
     */
  }, {
    key: "scrollToBottom",
    value: function scrollToBottom() {
      this.tag.animate({
        scrollTop: this.tag.prop("scrollHeight") - this.tag.prop("clientHeight")
      }, 500);
    }
  }]);
  return BlockPyConsole;
}();
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/corgis.js":
/*!***********************!*\
  !*** ./src/corgis.js ***!
  \***********************/
/*! exports provided: _IMPORTED_DATASETS, _IMPORTED_COMPLETE_DATASETS, BlockPyCorgis */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_IMPORTED_DATASETS", function() { return _IMPORTED_DATASETS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_IMPORTED_COMPLETE_DATASETS", function() { return _IMPORTED_COMPLETE_DATASETS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BlockPyCorgis", function() { return BlockPyCorgis; });
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities */ "./src/utilities.js");


// TODO: editor.bm.blockEditor.extraTools[]

var _IMPORTED_DATASETS = {};
var _IMPORTED_COMPLETE_DATASETS = {};

/**
 * This is a very simplistic helper function that will transform
 * a given button into a "Loaded" state (disabled, pressed state, etc.).
 *
 * @param {HTMLElement} btn - An HTML element to change the text of.
 */
var setButtonLoaded = function setButtonLoaded(btn) {
  btn.addClass("active").addClass("btn-success").removeClass("btn-primary").prop("disabled", true).text("Loaded").attr("aria-pressed", "true");
};

/**
 * Module that connects to the CORGIS datasets and manages interactions
 * with them. This includes loading in datasets at launch and on-the-fly.
 * Note that this has no presence on screen, so it does not have a tag.
 *
 * @constructor
 * @this {BlockPyCorgis}
 * @param {Object} main - The main BlockPy instance
 */
function BlockPyCorgis(main) {
  this.main = main;
  this.loadedDatasets = [];
  this.loadDatasets();
}
BlockPyCorgis.prototype.loadDatasets = function (silently) {
  var _this = this;
  // Load in each the datasets
  var model = this.main.model,
    editor = this.main.components.pythonEditor,
    server = this.main.components.server;
  var imports = [];
  model.assignment.settings.datasets().split(",").forEach(function (name) {
    if (name && !(name in BlockMirrorBlockEditor.EXTRA_TOOLS)) {
      imports.push.apply(imports, _this.importDataset(Object(_utilities__WEBPACK_IMPORTED_MODULE_0__["slug"])(name), name, silently));
    }
  });

  // When datasets are loaded, update the toolbox.
  $.when.apply($, imports).done(function () {
    //console.log("TRIGGERED");
    editor.bm.forceBlockRefresh();
    editor.bm.blockEditor.remakeToolbox();
  }).fail(function (e) {
    console.log(arguments);
    console.error(e);
  }).always(function () {
    server.finalizeSubscriptions();
  });
};

/**
 * Loads the definitions for a dataset into the environment, including
 * the dataset (as a JS file), the skulpt bindings, and the blockly
 * bindings. This requires access to a CORGIS server, and occurs
 * asynchronously. The requests are fired and their deferred objects
 * are returned - callers can use this information to perform an action
 * on completion of the import.
 *
 * @param {String} slug - The URL safe version of the dataset name
 * @param {String} name - The user-friendly version of the dataset name.
 * @returns {Array.<Deferred>} - Returns the async requests as deferred objects.
 */
BlockPyCorgis.prototype.importDataset = function (slug, name) {
  var _this2 = this;
  var url_retrievals = [];
  if (this.main.model.ui.server.isEndpointConnected("importDatasets")) {
    var root = this.main.model.configuration.urls.importDatasets + "blockpy/" + slug + "/" + slug;
    this.main.model.display.loadingDatasets.push(name);
    // Actually get data
    var getDataset = $.getScript(root + "_dataset.js");
    // Load getComplete silently in the background because its big :(
    var getComplete = $.getScript(root + "_complete.js");
    var getSkulpt = $.get(root + "_skulpt.js", function (data) {
      Sk.builtinFiles["files"]["src/lib/" + slug + "/__init__.js"] = data;
    });
    var getBlockly = $.getScript(root + "_blockly.js");
    // On completion, update menus.
    $.when(getDataset, getSkulpt, getBlockly).done(function () {
      _this2.loadedDatasets.push(slug);
      _this2.main.components.pythonEditor.bm.textToBlocks.hiddenImports.push(slug);
      _this2.main.components.pythonEditor.bm.forceBlockRefresh();
      _this2.main.components.pythonEditor.bm.blockEditor.remakeToolbox();
      _this2.main.model.display.loadingDatasets.remove(name);
    });
    url_retrievals.push(getDataset, getSkulpt, getBlockly);
  }
  return url_retrievals;
};

/**
 * Opens a dialog box to present the user with the datasets available
 * through the CORGIS server. This requires a call, so this method
 * completes asynchronously. The dialog is composed of a table with
 * buttons to load the datasets (More than one dataset can be loaded
 * from within the dialog at a time).
 */
BlockPyCorgis.prototype.openDialog = function () {
  var _this3 = this;
  if (this.main.model.ui.server.isEndpointConnected("importDatasets")) {
    var root = this.main.model.configuration.urls.importDatasets;
    $.getJSON(root + "index.json", function (data) {
      // Make up the Body
      var datasets = data.blockpy;
      var documentation = root + "blockpy/index.html";
      var start = $("<p>Documentation is available at <a href='".concat(documentation, "' target=_blank>url</a></p>"));
      var body = $("<table></table>", {
        "class": "table table-bordered table-sm table-striped"
      });
      Object.keys(datasets).sort().map(function (name) {
        var sluggedName = Object(_utilities__WEBPACK_IMPORTED_MODULE_0__["slug"])(datasets[name].name);
        var titleName = name;
        var btn = $('<button type="button" class="btn btn-primary" data-toggle="button" aria-pressed="false" autocomplete="off">Load</button>');
        var imgSrc = root + "../images/datasets/" + name + "-icon.png";
        if (_this3.loadedDatasets.indexOf(sluggedName) > -1) {
          setButtonLoaded(btn);
        } else {
          btn.click(function () {
            _this3.importDataset(sluggedName, "Data - " + datasets[name].title);
            setButtonLoaded(btn);
          });
        }
        //let img = `<img src='${imgSrc}' class="corgis-icon">`;
        $("<tr></tr>")
        //.append($("<td>" + img + "</td>"))
        .append($("<td>" + datasets[name].title + "</td>")).append($("<td>" + datasets[name].overview + "</td>")).append($("<td></td>").append(btn)).appendTo(body);
      });
      body.appendTo(start);
      // Show the actual dialog
      _this3.main.components.dialog.show("Import Datasets", start, null);
    });
  }
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/css/blockpy.css":
/*!*****************************!*\
  !*** ./src/css/blockpy.css ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ }),

/***/ "./src/css/bootstrap_retheme.css":
/*!***************************************!*\
  !*** ./src/css/bootstrap_retheme.css ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ }),

/***/ "./src/dialog.js":
/*!***********************!*\
  !*** ./src/dialog.js ***!
  \***********************/
/*! exports provided: DIALOG_HTML, BlockPyDialog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DIALOG_HTML", function() { return DIALOG_HTML; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BlockPyDialog", function() { return BlockPyDialog; });
// TODO: Dyanmically populate aria-labelledby in this and other places

var DIALOG_HTML = "\n    <div class='blockpy-dialog modal hidden'\n         role=\"dialog\"\n         aria-label='Dialog'\n         aria-hidden=\"true\"\n         aria-modal=\"true\">\n        <div class='modal-dialog modal-lg' role=\"document\">\n            <div class='modal-content' role='region' aria-label='Dialog content'>\n                <div class='modal-header'>\n                    <h4 class='modal-title'>Dynamic Content</h4>\n                    <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                <div class='modal-body' style='max-width:100%; max-height:400px'>\n                </div>\n                <div class='modal-footer'>\n                    <button type='button' class='btn btn-white modal-close' data-dismiss='modal'>Close</button>\n                    <button type='button' class='btn btn-success modal-okay' data-dismiss='modal'>Okay</button>\n                </div>    \n            </div>\n        </div>\n    </div>\n";

/**
 * A utility object for quickly and conveniently generating dialog boxes.
 * Unfortunately, this doesn't dynamically create new boxes; it reuses the same one
 * over and over again. It turns out dynamically generating new dialog boxes
 * is a pain! So we can't stack them.
 *
 * @constructor
 * @this {BlockPyDialog}
 * @param {Object} main - The main BlockPy instance
 * @param {HTMLElement} tag - The HTML object this is attached to.
 */
function BlockPyDialog(main, tag) {
  var _this = this;
  this.main = main;
  this.tag = tag;
  this.titleTag = tag.find(".modal-title");
  this.bodyTag = tag.find(".modal-body");
  this.footerTag = tag.find(".modal-footer");
  this.okayButton = tag.find(".modal-okay");
  this.closeButton = tag.find(".modal-close");
  this.yes = function () {};
  this.no = function () {};
  this.okayButton.click(function () {
    _this.yes();
    _this.tag.modal("hide");
  });
  this.closeButton.click(function () {
    _this.no();
    //this.tag.modal("hide");
  });
}

BlockPyDialog.prototype.close = function () {
  this.tag.modal("hide");
};

/**
 * A simple externally available function for popping up a dialog
 * message. This menu will be draggable by its title.
 *
 * @param {String} title - The title of the message dialog. Can have HTML.
 * @param {String} body - The body of the message dialog. Can have HTML.
 * @param {function} onclose - A function to be run when the user closes the dialog.
 */
BlockPyDialog.prototype.show = function (title, body, onclose) {
  this.titleTag.html(title);
  this.bodyTag.html(body);
  this.tag.modal("show");
  this.okayButton.hide();
  this.tag.draggable({
    "handle": ".modal-title"
  });
  this.tag.on("hidden.bs.modal", function (e) {
    if (onclose !== undefined && onclose !== null) {
      onclose();
    }
  });
};
BlockPyDialog.prototype.confirm = function (title, body, yes, no, yesText) {
  if (yesText === undefined) {
    yesText = "Okay";
  }
  this.show(title, body, no);
  this.yes = yes;
  this.no = no;
  this.okayButton.show().html(yesText);
  // TODO: add okay button and cancel button
};

BlockPyDialog.prototype.ASSIGNMENT_VERSION_CHANGED = function () {
  this.confirm("Assignment Changed", "Your instructor has made changes to this assignment. Would you like to reload? All your work has been saved.");
};
BlockPyDialog.prototype.ERROR_LOADING_ASSIGNMNENT = function (reason) {
  this.show("Error Loading Assignment", "BlockPy encountered an error while loading the assignment.<br>\nPlease reload the page and try again.<br>Response from server was:<br><pre>".concat(reason, "</pre>"));
};
BlockPyDialog.prototype.ERROR_SHOW_STUDENT_ERROR = function (error) {
  this.show("Original Error", "When I ran your code, I encountered an error:\n\n<div class=\"blockpy-dialog-student-error-message\">".concat(error, "</div>"));
};
BlockPyDialog.prototype.POSITIVE_FEEDBACK_FULL = function (title, message) {
  this.show(title, message);
};
BlockPyDialog.prototype.SCREENSHOT_BLOCKS = function () {
  // TODO
};
BlockPyDialog.prototype.ERROR_UPDATING_SUBMISSION_STATUS = function () {
  this.show("Error Updating Submission Status", "BlockPy encountered an error while updating your submission status.<br>\nPlease reload the page and try again.");
};
BlockPyDialog.prototype.ERROR_LOADING_HISTORY = function () {
  this.show("Error Loading History", "BlockPy encountered an error while loading your history.<br>\nPlease reload the page and try again.");
};
BlockPyDialog.prototype.EDIT_INPUTS = function () {
  var _this2 = this;
  var inputText = this.main.model.execution.input().join("\n");
  var clearInputs = this.main.model.display.clearInputs() ? "" : "checked";
  var yes = function yes() {
    var checked = _this2.tag.find(".blockpy-remember-inputs").prop("checked");
    var inputs = _this2.tag.find(".blockpy-input-list").val().split("\n");
    _this2.main.model.display.clearInputs(!checked);
    _this2.main.model.execution.input(inputs);
  };
  this.confirm("Edit Remembered Inputs", "\n\n<div class=\"form-check\">\n<input type=\"checkbox\" class=\"blockpy-remember-inputs form-check-input\"\n        name=\"blockpy-remember-inputs\" ".concat(clearInputs, ">\n<label class=\"form-check-label\" for=\"blockpy-remember-inputs\">Reuse inputs for next execution</label>\n</div>\n\n<textarea class=\"blockpy-input-list form-control\" rows=\"4\">").concat(inputText, "</textarea><br>\nEdit the inputs above to store and reuse them across multiple executions.\nEach input should be put on its own line.\nYou do not need quotes; the text will be entered literally.\n \n"), yes, this.no, "Save");
  // TODO: Allow user to specify the infinite string to keep giving when the others run out
};

/***/ }),

/***/ "./src/editor/abstract_editor.js":
/*!***************************************!*\
  !*** ./src/editor/abstract_editor.js ***!
  \***************************************/
/*! exports provided: uploadFile, sluggify, downloadFile, AbstractEditor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uploadFile", function() { return uploadFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sluggify", function() { return sluggify; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "downloadFile", function() { return downloadFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AbstractEditor", function() { return AbstractEditor; });
/* harmony import */ var _editors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../editors */ "./src/editors.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function uploadFile(model, event) {
  var fileReader = new FileReader();
  var files = event.target.files;
  fileReader.onload = function (e) {
    return model.ui.editors.current().uploadFile(e);
  };
  fileReader.fileName = files[0].name;
  fileReader.readAsText(files[0]);
  event.target.value = "";
}
function sluggify(text) {
  return text.replace(/[^a-z0-9]/gi, "_").toLowerCase();
}
function downloadFile(model, event) {
  var _model$ui$editors$cur = model.ui.editors.current().downloadFile(),
    name = _model$ui$editors$cur.name,
    extension = _model$ui$editors$cur.extension,
    contents = _model$ui$editors$cur.contents,
    mimetype = _model$ui$editors$cur.mimetype; // Make safe
  name = sluggify(name);
  name = name + extension;
  // Make the data download as a file
  var blob = new Blob([contents], {
    type: mimetype
  });
  if (window.navigator.msSaveOrOpenBlob) {
    window.navigator.msSaveBlob(blob, name);
  } else {
    var temporaryDownloadLink = window.document.createElement("a");
    temporaryDownloadLink.href = window.URL.createObjectURL(blob);
    temporaryDownloadLink.download = name;
    document.body.appendChild(temporaryDownloadLink);
    temporaryDownloadLink.click();
    document.body.removeChild(temporaryDownloadLink);
  }
}
var AbstractEditor = /*#__PURE__*/function () {
  function AbstractEditor(main, tag) {
    _classCallCheck(this, AbstractEditor);
    this.main = main;
    this.tag = tag;
    this.fileSystem = main.components.fileSystem;
    this.filename = null;
    this.file = null;
  }
  _createClass(AbstractEditor, [{
    key: "deleteFile",
    value: function deleteFile() {
      this.fileSystem.deleteFile(this.filename);
      this.main.model.display.filename("answer.py");
      this.main.components.editors.changeEditor("answer.py");
    }
  }, {
    key: "onFileDeleted",
    value: function onFileDeleted() {
      // TODO: Switch to the previous file instead of a default file
      this.main.model.display.filename("answer.py");
      this.main.components.editors.changeEditor("answer.py");
    }
  }, {
    key: "onFileUpdated",
    value: function onFileUpdated(file) {
      if (file.filename === this.filename) {
        //this.file = file;
        this.main.components.editors.changeEditor(this.filename);
        //this.fileSystem.stopWatchingFile(this.filename);
        //this.trackCurrentFile();
      }
    }
  }, {
    key: "trackCurrentFile",
    value: function trackCurrentFile() {
      this.fileSystem.watchFile(this.filename, {
        updated: this.onFileUpdated.bind(this),
        deleted: this.onFileDeleted.bind(this)
      });
    }
  }, {
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      this.filename = newFilename;
      this.file = this.fileSystem.getFile(newFilename);
      this.trackCurrentFile();
    }
    /**
     *
     * @param newFilename - the filename that the other editor will be switching to
     * @param oldEditor
     * @param newEditor
     */
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      this.fileSystem.stopWatchingFile(this.filename);
      this.file = null;
      this.filename = null;
    }
  }, {
    key: "uploadFile",
    value: function uploadFile(event) {
      var filename = event.target.fileName;
      var contents = event.target.result;
      this.file.handle(contents);
    }
  }, {
    key: "downloadFile",
    value: function downloadFile() {
      var filename = _editors__WEBPACK_IMPORTED_MODULE_0__["Editors"].parseFilename(this.filename);
      return {
        name: filename.name,
        extension: filename.type,
        contents: this.file.handle(),
        mimetype: "text/plain"
      };
    }
  }]);
  return AbstractEditor;
}();

/***/ }),

/***/ "./src/editor/assignment_settings.js":
/*!*******************************************!*\
  !*** ./src/editor/assignment_settings.js ***!
  \*******************************************/
/*! exports provided: ASSIGNMENT_SETTINGS_EDITOR_HTML, saveAssignmentSettings, loadAssignmentSettings, makeAssignmentSettingsModel, AssignmentSettings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(ko) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ASSIGNMENT_SETTINGS_EDITOR_HTML", function() { return ASSIGNMENT_SETTINGS_EDITOR_HTML; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "saveAssignmentSettings", function() { return saveAssignmentSettings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadAssignmentSettings", function() { return loadAssignmentSettings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeAssignmentSettingsModel", function() { return makeAssignmentSettingsModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssignmentSettings", function() { return AssignmentSettings; });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
/* harmony import */ var _python__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./python */ "./src/editor/python.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }
function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }


var ASSIGNMENT_SETTINGS = [["toolbox", "toolbox", "normal", "toolbox", "Which version of the toolbox to present to the user."], ["passcode", "passcode", "", "string", "A string that the user must enter to access the problem. If blank, then no passcode is prompted."],
//["toolboxLevel", "toolbox_level", "normal", "toolbox", "INCOMPLETE: What level of toolbox to present to the user (hiding and showing categories)."],
["startView", "start_view", _python__WEBPACK_IMPORTED_MODULE_1__["DisplayModes"].SPLIT, _python__WEBPACK_IMPORTED_MODULE_1__["DisplayModes"], "The Python editor mode to start in when the student starts the problem."], ["datasets", "datasets", "", "string", "The current list of datasets available on load as a comma-separated string."], ["disableTimeout", "disable_timeout", false, "bool", "If checked, then students code is allowed to run without timeouts (potentially allowing infinite loops)."], ["isParsons", "is_parsons", false, "bool", "If checked, then this is a parson's style question (jumbled)."], ["disableFeedback", "disable_feedback", false, "bool", "If checked, then no instructor scripts are run (e.g., on_run and on_eval)."], ["disableInstructorRun", "disable_instructor_run", false, "bool", "If checked, then the instructor on_run will not automatically run the students' code. This still runs the students' code."], ["disableStudentRun", "disable_student_run", false, "bool", "If checked, then the run button no longer run the students' code. This still runs the instructor's feedback on_run script."], ["disableTifa", "disable_tifa", false, "bool", "If checked, then do not automatically run Tifa (which can be slow)."], ["disableTrace", "disable_trace", false, "bool", "If checked, then the students code will not have its execution traced (no variables recorded, no coverage tracked)."], ["disableEdit", "disable_edit", false, "bool", "If checked, then the students' file will not be editable."], ["enableImages", "can_image", false, "bool", "If checked, then users can copy/paste images directly into the text editor."], ["enableBlocks", "can_blocks", true, "bool", "If checked, then the student can edit the block interface (if not, then it is visible but not editable)."], ["canClose", "can_close", false, "bool", "If checked, then the student should mark their submission closed when they are done. There is no way to force a student to do so. Unlike Reviewed, this still submits the correctness."], ["onlyInteractive", "only_interactive", false, "bool", "If checked, the editors are hidden, the program is automatically run, and then the console enters Eval mode (interactive)."], ["onlyUploads", "only_uploads", false, "bool", "If checked, then the students' file will not be directly editable (they will have to upload submissions)."],
// What menus/feedback to show and hide
["hideSubmission", "hide_submission", false, "bool", "If checked, then students will not be able to see their submission's code or history on Canvas."], ["hideFiles", "hide_files", true, "bool", "If checked, then students will not see the View Files toolbar."], ["hideQueuedInputs", "hide_queued_inputs", false, "bool", "If checked, then the students cannot access the queued inputs box (makes repeated debugging easier for the input function)."], ["hideEditors", "hide_editors", false, "bool", "If checked, then all of the editors are hidden."], ["hideMiddlePanel", "hide_middle_panel", false, "bool", "If checked, then the console and feedback areas is hidden."], ["hideAll", "hide_all", false, "bool", "INCOMPLETE: If checked, then the entire interface is hidden."], ["hideEvaluate", "hide_evaluate", false, "bool", "If checked, then the Evaluate button is not shown on the console."], ["hideImportDatasetsButton", "hide_import_datasets_button", false, "bool", "If checked, then students cannot see the import datasets button."],
// TODO: Fix this one to be settable
["hideImportStatements", "hide_import_statements", false, "bool", "INCOMPLETE: If checked, certain kinds of import statements (matplotlib, turtle, datasets) are not shown in the block interface."], ["hideCoverageButton", "hide_coverage_button", false, "bool", "INCOMPLETE: If checked, the coverage button is not shown."], ["saveTurtleOutput", "save_turtle_output", false, "bool", "If checked, then turtle output is saved whenever the program uses it."]];
function getDocumentation(name) {
  for (var i = 0; i < ASSIGNMENT_SETTINGS.length; i++) {
    if (ASSIGNMENT_SETTINGS[i][0] === name) {
      return ASSIGNMENT_SETTINGS[i][4];
    }
  }
  return "Documentation not found for field";
}
function makeStartViewTab(name, icon, mode) {
  return "<label class=\"btn btn-outline-secondary blockpy-mode-set-blocks\"\n                data-bind=\"css: {active: assignment.settings.startView() === '".concat(mode, "'},\n                           click: assignment.settings.startView.bind($data, '").concat(mode, "')\">\n                <span class='fas fa-").concat(icon, "'></span>\n                <input type=\"radio\" name=\"blockpy-start-view-set\" autocomplete=\"off\" checked> ").concat(name, "\n            </label>");
}
var ASSIGNMENT_SETTINGS_BOOLEAN_COMPONENTS_HTML = ASSIGNMENT_SETTINGS
// Only handle the simple booleans this way
.filter(function (setting) {
  return setting[3] === "bool";
}).map(function (setting) {
  var prettyName = setting[1].split("_").map(function (word) {
    return word.charAt(0).toUpperCase() + word.slice(1);
  }).join(" ");
  return "\n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-check-label\" for=\"blockpy-settings-".concat(setting[0], "\">").concat(prettyName, "</label>\n            </div>\n            <div class=\"col-sm-1\">\n                <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"blockpy-settings-").concat(setting[0], "\"\n                    data-bind=\"checked: assignment.settings.").concat(setting[0], "\">\n                </div>  \n            </div>            \n            <div class=\"col-sm-9\">\n                <small class=\"form-text text-muted\">\n                    ").concat(setting[4], "\n                </small>\n            </div>\n        </div>\n        ");
}).join("\n\n");
var ASSIGNMENT_SETTINGS_EDITOR_HTML = "\n    <div class=\"blockpy-view-settings\">\n    \n    <form>\n\n        <div class=\"form-group row\">\n            <div class=\"col-sm-12 mx-auto\">\n                <button type=\"button\" class=\"btn btn-success\"\n                    data-bind=\"click: ui.editors.settings.save\">Save changes</button>\n            </div>\n        </div>\n    \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-name\" class=\"col-sm-2 col-form-label text-right\">Name:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-name\"\n                data-bind=\"value: assignment.name\">\n                <small class=\"form-text text-muted\">\n                    The student-facing name of the assignment. Assignments within a group are ordered alphabetically\n                    by their name, so you may want to use a naming scheme like \"#43.5) Whatever\".\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-url\" class=\"col-sm-2 col-form-label text-right\">URL:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-url\"\n                data-bind=\"value: assignment.url\">\n                <small class=\"form-text text-muted\">\n                    The course-unique URL that can be used to consistently refer to this assignment. \n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-check-label\" for=\"blockpy-settings-public\">Public:</label>\n            </div>\n            <div class=\"col-sm-1\">\n                <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"blockpy-settings-public\"\n                    data-bind=\"checked: assignment.public\">\n                </div>  \n            </div>            \n            <div class=\"col-sm-9\">\n                <small class=\"form-text text-muted\">\n                    If not public, users outside of the course will not be able to see the assignment in course listings.\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-check-label\" for=\"blockpy-settings-hidden\">Hidden:</label>\n            </div>\n            <div class=\"col-sm-1\">\n                <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"blockpy-settings-hidden\"\n                    data-bind=\"checked: assignment.hidden\">\n                </div>  \n            </div>            \n            <div class=\"col-sm-9\">\n                <small class=\"form-text text-muted\">\n                    If hidden, students will not be able to see their grade while working on the assignment.\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-check-label\" for=\"blockpy-settings-reviewed\">Reviewed:</label>\n            </div>\n            <div class=\"col-sm-1\">\n                <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"blockpy-settings-reviewed\"\n                    data-bind=\"checked: assignment.reviewed\">\n                </div>  \n            </div>            \n            <div class=\"col-sm-9\">\n                <small class=\"form-text text-muted\">\n                    If reviewed, the assignment need to be commented upon and regraded by the staff after submission.\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-check-label\" for=\"blockpy-settings-reviewed\">Starting View:</label>\n            </div>\n            <div class=\"col-sm-3\">\n                <div class=\"btn-group btn-group-toggle mr-2\" data-toggle=\"buttons\">\n                    ".concat(makeStartViewTab("Blocks", "th-large", _python__WEBPACK_IMPORTED_MODULE_1__["DisplayModes"].BLOCK), "\n                    ").concat(makeStartViewTab("Split", "columns", _python__WEBPACK_IMPORTED_MODULE_1__["DisplayModes"].SPLIT), "\n                    ").concat(makeStartViewTab("Text", "align-left", _python__WEBPACK_IMPORTED_MODULE_1__["DisplayModes"].TEXT), "\n                 </div>\n            </div>            \n            <div class=\"col-sm-7\">\n                <small class=\"form-text text-muted\">\n                    ").concat(getDocumentation("startView"), "\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-ip-ranges\" class=\"col-sm-2 col-form-label text-right\">IP Ranges:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-ip-ranges\"\n                data-bind=\"value: assignment.ipRanges\">\n                <small class=\"form-text text-muted\">\n                    Provide a comma-separated list of IP Addresses that will be explicitly allowed. If blank,\n                    then all addresses are allowed. If an address starts with <code>^</code> then it it is explicitly\n                    blacklisted, but that can be overridden in turn with a <code>!</code>. Addresses can also\n                    include a bit mask to allow a range of addresses.\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-passcode\" class=\"col-sm-2 col-form-label text-right\">Passcode:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-passcode\"\n                data-bind=\"value: assignment.settings.passcode\">\n                <small class=\"form-text text-muted\">\n                    ").concat(getDocumentation("passcode"), "\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-datasets\" class=\"col-sm-2 col-form-label text-right\">Preloaded Datasets:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-datasets\"\n                data-bind=\"value: assignment.settings.datasets\">\n                <small class=\"form-text text-muted\">\n                    ").concat(getDocumentation("datasets"), "\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-toolbox\" class=\"col-sm-2 col-form-label text-right\">Block Toolbox:</label>\n            <div class=\"col-sm-10\">\n                <select class=\"form-control\" id=\"blockpy-settings-toolbox\"\n                       data-bind=\"value: assignment.settings.toolbox\">\n                   <option value=\"normal\">Normal Toolbox</option>\n                   <option value=\"ct\">CT@VT Toolbox</option>\n                   <option value=\"ct2\">CT@VT Toolbox V2</option>\n                   <option value=\"minimal\">Minimal Set</option>\n                   <option value=\"full\">All Blocks</option>\n                </select>\n                <small class=\"form-text text-muted\">\n                    ").concat(getDocumentation("toolbox"), "\n                </small>\n            </div>\n        </div>\n        \n        ").concat(ASSIGNMENT_SETTINGS_BOOLEAN_COMPONENTS_HTML, "\n    </form>\n    \n    </div>\n");
function saveAssignmentSettings(model) {
  var settings = {};
  ASSIGNMENT_SETTINGS.forEach(function (setting) {
    var clientName = setting[0],
      serverName = setting[1],
      defaultValue = setting[2];
    var value = model.assignment.settings[clientName]();
    // Only store this setting if its different from the default
    if (value !== defaultValue) {
      settings[serverName] = value;
    }
  });
  return JSON.stringify(settings);
}
function loadAssignmentSettings(model, settings) {
  if (settings) {
    settings = JSON.parse(settings);
    ASSIGNMENT_SETTINGS.forEach(function (setting) {
      var clientName = setting[0],
        serverName = setting[1];
      if (serverName in settings) {
        model.assignment.settings[clientName](settings[serverName]);
      } else {
        model.assignment.settings[clientName](setting[2]);
      }
    });
    if (settings.start_view) {
      model.display.pythonMode(settings.start_view);
    }
  }
}
function makeAssignmentSettingsModel(configuration) {
  var settings = {};
  ASSIGNMENT_SETTINGS.forEach(function (setting) {
    var clientName = setting[0],
      serverName = setting[1],
      defaultValue = setting[2],
      fieldType = setting[3];
    if (configuration["assignment.settings." + serverName] === undefined) {
      settings[clientName] = ko.observable(defaultValue);
    } else {
      var configValue = configuration["assignment.settings." + serverName];
      if (fieldType === "bool") {
        configValue = configValue.toLowerCase() === "true";
      }
      settings[clientName] = ko.observable(configValue);
    }
  });
  return settings;
}
var AssignmentSettingsView = /*#__PURE__*/function (_AbstractEditor) {
  _inherits(AssignmentSettingsView, _AbstractEditor);
  var _super = _createSuper(AssignmentSettingsView);
  function AssignmentSettingsView(main, tag) {
    var _this;
    _classCallCheck(this, AssignmentSettingsView);
    _this = _super.call(this, main, tag);
    _this.dirty = false;
    return _this;
  }
  _createClass(AssignmentSettingsView, [{
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      _get(_getPrototypeOf(AssignmentSettingsView.prototype), "enter", this).call(this, newFilename, oldEditor);
      console.log(this.file);
      this.dirty = false;
      //TODO: this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
      // this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));
      // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);

      //TODO: this.codeMirror.on("change", this.currentListener);
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        // TODO: Do update

        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        //this.file.handle(this.codeMirror.value());
        // TODO: Update
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      //this.currentSubscription.dispose();
      // TODO: update
      //this.codeMirror.off("change", this.currentListener);
      _get(_getPrototypeOf(AssignmentSettingsView.prototype), "exit", this).call(this, newFilename, oldEditor);
    }
  }]);
  return AssignmentSettingsView;
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__["AbstractEditor"]);
var AssignmentSettings = {
  name: "Assignment Settings",
  extensions: ["!assignment_settings.blockpy"],
  constructor: AssignmentSettingsView,
  template: ASSIGNMENT_SETTINGS_EDITOR_HTML
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! knockout */ "knockout")))

/***/ }),

/***/ "./src/editor/markdown.js":
/*!********************************!*\
  !*** ./src/editor/markdown.js ***!
  \********************************/
/*! exports provided: MARKDOWN_EDITOR_HTML, MarkdownEditor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKDOWN_EDITOR_HTML", function() { return MARKDOWN_EDITOR_HTML; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MarkdownEditor", function() { return MarkdownEditor; });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }
function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var MARKDOWN_EDITOR_HTML = "\n    <textarea class=\"blockpy-editor-markdown\"></textarea>    \n";
var MarkdownEditorView = /*#__PURE__*/function (_AbstractEditor) {
  _inherits(MarkdownEditorView, _AbstractEditor);
  var _super = _createSuper(MarkdownEditorView);
  function MarkdownEditorView(main, tag) {
    var _this;
    _classCallCheck(this, MarkdownEditorView);
    _this = _super.call(this, main, tag);
    _this.mde = new EasyMDE({
      element: tag.find(".blockpy-editor-markdown")[0],
      autoDownloadFontAwesome: false,
      forceSync: true,
      minHeight: "500px",
      // TODO: imageUploadFunction
      renderingConfig: {
        codeSyntaxHighlighting: true
      },
      indentWithTabs: false,
      tabSize: 4
    });
    _this.dirty = false;
    return _this;
  }
  _createClass(MarkdownEditorView, [{
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      _get(_getPrototypeOf(MarkdownEditorView.prototype), "enter", this).call(this, newFilename, oldEditor);
      this.dirty = false;
      this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));
      // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);
      this.mde.codemirror.on("change", this.currentListener);
      if (oldEditor !== this) {
        // Delay so that everything is rendered
        setTimeout(this.mde.codemirror.refresh.bind(this.mde.codemirror), 1);
      }
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.mde.value(newContents);
        this.mde.codemirror.refresh();
        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.file.handle(this.mde.value());
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.currentSubscription.dispose();
      this.mde.codemirror.off("change", this.currentListener);
      _get(_getPrototypeOf(MarkdownEditorView.prototype), "exit", this).call(this, newFilename, oldEditor);
    }
  }]);
  return MarkdownEditorView;
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__["AbstractEditor"]);
var MarkdownEditor = {
  name: "Markdown",
  extensions: [".md"],
  constructor: MarkdownEditorView,
  template: MARKDOWN_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/python.js":
/*!******************************!*\
  !*** ./src/editor/python.js ***!
  \******************************/
/*! exports provided: DisplayModes, PYTHON_EDITOR_HTML, PythonEditor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DisplayModes", function() { return DisplayModes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PYTHON_EDITOR_HTML", function() { return PYTHON_EDITOR_HTML; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PythonEditor", function() { return PythonEditor; });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
/* harmony import */ var _history__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../history */ "./src/history.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }
function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }
/**
 * TODO: rename files, manual save, tags, sample_submissions, on_eval, non-builtin files
 * TODO: import data, history, run, url_data, assignment_settings, parsons_mode
 * TODO: delete becomes "clear" for instructor files
 */

/**
 *
 * @enum {str}
 */


var DisplayModes = {
  BLOCK: "block",
  SPLIT: "split",
  TEXT: "text"
};
function makeTab(name, icon, mode) {
  return "<label class=\"btn btn-outline-secondary blockpy-mode-set-blocks\"\n                data-bind=\"css: {active: display.pythonMode() === '".concat(mode, "'},\n                           click: ui.editors.python.updateMode.bind($data, '").concat(mode, "')\">\n                <span class='fas fa-").concat(icon, "'></span>\n                <input type=\"radio\" name=\"blockpy-mode-set\" autocomplete=\"off\" checked> ").concat(name, "\n            </label>");
}
var PYTHON_EDITOR_HTML = "\n\n    <div class=\"blockpy-python-toolbar col-md-12 btn-toolbar\"\n         role=\"toolbar\" aria-label=\"Python Toolbar\">\n\n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Run Group\">         \n            <button type=\"button\" class=\"btn blockpy-run notransition\"\n                data-bind=\"click: ui.execute.run,\n                            css: {'blockpy-run-running': ui.execute.isRunning}\">\n                <span class=\"fas fa-play\"></span> Run\n             </button>\n         </div>\n         \n         <div class=\"btn-group btn-group-toggle mr-2\" data-toggle=\"buttons\">\n            <!-- ko if: $root.assignment.settings.enableBlocks() -->\n            ".concat(makeTab("Blocks", "th-large", DisplayModes.BLOCK), "\n            ").concat(makeTab("Split", "columns", DisplayModes.SPLIT), "\n            ").concat(makeTab("Text", "align-left", DisplayModes.TEXT), "\n            <!-- /ko -->\n         </div>\n\n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Reset Group\">\n             <button type=\"button\" class=\"btn btn-outline-secondary\"\n                 data-bind=\"click: ui.editors.reset\">\n                 <span class=\"fas fa-sync\"></span> Reset\n              </button>\n         </div>\n         \n         <!-- ko if: !assignment.settings.hideImportDatasetsButton() -->\n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Import Group\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\"\n                data-bind=\"click: ui.editors.importDataset\">\n                <span class=\"fas fa-cloud-download-alt\"></span> Import datasets\n             </button>\n         </div>\n         <!-- /ko -->\n         \n         <div class=\"btn-group mr-2\">\n                <label class=\"btn btn-outline-secondary\">\n                    <span class=\"fas fa-file-upload\"></span> Upload\n                    <input class=\"blockpy-toolbar-upload\" type=\"file\"\n                        hidden\n                        data-bind=\"event: {change: ui.editors.upload}\">\n                 </label>\n\n                <button type=\"button\" class=\"btn btn-outline-secondary dropdown-toggle dropdown-toggle-split\"\n                    data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    <span class=\"caret\"></span>\n                    <span class=\"sr-only\">Toggle Dropdown</span>\n                </button>\n                \n                <div class=\"dropdown-menu dropdown-menu-right\">\n                    <a class='dropdown-item blockpy-toolbar-download'\n                        data-bind=\"click: ui.editors.download\">\n                    <span class='fas fa-download'></span> Download\n                    </a>\n                </div>\n            </div>\n         \n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"History Group\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\"\n                aria-pressed=\"false\"\n                data-bind=\"click: ui.editors.python.toggleHistoryMode,\n                           enable: ui.editors.python.isHistoryAvailable,\n                           css: { active: display.historyMode },\n                           attr: { 'aria-pressed': display.historyMode }\">\n                <span class=\"fas fa-history\"></span> History\n             </button>\n         </div>\n         \n         <!-- Fully functional, but a little too.. Invasive \n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Fullscreen Group\"\n            data-bind=\"visible: display.pythonMode() === 'text'\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\"\n                data-bind=\"click: ui.editors.python.fullscreen\">\n                <span class=\"fas fa-expand-arrows-alt\"></span> Fullscreen\n             </button>\n         </div>\n         -->\n         \n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Save Group\"\n            data-bind=\"visible: ui.editors.canSave\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\">\n                <span class=\"fas fa-save\"></span> Save\n             </button>\n         </div>\n         \n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Delete Group\"\n            data-bind=\"visible: ui.editors.canDelete\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\",\n                data-bind=\"click: ui.files.delete\">\n                <span class=\"fas fa-trash\"></span> Delete\n             </button>\n         </div>\n         \n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Rename Group\"\n            data-bind=\"visible: ui.editors.canRename\">\n             <button type=\"button\" class=\"btn btn-outline-secondary\">\n                <span class=\"fas fa-file-signature\"></span> Rename\n             </button>\n         </div>\n         \n    </div>\n    \n    ").concat(_history__WEBPACK_IMPORTED_MODULE_1__["HISTORY_TOOLBAR_HTML"], "\n\n\n    <div class=\"blockpy-python-blockmirror\"\n        data-bind=\"hidden: ui.menu.isSubmitted\">\n    </div>\n");
function convertIpynbToPython(code) {
  var ipynb = JSON.parse(code);
  var isUsable = function isUsable(cell) {
    if (cell.cell_type === "code") {
      return cell.source.length > 0 && !cell.source[0].startsWith("%");
    } else {
      return cell.cell_type === "markdown" || cell.cell_type === "raw";
    }
  };
  var makePython = function makePython(cell) {
    if (cell.cell_type === "code") {
      return cell.source.join("\n");
    } else if (cell.cell_type === "markdown" || cell.cell_type === "raw") {
      return "'''" + cell.source.join("\n") + "'''";
    }
  };
  return ipynb.cells.filter(isUsable).map(makePython).join("\n");
}
var PythonEditorView = /*#__PURE__*/function (_AbstractEditor) {
  _inherits(PythonEditorView, _AbstractEditor);
  var _super = _createSuper(PythonEditorView);
  function PythonEditorView(main, tag) {
    var _this;
    _classCallCheck(this, PythonEditorView);
    _this = _super.call(this, main, tag.find(".blockpy-python-blockmirror"));
    Blockly.setParentContainer(main.model.configuration.container[0]);
    _this.bm = new BlockMirror({
      "container": _this.tag[0],
      "run": main.components.engine.run.bind(main.components.engine),
      "skipSkulpt": true,
      "blocklyMediaPath": main.model.configuration.blocklyPath,
      "toolbox": main.model.assignment.settings.toolbox(),
      "imageMode": true,
      imageDownloadHOok: function imageDownloadHOok(oldUrl) {
        return oldUrl;
      },
      imageUploadHook: function imageUploadHook(blob) {
        return Promise.resolve("Image(" + JSON.stringify(URL.createObjectURL(blob)) + ")");
      },
      imageLiteralHook: function imageLiteralHook(oldUrl) {
        return "Image(\"".concat(oldUrl, "\")");
      }
      //'height': '2000px'
    });

    _this.dirty = false;
    _this.readOnly = false;
    _this.makeSubscriptions();
    _this.lineErrorSubscription = null;
    _this.lineUncoveredSubscription = null;
    _this.oldPythonMode = _this.main.model.display.pythonMode();
    _this.makePerAssignmentSubscriptions();
    return _this;
  }
  _createClass(PythonEditorView, [{
    key: "configureExtraBlockly",
    value: function configureExtraBlockly() {
      var _this2 = this;
      this.bm.blockEditor.workspace.configureContextMenu = function (options) {
        options.push({
          enabled: true,
          text: "Screenshot",
          callback: function callback() {
            return _this2.main.components.dialog.SCREENSHOT_BLOCKS;
          }
        });
      };
    }
  }, {
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      var _this3 = this;
      var oldFilename = this.filename;
      _get(_getPrototypeOf(PythonEditorView.prototype), "enter", this).call(this, newFilename, oldEditor);
      this.dirty = false;
      if (newFilename !== "answer.py") {
        if (oldFilename === "answer.py") {
          this.oldPythonMode = this.main.model.display.pythonMode();
        }
        this.main.model.display.pythonMode(DisplayModes.TEXT);
      } else {
        this.main.model.display.pythonMode(this.oldPythonMode);
      }
      this.updateEditor(this.file.handle());

      // Subscribe to the relevant File
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));

      // Notify relevant file of changes to BM
      this.currentBMListener = this.updateHandle.bind(this);
      this.bm.addChangeListener(this.currentBMListener);
      if (newFilename !== "answer.py") {
        this.bm.isParsons = function () {
          return false;
        };
      } else {
        this.bm.isParsons = this.main.model.assignment.settings.isParsons;
        this.lineErrorSubscription = this.main.model.execution.feedback.linesError.subscribe(function (lines) {
          return _this3.bm.setHighlightedLines(lines, "editor-error-line");
        });
        this.lineUncoveredSubscription = this.main.model.execution.feedback.linesUncovered.subscribe(function (lines) {
          return _this3.bm.setHighlightedLines(lines, "editor-uncovered-line");
        });
      }

      //this.bm.blockEditor.workspace.render();
      //this.bm.refresh();
      // TODO: Figure out why this doesn't end up looking right (go to a different editor, come back, and it'll be squished)
      //this.bm.refresh();
      setTimeout(function () {
        return _this3.bm.refresh();
      }, 0);
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      if (newContents === undefined) {
        if (this.file !== null) {
          newContents = this.file.handle();
        } else {
          // Doesn't matter, file was already shut down.
          newContents = "";
        }
      } else if (newContents === null) {
        // We're closing this file
        this.main.components.fileSystem.deleteFileLocally_(this.filename);
        return;
      }
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.bm.setCode(newContents);
        // Delay so that everything is rendered
        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.bm.clearHighlightedLines();
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        if (!this.main.model.display.historyMode()) {
          this.file.handle(this.bm.getCode());
        }
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.dirty = false;
      this.currentSubscription.dispose();
      this.bm.removeChangeListener(this.currentBMListener);
      if (this.main.model.display.historyMode()) {
        this.main.model.ui.editors.python.turnOffHistoryMode();
      }
      this.clearLineSubscriptions();
      _get(_getPrototypeOf(PythonEditorView.prototype), "exit", this).call(this, newFilename, oldEditor);
    }
  }, {
    key: "clearLineSubscriptions",
    value: function clearLineSubscriptions() {
      this.bm.clearHighlightedLines();
      if (this.lineErrorSubscription) {
        this.lineErrorSubscription.dispose();
        this.lineErrorSubscription = null;
      }
      if (this.lineUncoveredSubscription) {
        this.lineUncoveredSubscription.dispose();
        this.lineUncoveredSubscription = null;
      }
    }
  }, {
    key: "makeSubscriptions",
    value: function makeSubscriptions() {
      var _this4 = this;
      this.bm.setMode(this.main.model.display.pythonMode());
      this.main.model.display.pythonMode.subscribe(function (mode) {
        _this4.bm.setMode(mode);
      });
      this.main.model.assignment.settings.enableBlocks.subscribe(function (enabled) {
        if (!enabled) {
          _this4.bm.setMode(DisplayModes.TEXT);
        } else {
          _this4.bm.setMode(_this4.main.model.display.pythonMode());
        }
      });
      this.main.model.assignment.settings.toolbox.subscribe(function (toolbox) {
        _this4.bm.configuration.toolbox = toolbox;
        _this4.bm.blockEditor.remakeToolbox();
      });
      this.main.model.assignment.settings.enableImages.subscribe(function (imageMode) {
        _this4.bm.setImageMode(imageMode);
      });
    }
  }, {
    key: "makePerAssignmentSubscriptions",
    value: function makePerAssignmentSubscriptions() {
      var _this5 = this;
      this.main.model.display.instructor.subscribe(function (changed) {
        _this5.setReadOnly(_this5.decideIfNotEditable());
      });
      this.main.model.assignment.settings.onlyUploads.subscribe(function (changed) {
        _this5.setReadOnly(_this5.decideIfNotEditable());
      });
    }
  }, {
    key: "decideIfNotEditable",
    value: function decideIfNotEditable() {
      var model = this.main.model;
      return model.display.historyMode() || model.assignment.settings.onlyUploads() && !model.display.instructor();
    }
  }, {
    key: "setReadOnly",
    value: function setReadOnly(isReadOnly) {
      this.readOnly = isReadOnly;
      this.bm.setReadOnly(isReadOnly);
    }
  }, {
    key: "uploadFile",
    value: function uploadFile(event) {
      var filename = event.target.fileName;
      var code = event.target.result;
      if (filename.endsWith(".ipynb")) {
        code = convertIpynbToPython(code);
      }
      this.main.components.server.logEvent("X-File.Upload", "", "", code, this.filename);
      this.file.handle(code);
      this.main.components.engine.run();
      // TODO: Run code
    }
  }, {
    key: "downloadFile",
    value: function downloadFile() {
      var result = _get(_getPrototypeOf(PythonEditorView.prototype), "downloadFile", this).call(this);
      if (result.name === "answer" && result.extension === ".py") {
        result.name = Object(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__["sluggify"])(this.main.model.assignment.name());
      }
      result.mimetype = "text/x-python";
      this.main.components.server.logEvent("X-File.Download", "", "", "", result.name);
      return result;
    }
  }]);
  return PythonEditorView;
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__["AbstractEditor"]);
var PythonEditor = {
  name: "Python",
  extensions: [".py"],
  constructor: PythonEditorView,
  template: PYTHON_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/tags.js":
/*!****************************!*\
  !*** ./src/editor/tags.js ***!
  \****************************/
/*! exports provided: TAGS_EDITOR_HTML, TagsEditor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TAGS_EDITOR_HTML", function() { return TAGS_EDITOR_HTML; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagsEditor", function() { return TagsEditor; });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var TAGS_EDITOR_HTML = "\nCreate new\nImport by name\nFind by owner/course/kind\n\nTags:\n    Data:\n        Name\n        Kind\n        Level\n        Version\n        Description\n    Controls:\n        Edit\n        Remove\n        Delete \n";
var TagsEditorView = /*#__PURE__*/function (_AbstractEditor) {
  _inherits(TagsEditorView, _AbstractEditor);
  var _super = _createSuper(TagsEditorView);
  function TagsEditorView(main, tag) {
    _classCallCheck(this, TagsEditorView);
    return _super.call(this, main, tag.find(".blockpy-editor-tags"));
  }
  return TagsEditorView;
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__["AbstractEditor"]);
var TagsEditor = {
  name: "Tags",
  extensions: ["!tags.blockpy"],
  constructor: TagsEditorView,
  template: TAGS_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/text.js":
/*!****************************!*\
  !*** ./src/editor/text.js ***!
  \****************************/
/*! exports provided: TEXT_EDITOR_HTML, TextEditor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TEXT_EDITOR_HTML", function() { return TEXT_EDITOR_HTML; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextEditor", function() { return TextEditor; });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }
function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var TEXT_EDITOR_HTML = "\n    <div>\n    <textarea class=\"blockpy-editor-text\"></textarea>\n    </div>\n";
var TextEditorView = /*#__PURE__*/function (_AbstractEditor) {
  _inherits(TextEditorView, _AbstractEditor);
  var _super = _createSuper(TextEditorView);
  function TextEditorView(main, tag) {
    var _this;
    _classCallCheck(this, TextEditorView);
    _this = _super.call(this, main, tag);
    _this.codeMirror = CodeMirror.fromTextArea(tag.find(".blockpy-editor-text")[0], {
      showCursorWhenSelecting: true,
      lineNumbers: true,
      firstLineNumber: 1,
      indentUnit: 4,
      tabSize: 4,
      indentWithTabs: false,
      extraKeys: {
        "Tab": "indentMore",
        "Shift-Tab": "indentLess",
        "Esc": function Esc(cm) {
          if (cm.getOption("fullScreen")) {
            cm.setOption("fullScreen", false);
          } else {
            cm.display.input.blur();
          }
        },
        "F11": function F11(cm) {
          cm.setOption("fullScreen", !cm.getOption("fullScreen"));
        }
      }
    });
    _this.dirty = false;
    return _this;
  }
  _createClass(TextEditorView, [{
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      _get(_getPrototypeOf(TextEditorView.prototype), "enter", this).call(this, newFilename, oldEditor);
      this.dirty = false;
      this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));
      // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);
      this.codeMirror.on("change", this.currentListener);
      if (oldEditor !== this) {
        // Delay so that everything is rendered
        setTimeout(this.codeMirror.refresh.bind(this.codeMirror), 1);
      }
      // TODO: update dynamically when changing instructor status
      this.codeMirror.setOption("readOnly", newFilename.startsWith("&") && !this.main.model.display.instructor());
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.codeMirror.setValue(newContents);
        this.codeMirror.refresh();
        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.file.handle(this.codeMirror.getValue());
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.currentSubscription.dispose();
      this.codeMirror.off("change", this.currentListener);
      this.codeMirror.setOption("readOnly", false);
      _get(_getPrototypeOf(TextEditorView.prototype), "exit", this).call(this, newFilename, oldEditor);
    }
  }]);
  return TextEditorView;
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__["AbstractEditor"]);
var TextEditor = {
  name: "Text",
  extensions: [".txt"],
  constructor: TextEditorView,
  template: TEXT_EDITOR_HTML
};

/***/ }),

/***/ "./src/editors.js":
/*!************************!*\
  !*** ./src/editors.js ***!
  \************************/
/*! exports provided: EditorsEnum, EDITORS_HTML, Editors */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditorsEnum", function() { return EditorsEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EDITORS_HTML", function() { return EDITORS_HTML; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Editors", function() { return Editors; });
/* harmony import */ var _editor_python__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editor/python */ "./src/editor/python.js");
/* harmony import */ var _editor_text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editor/text */ "./src/editor/text.js");
/* harmony import */ var _editor_assignment_settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editor/assignment_settings */ "./src/editor/assignment_settings.js");
/* harmony import */ var _editor_tags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./editor/tags */ "./src/editor/tags.js");
/* harmony import */ var _editor_markdown__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./editor/markdown */ "./src/editor/markdown.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
/**
 * Editors are inferred from Filenames.
 *
 * The editor is based on the extension:
 *  .blockpy: Special editor (will be chosen by filename)
 *  .py: Python Editor
 *  .md: Markdown Editor
 *  .txt: Text Editor (also used for other types)
 *  .peml: PEML Editor
 *  .png, .gif, .jpeg, .jpg, .bmp: Image Editor
 *  .json: JSON Editor
 *  .yaml: YAML Editor
 */







/**
 * The different possible editors available
 * @enum {string}
 */
var EditorsEnum = {
  SUBMISSION: "submission",
  ASSIGNMENT: "assignment",
  INSTRUCTIONS: "instructions",
  ON_RUN: "on_run",
  ON_CHANGE: "on_change",
  ON_EVAL: "on_eval",
  STARTING_CODE: "starting_code",
  SAMPLE_SUBMISSIONS: "sample_submissions",
  INSTRUCTOR_FILE: "instructor_file"
};
var SPECIAL_NAMESPACES = ["!", "^", "?", "$"];
var AVAILABLE_EDITORS = [_editor_text__WEBPACK_IMPORTED_MODULE_1__["TextEditor"], _editor_python__WEBPACK_IMPORTED_MODULE_0__["PythonEditor"], _editor_assignment_settings__WEBPACK_IMPORTED_MODULE_2__["AssignmentSettings"], _editor_tags__WEBPACK_IMPORTED_MODULE_3__["TagsEditor"], _editor_markdown__WEBPACK_IMPORTED_MODULE_4__["MarkdownEditor"]];
var EDITORS_HTML = AVAILABLE_EDITORS.map(function (editor) {
  return "\n<div class=\"col-md-12 blockpy-panel blockpy-editor\">\n    <div data-bind=\"visible: ui.editors.view().name === '".concat(editor.name, "'\">\n    ").concat(editor.template, "    \n    </div>\n</div>\n");
}
/*
`
<!-- ko if: ui.editors.view().name === '${editor.name}' -->
${editor.template}
<!-- /ko -->`*/).join("\n");
var Editors = /*#__PURE__*/function () {
  function Editors(main, tag) {
    var _this = this;
    _classCallCheck(this, Editors);
    this.main = main;
    this.tag = tag;
    this.current = null;
    this.registered_ = [];
    this.extensions_ = {};
    this.byName_ = {};
    AVAILABLE_EDITORS.forEach(function (editor) {
      return _this.registerEditor(editor);
    });
    this.main.model.display.filename.subscribe(this.changeEditor, this);
  }
  _createClass(Editors, [{
    key: "registerEditor",
    value: function registerEditor(data) {
      var extensions = data.extensions;
      var instance = new data.constructor(this.main, this.tag);
      instance.name = data.name;
      this.registered_.push(instance);
      this.byName_[data.name.toLowerCase()] = instance;
      for (var i = 0; i < extensions.length; i++) {
        this.extensions_[extensions[i]] = instance;
      }
    }
  }, {
    key: "byName",
    value: function byName(name) {
      return this.byName_[name.toLowerCase()];
    }
  }, {
    key: "changeEditor",
    value: function changeEditor(newFilename) {
      var oldEditor = this.current;
      var newEditor = this.getEditor(newFilename, oldEditor);
      if (oldEditor !== null) {
        oldEditor.exit(newFilename, oldEditor, newEditor);
      }
      this.current = newEditor;
      this.current.enter(newFilename, oldEditor);
    }
  }, {
    key: "getEditor",
    value: function getEditor(path) {
      var _Editors$parseFilenam = Editors.parseFilename(path),
        space = _Editors$parseFilenam.space,
        name = _Editors$parseFilenam.name,
        type = _Editors$parseFilenam.type;
      if (type === ".blockpy" && path in this.extensions_) {
        return this.extensions_[path];
      } else if (type in this.extensions_) {
        return this.extensions_[type];
      } else {
        return this.registered_[0];
      }
    }
  }], [{
    key: "parseFilename",
    value: function parseFilename(path) {
      var space = path.charAt(0);
      if (SPECIAL_NAMESPACES.indexOf(space) !== -1) {
        path = path.substr(1);
      } else {
        space = "";
      }
      var name = path.substr(0, path.lastIndexOf("."));
      var type = path.substr(path.lastIndexOf("."));
      return {
        "space": space,
        "name": name,
        "type": type
      };
    }
  }]);
  return Editors;
}();

/***/ }),

/***/ "./src/engine.js":
/*!***********************!*\
  !*** ./src/engine.js ***!
  \***********************/
/*! exports provided: BlockPyEngine */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BlockPyEngine", function() { return BlockPyEngine; });
/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./server */ "./src/server.js");
/* harmony import */ var _engine_on_run__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./engine/on_run */ "./src/engine/on_run.js");
/* harmony import */ var _engine_run__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./engine/run */ "./src/engine/run.js");
/* harmony import */ var _engine_eval__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./engine/eval */ "./src/engine/eval.js");
/* harmony import */ var _engine_sample__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./engine/sample */ "./src/engine/sample.js");
/* harmony import */ var _engine_on_change__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./engine/on_change */ "./src/engine/on_change.js");
/* harmony import */ var _engine_on_eval__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./engine/on_eval */ "./src/engine/on_eval.js");
/* harmony import */ var _engine_on_sample__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./engine/on_sample */ "./src/engine/on_sample.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }









/**
 * An object for executing Python code and passing the results along to interested components.
 *
 * Interesting components:
 *  Execution Buffer: Responsible for collecting the trace during program execution.
 *                    This prevents Knockoutjs from updating the editor during execution.
 *
 * @constructor
 * @this {BlockPyEditor}
 * @param {Object} main - The main BlockPy instance
 * @param {HTMLElement} tag - The HTML object this is attached to.
 */
var BlockPyEngine = /*#__PURE__*/function () {
  function BlockPyEngine(main) {
    _classCallCheck(this, BlockPyEngine);
    this.main = main;
    this.executionModel = this.main.model.execution;
    this.configurations = {
      run: new _engine_run__WEBPACK_IMPORTED_MODULE_2__["RunConfiguration"](main),
      eval: new _engine_eval__WEBPACK_IMPORTED_MODULE_3__["EvalConfiguration"](main),
      onRun: new _engine_on_run__WEBPACK_IMPORTED_MODULE_1__["OnRunConfiguration"](main),
      onChange: new _engine_on_change__WEBPACK_IMPORTED_MODULE_5__["OnChangeConfiguration"](main),
      onEval: new _engine_on_eval__WEBPACK_IMPORTED_MODULE_6__["OnEvalConfiguration"](main)
    };

    // Preconfigure skulpt so we can parse
    Sk.configure(this.configurations.run.getSkulptOptions());

    // Keeps track of the tracing while the program is executing
    this.executionBuffer = {};

    /**
     * Definable function to be run when execution has fully ended,
     * whether it succeeds or fails.
     */
    this.onExecutionBegin = null;
    this.onExecutionEnd = null;
  }

  /**
   * Reset reports
   */
  _createClass(BlockPyEngine, [{
    key: "resetReports",
    value: function resetReports() {
      var report = this.executionModel.reports;
      report["verifier"] = {};
      report["parser"] = {};
      report["student"] = {};
      report["instructor"] = {};
      report["model"] = this.main.model;
    }
  }, {
    key: "resetStudentModel",
    value: function resetStudentModel() {
      var student = this.executionModel.student;
      student.currentStep(null);
      student.currentTraceStep(0);
      student.lastStep(0);
      student.currentLine(null);
      student.currentTraceData.removeAll();
      student.results = null;
    }
  }, {
    key: "resetExecutionBuffer",
    value: function resetExecutionBuffer() {
      this.executionBuffer = {
        "trace": [],
        "step": 0,
        "line": 0
      };
    }
  }, {
    key: "reset",
    /**
     * Remove all interface aspects of the previous Run.
     */
    value: function reset() {
      // TODO: Clear out any coverage/trace/error highlights in editors
      // Reset execution in model
      this.resetStudentModel();
      // Get reports ready
      this.resetReports();
      // Clear out the execution buffer
      this.resetExecutionBuffer();
      // Clear out the console of printed stuff
      this.main.components.console.clear();
      // Clear out any old feedback
      this.main.components.feedback.clear();
    }
  }, {
    key: "delayedRun",
    value: function delayedRun() {
      //this.main.model.status.onExecution(StatusState.ACTIVE);
      //$(".blockpy-run").addClass("blockpy-run-running");
      this.run();
      //setTimeout(this.run.bind(this), 1);
    }
  }, {
    key: "run",
    value: function run() {
      var _this = this;
      this.configuration = this.configurations.run.use(this);
      var execution = this.execute().then(this.configuration.success.bind(this.configuration), this.configuration.failure.bind(this.configuration));
      if (!this.main.model.assignment.settings.disableFeedback()) {
        execution.then(function () {
          _this.configuration.provideSecretError();
          return _this.onRun();
        });
      } else {
        execution.then(this.configuration.showErrors.bind(this.configuration));
      }
    }
  }, {
    key: "onRun",
    value: function onRun() {
      this.configuration = this.configurations.onRun.use(this);
      this.execute().then(this.configuration.success.bind(this.configuration), this.configuration.failure.bind(this.configuration)).then(this.executionEnd_.bind(this));
    }
  }, {
    key: "evaluate",
    value: function evaluate() {
      var _this2 = this;
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_0__["StatusState"].ACTIVE);
      var evaluationInput = this.main.components.console.evaluate();
      console.log(evaluationInput);
      evaluationInput.then(function (userInput) {
        _this2.configuration = _this2.configurations.eval.use(_this2, userInput);
        var execution = _this2.execute().then(_this2.configuration.success.bind(_this2.configuration), _this2.configuration.failure.bind(_this2.configuration));
        if (!_this2.main.model.assignment.settings.disableFeedback() && _this2.main.model.assignment.onEval()) {
          execution.then(_this2.onEval.bind(_this2));
        } else {
          execution.then(_this2.configuration.showErrors.bind(_this2.configuration)).then(_this2.evaluate.bind(_this2));
        }
      });
    }
  }, {
    key: "onEval",
    value: function onEval() {
      this.configuration = this.configurations.onEval.use(this);
      this.execute().then(this.configuration.success.bind(this.configuration), this.configuration.failure.bind(this.configuration)).then(this.evaluate.bind(this));
    }
  }, {
    key: "onChange",
    value: function onChange() {
      this.configuration = this.configurations.onChange.use(this);
    }
  }, {
    key: "execute",
    value: function execute() {
      var _this3 = this;
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_0__["StatusState"].ACTIVE);
      return Sk.misceval.asyncToPromise(function () {
        return Sk.importMainWithBody(_this3.configuration.filename, false, _this3.configuration.code, true, _this3.configuration.sysmodules);
      });
    }
    /**
     * Activated whenever the Python code changes
     */
  }, {
    key: "on_change",
    value: function on_change() {
      var FILENAME = "on_change";
      // Skip if the instructor has not defined anything
      if (!this.main.model.programs[FILENAME]().trim()) {
        return false;
      }
      this.main.model.execution.status("changing");
      this.main.components.server.saveCode();
      // On step does not perform parse analysis by default or run student code
      var engine = this;
      var feedback = this.main.components.feedback;
      engine.resetReports();
      engine.verifyCode();
      engine.updateParse();
      engine.runInstructorCode(FILENAME, true, function (module) {
        if (Sk.executionReports["instructor"]["success"]) {
          // SUCCESS, SCORE, CATEGORY, LABEL, MESSAGE, DATA, HIDE
          // TODO: only show under certain circumstances
          if (!success && !(category === "Instructor" && label === "No errors")) {
            feedback.presentFeedback(category, label, message, line);
          }
          engine.main.components.feedback.presentFeedback(module.$d);
          engine.main.model.execution.status("complete");
        }
      });
      engine.main.components.server.logEvent("engine", "on_change");
    }
  }, {
    key: "executionEnd_",
    /**
     * Helper function that will attempt to call the defined onExecutionEnd,
     * but will do nothing if there is no function defined.
     */
    value: function executionEnd_() {
      if (this.onExecutionEnd !== null) {
        this.onExecutionEnd();
      }
    }
    /**
     *
     */
  }, {
    key: "executionBegin_",
    value: function executionBegin_() {
      if (this.onExecutionBegin !== null) {
        this.onExecutionBegin();
      }
    }
  }]);
  return BlockPyEngine;
}();

/***/ }),

/***/ "./src/engine/configurations.js":
/*!**************************************!*\
  !*** ./src/engine/configurations.js ***!
  \**************************************/
/*! exports provided: EMPTY_MODULE, Configuration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EMPTY_MODULE", function() { return EMPTY_MODULE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Configuration", function() { return Configuration; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
var EMPTY_MODULE = "let $builtinmodule = function(mod){ return mod; }";

/**
 * A container for holding settings of a particular run configuration.
 * This is the root class for all other configurations.
 */
var Configuration = /*#__PURE__*/function () {
  function Configuration(main) {
    _classCallCheck(this, Configuration);
    this.main = main;
    this.filename = null;
    this.code = null;
    this.sysmodules = undefined;
  }
  _createClass(Configuration, [{
    key: "use",
    value: function use(engine) {
      var _this = this;
      // Access point for instructor data
      this.engine = engine;
      Sk.executionReports = this.main.model.execution.reports;
      Sk.console = this.main.components.console;
      Sk.queuedInput = [];
      Sk.configure(this.getSkulptOptions());
      // Set openFile as mechanism to read files
      Sk.inBrowser = this.openFile.bind(this);
      // Proxy requests
      Sk.requestsGet = function (url, data, timeout) {
        return _this.openURL(url, data, timeout);
      };
      return this;
    }
  }, {
    key: "getSkulptOptions",
    value: function getSkulptOptions() {
      return {
        __future__: Sk.python3,
        // import
        read: this.importFile.bind(this),
        // open
        //fileopen: this.openFile.bind(this),
        // file.write
        filewrite: this.writeFile.bind(this),
        // print
        output: this.print.bind(this),
        // input
        inputfun: this.input.bind(this),
        inputfunTakesPrompt: true,
        // Media Image Proxy URL
        imageProxy: this.getImageProxy.bind(this),
        // Whether or not to keep the globals
        retainGlobals: true
      };
    }
    /**
     * Used to access Skulpt built-ins. This is pretty generic, taken
     * almost directly from the Skulpt docs.
     *
     * @param {String} filename - The python filename (e.g., "os" or "pprint") that will be loaded.
     * @returns {String} The JavaScript source code of the file (weird, right?)
     * @throws Will throw an error if the file isn't found.
     */
  }, {
    key: "importFile",
    value: function importFile(filename) {
      console.warn("Unimplemented method!");
      // TODO
    }
  }, {
    key: "openURL",
    value: function openURL(url, data, timeout) {
      //return new Promise((resolve, reject) => {
      var mockUrlData = this.main.components.fileSystem.getFile("?mock_urls.blockpy");
      if (mockUrlData == null) {
        throw new Sk.builtin.IOError("Cannot access url: URL Data was not made available for this assignment");
      }
      mockUrlData = JSON.parse(mockUrlData.handle());
      for (var filename in mockUrlData) {
        if (mockUrlData.hasOwnProperty(filename)) {
          for (var i = 0; i < mockUrlData[filename].length; i += 1) {
            if (mockUrlData[filename][i] === url) {
              var fileData = this.main.components.fileSystem.readFile(filename);
              return fileData;
            }
          }
        }
      }
      //reject(new Sk.builtin.IOError("Cannot access url: "+url+" was not made available for this assignment"));
      throw new Sk.builtin.IOError("Cannot access url: " + url + " was not made available for this assignment");
      //});
    }
  }, {
    key: "openFile",
    value: function openFile() {
      console.warn("Unimplemented method!");
      // TODO
    }
  }, {
    key: "writeFile",
    value: function writeFile() {
      console.warn("Unimplemented method!");
      // TODO
    }
  }, {
    key: "print",
    value: function print(value) {
      this.main.components.console.print(value);
    }
  }, {
    key: "input",
    value: function input() {
      console.warn("Unimplemented method!");
      // TODO
    }
  }, {
    key: "clearInput",
    value: function clearInput() {
      if (this.main.model.display.clearInputs()) {
        this.main.model.execution.input([]);
      }
      this.main.model.execution.inputIndex(0);
    }
  }, {
    key: "getImageProxy",
    value: function getImageProxy(url) {
      // TODO
      return url;
    }
  }, {
    key: "step",
    value: function step() {}
  }, {
    key: "lastStep",
    value: function lastStep() {}
  }, {
    key: "isForbidden",
    value: function isForbidden(filename) {
      return false;
    }
  }, {
    key: "success",
    value: function success(module) {
      throw new Error("Abstract success execution");
    }
  }, {
    key: "failure",
    value: function failure(error) {
      throw new Error("Abstract failure execution");
    }
  }, {
    key: "dummyOutSandbox",
    value: function dummyOutSandbox() {
      //Sk.builtinFiles.files["src/lib/pedal/sandbox/sandbox.py"] = "class Sandbox: pass\ndef run(): pass\ndef reset(): pass\n";
    }
  }], [{
    key: "inputMockFunction",
    value: function inputMockFunction() {
      if (Sk.queuedInput.length) {
        return Sk.queuedInput.pop();
      } else {
        return "";
      }
    }
  }]);
  return Configuration;
}();

/***/ }),

/***/ "./src/engine/eval.js":
/*!****************************!*\
  !*** ./src/engine/eval.js ***!
  \****************************/
/*! exports provided: EvalConfiguration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EvalConfiguration", function() { return EvalConfiguration; });
/* harmony import */ var _student__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./student */ "./src/engine/student.js");
/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server */ "./src/server.js");
/* harmony import */ var _trace__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../trace */ "./src/trace.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }
function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }



var EvalConfiguration = /*#__PURE__*/function (_StudentConfiguration) {
  _inherits(EvalConfiguration, _StudentConfiguration);
  var _super = _createSuper(EvalConfiguration);
  function EvalConfiguration() {
    _classCallCheck(this, EvalConfiguration);
    return _super.apply(this, arguments);
  }
  _createClass(EvalConfiguration, [{
    key: "use",
    value: function use(engine, code) {
      // TODO: fix to be currently added line
      this.main.model.execution.feedback.message("Running...");
      this.filename = "answer";
      this.code = "_ = " + code;
      Sk.afterSingleExecution = null;
      _get(_getPrototypeOf(EvalConfiguration.prototype), "use", this).call(this, engine);
      Sk.retainGlobals = true;
      Sk.globals = this.main.model.execution.student.globals();
      this.main.components.server.logEvent("X-File.Add", "", "", code, "evaluations");
      this.main.components.server.logEvent("Compile", "", "", this.code, "evaluations");
      return this;
    }
  }, {
    key: "success",
    value: function success(module) {
      var _this = this;
      console.log("Eval success");
      this.main.components.server.logEvent("X-Evaluate.Program", "", "", "", "evaluations");
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__["StatusState"].READY);
      this.main.model.execution.student.globals(Sk.globals);
      Sk.globals = {};
      var report = this.main.model.execution.reports;
      var filename = this.filename;
      this.main.model.execution.student.results = module;
      this.main.components.console.printValue(Sk.ffi.remapToJs(module.$d._.$r()));
      return new Promise(function (resolve, reject) {
        //this.step(module.$d, module.$d,-1, 0, filename + ".py");
        _this.lastStep();
        report["student"] = {
          "success": true,
          "trace": _this.engine.executionBuffer.trace,
          "lines": _this.engine.executionBuffer.trace.map(function (x) {
            return x.line;
          }),
          "realLines": _this.engine.executionBuffer.trace.filter(function (x) {
            return !x.isDocstring;
          }).map(function (x) {
            return x.line;
          }),
          "results": module,
          "output": _this.main.model.execution.output,
          "evaluation": _this.code
        };
        resolve();
      });
    }
  }, {
    key: "failure",
    value: function failure(error) {
      var _this2 = this;
      console.log("Eval failure");
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__["StatusState"].FAILED);
      var report = this.main.model.execution.reports;
      this.main.components.server.logEvent("Compile.Error", "", "", error.toString(), "evaluations");
      return new Promise(function (resolve, reject) {
        report["student"] = {
          "success": false,
          "error": error,
          "evaluation": _this2.code
        };
        console.error(error);
        resolve();
      });
    }
  }]);
  return EvalConfiguration;
}(_student__WEBPACK_IMPORTED_MODULE_0__["StudentConfiguration"]);

/***/ }),

/***/ "./src/engine/instructor.js":
/*!**********************************!*\
  !*** ./src/engine/instructor.js ***!
  \**********************************/
/*! exports provided: InstructorConfiguration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InstructorConfiguration", function() { return InstructorConfiguration; });
/* harmony import */ var _configurations_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./configurations.js */ "./src/engine/configurations.js");
/* harmony import */ var _skulpt_modules_sk_mod_instructor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../skulpt_modules/sk_mod_instructor */ "./src/skulpt_modules/sk_mod_instructor.js");
/* harmony import */ var _skulpt_modules_coverage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../skulpt_modules/coverage */ "./src/skulpt_modules/coverage.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }
function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }



var UTILITY_MODULE_CODE = "var $builtinmodule = " + _skulpt_modules_sk_mod_instructor__WEBPACK_IMPORTED_MODULE_1__["$sk_mod_instructor"].toString();
var COVERAGE_MODULE_CODE = _skulpt_modules_coverage__WEBPACK_IMPORTED_MODULE_2__["$sk_mod_coverage"];
var InstructorConfiguration = /*#__PURE__*/function (_Configuration) {
  _inherits(InstructorConfiguration, _Configuration);
  var _super = _createSuper(InstructorConfiguration);
  function InstructorConfiguration() {
    _classCallCheck(this, InstructorConfiguration);
    return _super.apply(this, arguments);
  }
  _createClass(InstructorConfiguration, [{
    key: "use",
    value: function use(engine) {
      var _this = this;
      _get(_getPrototypeOf(InstructorConfiguration.prototype), "use", this).call(this, engine);
      // Instructors get 4 seconds
      Sk.execLimitFunction = function () {
        return _this.main.model.assignment.settings.disableTimeout() ? Infinity : 7000;
      };
      Sk.execLimit = Sk.execLimitFunction();
      // Stepper! Executed after every statement.
      Sk.afterSingleExecution = null; // 10 *1000
      // Mute everything
      this.main.model.display.mutePrinter(true);
      // Disable input box
      Sk.queuedInput = [];
      // TODO Sk.inputfun = BlockPyEngine.inputMockFunction;
      // TODO: Allow input function to disable the timer, somehow
      // Enable utility mode
      Sk.builtinFiles.files["src/lib/utility/__init__.js"] = UTILITY_MODULE_CODE;
      Sk.builtinFiles.files["src/lib/coverage.py"] = COVERAGE_MODULE_CODE;
      Sk.builtinFiles.files["./_instructor/__init__.js"] = _configurations_js__WEBPACK_IMPORTED_MODULE_0__["EMPTY_MODULE"];
      // Reuse any existing sysmodules that we previously found;
      this.sysmodules = this.main.model.execution.instructor.sysmodules;
      // Remove any existing __main__ modules
      var $main = new Sk.builtin.str("__main__");
      if (this.sysmodules !== undefined) {
        if (this.sysmodules.quick$lookup($main)) {
          this.sysmodules.del$item($main);
        }
      }
      return this;
    }
  }, {
    key: "openFile",
    value: function openFile(filename) {
      var found = this.main.components.fileSystem.searchForFile(filename, false);
      if (found === undefined) {
        throw new Sk.builtin.OSError("File not found: " + filename);
      } else {
        return found.contents();
      }
    }
  }, {
    key: "importFile",
    value: function importFile(filename) {
      if (filename === "./answer.py") {
        return this.main.model.submission.code();
      } else if (filename === "./_instructor/on_run.py") {
        return this.main.model.assignment.onRun();
      } else if (filename === "./_instructor/on_eval.py") {
        return this.main.model.assignment.onEval() || "";
      } else if (filename === "./_instructor/__init__.js") {
        return _configurations_js__WEBPACK_IMPORTED_MODULE_0__["EMPTY_MODULE"];
      } else if (Sk.builtinFiles === undefined) {
        throw new Sk.builtin.OSError("Built-in modules not accessible.");
      } else if (Sk.builtinFiles["files"][filename] !== undefined) {
        return Sk.builtinFiles["files"][filename];
      } else {
        var found = this.main.components.fileSystem.searchForFile(filename, false);
        if (found === undefined) {
          throw new Sk.builtin.OSError("File not found: '" + filename + "'");
        } else {
          return found.contents();
        }
      }
    }
  }, {
    key: "input",
    value: function input(promptMessage) {
      //return "ApplePie";
      if (this.main.model.execution.inputIndex() < this.main.model.execution.input().length) {
        var inputIndex = this.main.model.execution.inputIndex();
        var nextInput = this.main.model.execution.input()[inputIndex];
        this.main.model.execution.inputIndex(inputIndex + 1);
        return nextInput;
      } else {
        return "ApplePie";
      }
      /*return new Promise((resolve) => {
          resolve(Sk.queuedInput.pop());
      });*/
    }
  }]);
  return InstructorConfiguration;
}(_configurations_js__WEBPACK_IMPORTED_MODULE_0__["Configuration"]);

/***/ }),

/***/ "./src/engine/on_change.js":
/*!*********************************!*\
  !*** ./src/engine/on_change.js ***!
  \*********************************/
/*! exports provided: OnChangeConfiguration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnChangeConfiguration", function() { return OnChangeConfiguration; });
/* harmony import */ var _instructor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./instructor */ "./src/engine/instructor.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }
function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var OnChangeConfiguration = /*#__PURE__*/function (_InstructorConfigurat) {
  _inherits(OnChangeConfiguration, _InstructorConfigurat);
  var _super = _createSuper(OnChangeConfiguration);
  function OnChangeConfiguration() {
    _classCallCheck(this, OnChangeConfiguration);
    return _super.apply(this, arguments);
  }
  _createClass(OnChangeConfiguration, [{
    key: "use",
    value: function use(engine) {
      _get(_getPrototypeOf(OnChangeConfiguration.prototype), "use", this).call(this, engine);
      this.filename = "on_change.py";
      this.code = this.main.model.assignment.onChange();
      clearTimeout(this.main.model.display.triggerOnChange);
      return this;
    }
  }]);
  return OnChangeConfiguration;
}(_instructor__WEBPACK_IMPORTED_MODULE_0__["InstructorConfiguration"]);

/***/ }),

/***/ "./src/engine/on_eval.js":
/*!*******************************!*\
  !*** ./src/engine/on_eval.js ***!
  \*******************************/
/*! exports provided: WRAP_INSTRUCTOR_CODE, OnEvalConfiguration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WRAP_INSTRUCTOR_CODE", function() { return WRAP_INSTRUCTOR_CODE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnEvalConfiguration", function() { return OnEvalConfiguration; });
/* harmony import */ var _instructor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./instructor */ "./src/engine/instructor.js");
/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server */ "./src/server.js");
/* harmony import */ var _on_run__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./on_run */ "./src/engine/on_run.js");
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utilities */ "./src/utilities.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }
function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }





/**
 * @return {string}
 */
var WRAP_INSTRUCTOR_CODE = function WRAP_INSTRUCTOR_CODE(studentCode, instructorCode, quick, isSafe) {
  var safeCode = JSON.stringify(studentCode);
  var indentedCode = Object(_utilities__WEBPACK_IMPORTED_MODULE_3__["indent"])(Object(_utilities__WEBPACK_IMPORTED_MODULE_3__["indent"])(isSafe ? studentCode : "None"));
  return "\nfrom utility import *\n\n# Load in some commonly used tools\nfrom pedal.cait.cait_api import parse_program\nfrom pedal.sandbox.commands import *\nfrom pedal.core.commands import *\n\n# Backup the feedback\non_run_feedback = []\nfor feedback in MAIN_REPORT.feedback:\n    on_run_feedback.append(feedback)\nMAIN_REPORT.feedback.clear()\n\nfrom pedal.environments.blockpy import setup_environment\n# Add in evaluated stuff from last time\nstudent = get_sandbox()\n# TODO: What about new inputs since we last ran/evaled?\nMAIN_REPORT.submission.files['evaluation'] = ".concat(safeCode, "\nevaluate(").concat(safeCode, ")\n\n# TODO: Refactor resolver to return instructions\n# Monkey-patch questions\n#from pedal import questions\n#questions.show_question = set_instructions\n\n# Run the actual instructor code\n").concat(instructorCode, "\n\n# Resolve everything\nfrom pedal.resolvers.simple import resolve\nfinal = resolve()\nSUCCESS = final.success\nSCORE = final.score\nCATEGORY = final.category\nLABEL = final.title\nMESSAGE = final.message\nDATA = final.data\nHIDE = final.hide_correctness\n\n# Handle questions\nif final.instructions:\n    set_instructions(final.instructions[-1].message)\n    \n# Handle positive feedback\nPOSITIVE = []\nfor positive in final.positives:\n    message = positive.message\n    if not positive:\n        message = positive.else_message\n    POSITIVE.append({\n        \"title\": positive.title,\n        \"label\": positive.label,\n        \"message\": message\n    })\n    \n# Handle system messages\nfor system in final.systems:\n    if system.label == 'log':\n        console_log(system.title, system.message);\n    if system.label == 'debug':\n        console_debug(system.title, system.message);\n\n");
};
var OnEvalConfiguration = /*#__PURE__*/function (_InstructorConfigurat) {
  _inherits(OnEvalConfiguration, _InstructorConfigurat);
  var _super = _createSuper(OnEvalConfiguration);
  function OnEvalConfiguration() {
    _classCallCheck(this, OnEvalConfiguration);
    return _super.apply(this, arguments);
  }
  _createClass(OnEvalConfiguration, [{
    key: "use",
    value: function use(engine) {
      _get(_getPrototypeOf(OnEvalConfiguration.prototype), "use", this).call(this, engine);
      this.filename = "_instructor.on_eval";
      this.code = this.main.model.assignment.onEval() || "";
      var disableTifa = this.main.model.assignment.settings.disableTifa();
      var report = this.main.model.execution.reports;
      var studentCodeSafe = this.main.model.execution.reports.student.evaluation || "None";
      this.dummyOutSandbox();
      var instructorCode = this.code;
      var lineOffset = instructorCode.split(_on_run__WEBPACK_IMPORTED_MODULE_2__["NEW_LINE_REGEX"]).length;
      var isSafe = !report["parser"].empty && report["verifier"].success;
      instructorCode = WRAP_INSTRUCTOR_CODE(studentCodeSafe, instructorCode, disableTifa, isSafe);
      lineOffset = instructorCode.split(_on_run__WEBPACK_IMPORTED_MODULE_2__["NEW_LINE_REGEX"]).length - lineOffset;
      report["instructor"] = {
        "compliments": [],
        "filename": "./_instructor/on_eval.py",
        "code": instructorCode,
        "lineOffset": lineOffset
        //'complete': false // Actually, let's use undefined for now.
      };

      this.code = instructorCode;
      _get(_getPrototypeOf(OnEvalConfiguration.prototype), "use", this).call(this, engine);

      //Sk.retainGlobals = false;
      Sk.globals = this.main.model.execution.instructor.globals;
      return this;
    }
  }, {
    key: "success",
    value: function success(module) {
      console.log("OnEval success");
      // TODO: Actually parse results
      this.main.model.execution.instructor.globals = Sk.globals;
      this.main.model.execution.instructor.sysmodules = Sk.sysmodules;
      console.log(module);
      var results = module.$d.on_eval.$d;
      console.log(module.$d);
      this.main.components.feedback.presentFeedback(results);
      this.main.model.execution.reports["instructor"]["success"] = true;
      var success = Sk.ffi.remapToJs(results.SUCCESS);
      this.main.model.submission.correct(success || this.main.model.submission.correct());
      // Cannot exceed 1 point, cannot go below 0 points
      var score = Sk.ffi.remapToJs(results.SCORE);
      score = Math.max(0.0, Math.min(1.0, score));
      var oldScore = this.main.model.submission.score();
      this.main.model.submission.score(Math.max(oldScore, score));
      // Hide status
      var hide = Sk.ffi.remapToJs(results.HIDE);
      // And fire the result!
      this.main.components.server.updateSubmission(score, success, hide, false);
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__["StatusState"].READY);
      //after(module);

      /*if (success && this.main.model.configuration.callbacks.success) {
          this.main.model.configuration.callbacks.success(this.main.model.assignment.id());
      }*/

      if (!Sk.executionReports.instructor.scrolling) {
        try {
          this.main.components.console.scrollToBottom();
        } catch (e) {}
      }
    }
  }, {
    key: "failure",
    value: function failure(error) {
      console.log("OnEval failure");
      var report = this.main.model.execution.reports;
      if (error.tp$name === "GracefulExit") {
        report["instructor"]["success"] = true;
        this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__["StatusState"].READY);
      } else {
        this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__["StatusState"].FAILED);
        //console.log(report["instructor"]["code"]);
        console.error(error);
        this.main.components.feedback.presentInternalError(error, this.filename);
        //report["instructor"]["success"] = false;
        //report["instructor"]["error"] = error;
        //TODO: report["instructor"]["line_offset"] = lineOffset;
      }
      //TODO: after(error);
    }
  }]);
  return OnEvalConfiguration;
}(_instructor__WEBPACK_IMPORTED_MODULE_0__["InstructorConfiguration"]);

/***/ }),

/***/ "./src/engine/on_run.js":
/*!******************************!*\
  !*** ./src/engine/on_run.js ***!
  \******************************/
/*! exports provided: NEW_LINE_REGEX, WRAP_INSTRUCTOR_CODE, OnRunConfiguration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NEW_LINE_REGEX", function() { return NEW_LINE_REGEX; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WRAP_INSTRUCTOR_CODE", function() { return WRAP_INSTRUCTOR_CODE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnRunConfiguration", function() { return OnRunConfiguration; });
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities */ "./src/utilities.js");
/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server */ "./src/server.js");
/* harmony import */ var _instructor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./instructor */ "./src/engine/instructor.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }
function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }



var NEW_LINE_REGEX = /\r\n|\r|\n/;
/**
 * @return {string}
 */
var WRAP_INSTRUCTOR_CODE = function WRAP_INSTRUCTOR_CODE(studentCode, instructorCode, quick, isSafe) {
  var safeCode = JSON.stringify(studentCode);
  var indentedCode = Object(_utilities__WEBPACK_IMPORTED_MODULE_0__["indent"])(Object(_utilities__WEBPACK_IMPORTED_MODULE_0__["indent"])(isSafe ? studentCode : "pass"));
  var tifaAnalysis = "";
  if (!quick) {
    tifaAnalysis = "from pedal.tifa import tifa_analysis\ntifa_analysis(False)";
  }
  var skip_tifa = quick ? "True" : "False";

  // TODO: Add in Sk.queuedInput to be passed in

  return "\n# Support our sysmodules hack by clearing out any lingering old data\nfrom pedal.core.report import MAIN_REPORT\nMAIN_REPORT.clear()\n\nfrom cisc108 import student_tests\nstudent_tests.reset()\n\nfrom utility import *\n\n# Load in some commonly used tools\nfrom pedal.cait.cait_api import parse_program\nfrom pedal.sandbox.commands import *\nfrom pedal.core.commands import *\n\nfrom pedal.environments.blockpy import setup_environment\n# Do we execute student's code?\nskip_run = get_model_info('assignment.settings.disableInstructorRun')\ninputs = None if skip_run else get_model_info('execution.input')\n\n# Initialize the BlockPy environment\npedal = setup_environment(skip_tifa=".concat(skip_tifa, ",\n                          skip_run=skip_run,\n                          inputs=inputs,\n                          main_file='answer.py',\n                          main_code=").concat(safeCode, ")\nstudent = pedal.fields['student']\n\n# TODO: Refactor resolver to return instructions\n# Monkey-patch questions\n#from pedal import questions\n#questions.show_question = set_instructions\n\n# Run the actual instructor code\n").concat(instructorCode, "\n\n# Resolve everything\nfrom pedal.resolvers.simple import resolve\nfinal = resolve()\nSUCCESS = final.success\nSCORE = final.score\nCATEGORY = final.category\nLABEL = final.title\nMESSAGE = final.message\nDATA = final.data\nHIDE = final.hide_correctness\n\n# Handle questions\nif final.instructions:\n    set_instructions(final.instructions[-1].message)\n    \n# Handle positive feedback\nPOSITIVE = []\nfor positive in final.positives:\n    message = positive.message\n    if not positive:\n        message = positive.else_message\n    POSITIVE.append({\n        \"title\": positive.title,\n        \"label\": positive.label,\n        \"message\": message\n    })\n    \n# Handle system messages\nfor system in final.systems:\n    if system.label == 'log':\n        console_log(system.title, system.message);\n    if system.label == 'debug':\n        console_debug(system.title, system.message);\n\n");
};
var OnRunConfiguration = /*#__PURE__*/function (_InstructorConfigurat) {
  _inherits(OnRunConfiguration, _InstructorConfigurat);
  var _super = _createSuper(OnRunConfiguration);
  function OnRunConfiguration() {
    _classCallCheck(this, OnRunConfiguration);
    return _super.apply(this, arguments);
  }
  _createClass(OnRunConfiguration, [{
    key: "use",
    value: function use(engine) {
      _get(_getPrototypeOf(OnRunConfiguration.prototype), "use", this).call(this, engine);
      this.filename = "_instructor.on_run";
      this.code = this.main.model.assignment.onRun();
      var disableTifa = this.main.model.assignment.settings.disableTifa();
      var report = this.main.model.execution.reports;
      var studentCodeSafe = this.main.model.submission.code();
      this.dummyOutSandbox();
      var instructorCode = this.code;
      var lineOffset = instructorCode.split(NEW_LINE_REGEX).length;
      var isSafe = !report["parser"].empty && report["verifier"].success;
      instructorCode = WRAP_INSTRUCTOR_CODE(studentCodeSafe, instructorCode, disableTifa, isSafe);
      lineOffset = 0; //instructorCode.split(NEW_LINE_REGEX).length - lineOffset - 4;
      report["instructor"] = {
        "compliments": [],
        "filename": "./_instructor/on_run.py",
        "code": instructorCode,
        "lineOffset": lineOffset
        //'complete': false // Actually, let's use undefined for now.
      };

      this.code = instructorCode;
      Sk.retainGlobals = false;
      return this;
    }
  }, {
    key: "success",
    value: function success(module) {
      // TODO Logging!!!!
      //console.log("OnRun success");
      // TODO: Actually parse results
      this.main.model.execution.instructor.globals = Sk.globals;
      this.main.model.execution.instructor.sysmodules = Sk.sysmodules;
      Sk.globals = {};
      var results = module.$d.on_run.$d;
      this.main.components.feedback.presentFeedback(results);
      this.main.model.execution.reports["instructor"]["success"] = true;
      var success = Sk.ffi.remapToJs(results.SUCCESS);
      this.main.model.submission.correct(success || this.main.model.submission.correct());
      // Cannot exceed 1 point, cannot go below 0 points
      var score = Sk.ffi.remapToJs(results.SCORE);
      score = Math.max(0, Math.min(1, score));
      var oldScore = this.main.model.submission.score();
      score = Math.max(oldScore, score);
      this.main.model.submission.score(score);
      // Hide status
      var hide = Sk.ffi.remapToJs(results.HIDE);
      // And fire the result!
      this.main.components.server.updateSubmission(score, success, hide, false);
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__["StatusState"].READY);
      //after(module);

      /*if (success && this.main.model.configuration.callbacks.success) {
          this.main.model.configuration.callbacks.success(this.main.model.assignment.id());
      }*/

      if (!Sk.executionReports.instructor.scrolling) {
        try {
          this.main.components.console.scrollToBottom();
        } catch (e) {}
      }
    }
  }, {
    key: "failure",
    value: function failure(error) {
      console.log("OnRun failure");
      var report = this.main.model.execution.reports;
      if (error.tp$name === "GracefulExit") {
        report["instructor"]["success"] = true;
        this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__["StatusState"].READY);
      } else {
        this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__["StatusState"].FAILED);
        //console.log(report["instructor"]["code"]);
        console.error(error);
        this.main.components.feedback.presentInternalError(error, this.filename);
        //report["instructor"]["success"] = false;
        //report["instructor"]["error"] = error;
        //TODO: report["instructor"]["line_offset"] = lineOffset;
      }
      //TODO: after(error);
    }
  }]);
  return OnRunConfiguration;
}(_instructor__WEBPACK_IMPORTED_MODULE_2__["InstructorConfiguration"]);

/*
# The following is the old instructor code, leaving it here for now.

from pedal.core.report import MAIN_REPORT
# Support our sysmodules hack by clearing out any lingering old data
MAIN_REPORT.clear()
from pedal.core.commands import contextualize_report
contextualize_report(${safeCode}, "answer.py")
${tifaAnalysis}
from pedal.sandbox.sandbox import Sandbox
from pedal.sandbox import compatibility
from utility import *
student = MAIN_REPORT['sandbox']['run'] = Sandbox()
student.report_exceptions_mode = True
log(get_model_info('execution.input'))
student.set_input(get_model_info('execution.input'))
if not get_model_info('assignment.settings.disableInstructorRun'):
    compatibility.run_student(raise_exceptions=False)
#log(student.data)
#student = get_student_data()
#error, position = get_student_error()
#compatibility.raise_exception(error, position)
run_student = compatibility.run_student
reset_output = compatibility.reset_output
queue_input = compatibility.queue_input
get_output = compatibility.get_output
get_plots = compatibility.get_plots
compatibility.trace_lines = trace_lines
from pedal import questions
questions.show_question = set_instructions
# TODO: Remove the need for this hack!
def capture_output(func, *args):
   reset_output()
   student.call(func.__name__, *args)
   return get_output()
compatibility.capture_output = capture_output

from pedal.cait.cait_api import parse_program
${instructorCode}
from pedal.resolvers import simple
final = simple.resolve()
SUCCESS = final.success
SCORE = final.score
CATEGORY = final.category
LABEL = final.title
MESSAGE = final.message
DATA = final.data
HIDE = final.hide_correctness

 */

/***/ }),

/***/ "./src/engine/on_sample.js":
/*!*********************************!*\
  !*** ./src/engine/on_sample.js ***!
  \*********************************/
/*! exports provided: OnSampleConfiguration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnSampleConfiguration", function() { return OnSampleConfiguration; });
/* harmony import */ var _on_run__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./on_run */ "./src/engine/on_run.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }
function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var OnSampleConfiguration = /*#__PURE__*/function (_OnRunConfiguration) {
  _inherits(OnSampleConfiguration, _OnRunConfiguration);
  var _super = _createSuper(OnSampleConfiguration);
  function OnSampleConfiguration() {
    _classCallCheck(this, OnSampleConfiguration);
    return _super.apply(this, arguments);
  }
  _createClass(OnSampleConfiguration, [{
    key: "use",
    value: function use(engine) {
      _get(_getPrototypeOf(OnSampleConfiguration.prototype), "use", this).call(this, engine);
      this.filename = "on_run.py";
      this.code = this.main.model.assignment.onRun();
      return this;
    }
  }]);
  return OnSampleConfiguration;
}(_on_run__WEBPACK_IMPORTED_MODULE_0__["OnRunConfiguration"]);

/***/ }),

/***/ "./src/engine/run.js":
/*!***************************!*\
  !*** ./src/engine/run.js ***!
  \***************************/
/*! exports provided: RunConfiguration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RunConfiguration", function() { return RunConfiguration; });
/* harmony import */ var _student__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./student */ "./src/engine/student.js");
/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server */ "./src/server.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }
function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }


var RunConfiguration = /*#__PURE__*/function (_StudentConfiguration) {
  _inherits(RunConfiguration, _StudentConfiguration);
  var _super = _createSuper(RunConfiguration);
  function RunConfiguration() {
    _classCallCheck(this, RunConfiguration);
    return _super.apply(this, arguments);
  }
  _createClass(RunConfiguration, [{
    key: "use",
    value: function use(engine) {
      this.main.model.execution.feedback.message("Running...");
      this.filename = "answer";
      this.code = this.main.model.submission.code();
      this.main.components.server.saveFile("answer.py", this.code, null);
      this.main.components.server.logEvent("Compile", "", "", "", "answer.py");
      _get(_getPrototypeOf(RunConfiguration.prototype), "use", this).call(this, engine);
      engine.reset();
      this.updateParse();
      this.main.model.execution.reports["verifier"] = {
        "success": Boolean(this.code.trim()),
        "code": this.code
      };
      Sk.retainGlobals = false;
      this.clearInput();
      return this;
    }
  }, {
    key: "success",
    value: function success(module) {
      var _this = this;
      console.log("Run success");
      var message = {
        "inputs": this.main.model.execution.input().join("\n"),
        "outputs": this.main.model.execution.output().map(function (line) {
          return line.content;
        }).join("\n")
      };
      this.main.components.server.logEvent("Run.Program", "", "", JSON.stringify(message), "answer.py");
      this.main.model.display.dirtySubmission(false);
      this.main.components.console.finishTurtles();
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__["StatusState"].READY);
      this.main.model.execution.student.globals(Sk.globals);
      Sk.globals = {};
      var report = this.main.model.execution.reports;
      var filename = this.filename;
      this.main.model.execution.student.results = module;
      if (!this.main.model.assignment.settings.hideEvaluate()) {
        this.main.components.console.beginEval();
      }
      return new Promise(function (resolve, reject) {
        _this.step(module.$d, module.$d, -1, 0, filename + ".py");
        _this.lastStep();
        report["student"] = {
          "success": true,
          "trace": _this.engine.executionBuffer.trace,
          "lines": _this.engine.executionBuffer.trace.map(function (x) {
            return x.line;
          }),
          "realLines": _this.engine.executionBuffer.trace.filter(function (x) {
            return !x.isDocstring;
          }).map(function (x) {
            return x.line;
          }),
          "results": module,
          "output": _this.main.model.execution.output,
          "input": _this.main.model.execution.input
        };
        resolve();
      });
    }
  }, {
    key: "failure",
    value: function failure(error) {
      var _this2 = this;
      console.log("Run failure");
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__["StatusState"].FAILED);
      var report = this.main.model.execution.reports;
      if (report.parser.success && report.verifier.success) {
        this.main.components.server.logEvent("Compile.Error", "", "", error.toString(), "answer.py");
      } else {
        this.main.components.server.logEvent("Run.Program", "ProgramErrorOutput", "", error.toString(), "answer.py");
      }
      return new Promise(function (resolve, reject) {
        report["student"] = {
          "success": false,
          "error": error,
          "lines": _this2.engine.executionBuffer.trace.map(function (x) {
            return x.line;
          }),
          "realLines": _this2.engine.executionBuffer.trace.filter(function (x) {
            return !x.isDocstring;
          }).map(function (x) {
            return x.line;
          }),
          "input": _this2.main.model.execution.input
        };
        console.error(error);
        resolve();
      });
    }
  }]);
  return RunConfiguration;
}(_student__WEBPACK_IMPORTED_MODULE_0__["StudentConfiguration"]);

/***/ }),

/***/ "./src/engine/sample.js":
/*!******************************!*\
  !*** ./src/engine/sample.js ***!
  \******************************/
/*! exports provided: SampleConfiguration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SampleConfiguration", function() { return SampleConfiguration; });
/* harmony import */ var _student__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./student */ "./src/engine/student.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }
function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var SampleConfiguration = /*#__PURE__*/function (_StudentConfiguration) {
  _inherits(SampleConfiguration, _StudentConfiguration);
  var _super = _createSuper(SampleConfiguration);
  function SampleConfiguration() {
    _classCallCheck(this, SampleConfiguration);
    return _super.apply(this, arguments);
  }
  _createClass(SampleConfiguration, [{
    key: "use",
    value: function use(engine) {
      _get(_getPrototypeOf(SampleConfiguration.prototype), "use", this).call(this, engine);
      // TODO: Fix to be the current sample submission
      this.filename = "answer.py";
      this.code = "print('Not ready yet!')";
      return this;
    }
  }]);
  return SampleConfiguration;
}(_student__WEBPACK_IMPORTED_MODULE_0__["StudentConfiguration"]);

/***/ }),

/***/ "./src/engine/student.js":
/*!*******************************!*\
  !*** ./src/engine/student.js ***!
  \*******************************/
/*! exports provided: StudentConfiguration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StudentConfiguration", function() { return StudentConfiguration; });
/* harmony import */ var _configurations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./configurations */ "./src/engine/configurations.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }
function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var StudentConfiguration = /*#__PURE__*/function (_Configuration) {
  _inherits(StudentConfiguration, _Configuration);
  var _super = _createSuper(StudentConfiguration);
  function StudentConfiguration() {
    _classCallCheck(this, StudentConfiguration);
    return _super.apply(this, arguments);
  }
  _createClass(StudentConfiguration, [{
    key: "use",
    value: function use(engine) {
      var _this = this;
      _get(_getPrototypeOf(StudentConfiguration.prototype), "use", this).call(this, engine);
      // Limit execution to 4 seconds
      var settings = this.main.model.settings;
      Sk.execLimitFunction = function () {
        return _this.main.model.assignment.settings.disableTimeout() ? Infinity : 5000;
      };
      Sk.execLimit = Sk.execLimitFunction();
      // Stepper! Executed after every statement.
      Sk.afterSingleExecution = this.step.bind(this);
      // Unmute everything
      this.main.model.display.mutePrinter(false);

      // Function to call after each step
      // afterSingleExecution

      Sk.builtinFiles.files["src/lib/utility/__init__.js"] = _configurations__WEBPACK_IMPORTED_MODULE_0__["EMPTY_MODULE"];
      return this;
    }
  }, {
    key: "openFile",
    value: function openFile(filename) {
      var found = this.main.components.fileSystem.searchForFile(filename, true);
      //console.log(filename, found);
      if (found === undefined) {
        throw new Sk.builtin.OSError("File not found: " + filename);
      } else {
        return found.contents();
      }
    }
  }, {
    key: "importFile",
    value: function importFile(filename) {
      if (this.isForbidden(filename)) {
        throw "File not accessible: '" + filename + "'";
      } else if (filename === "./answer.py") {
        return this.main.model.submission.code();
      } else if (Sk.builtinFiles === undefined) {
        throw new Sk.builtin.OSError("Built-in modules not accessible.");
      } else if (Sk.builtinFiles["files"][filename] !== undefined) {
        return Sk.builtinFiles["files"][filename];
      } else {
        var found = this.main.components.fileSystem.searchForFile(filename, true);
        if (found === undefined) {
          throw new Sk.builtin.OSError("File not found: '" + filename + "'");
        } else {
          return found.contents();
        }
      }
    }
  }, {
    key: "input",
    value: function input(promptMessage) {
      return this.main.components.console.input(promptMessage);
    }
  }, {
    key: "isForbidden",
    value: function isForbidden(filename) {
      return filename.startsWith("src/lib/utility/") || filename.startsWith("src/lib/pedal/") || filename.startsWith("./_instructor/");
    }
    /**
     * "Steps" the execution of the code, meant to be used as a callback to the Skulpt
     * environment.
     *
     * @param {Object} globals - Hash that maps the names of global variables (Strings) to their Skulpt representation.
     * @param {Object} locals - Hash that maps the names of local variables (Strings) to their Skulpt representation.
     * @param {Number} lineNumber - The corresponding line number in the source code that is being executed.
     * @param {Number} columnNumber - The corresponding column number in the source code that is being executed.
     *                                Think of it as the "X" position to the lineNumber's "Y" position.
     * @param {String} filename - The name of the python file being executed (e.g., "__main__.py").
     * @param {Boolean} isDocstring - Whether or not this is an actual line or a docstring.
     */
  }, {
    key: "step",
    value: function step(globals, locals, lineNumber, columnNumber, filename, isDocstring) {
      if (filename === "answer.py") {
        var currentStep = this.engine.executionBuffer.step;
        var _globals = this.main.components.trace.parseGlobals(_globals);
        // TODO: Trace local variables properly
        //console.log(globals, locals);
        //let locals = this.main.components.trace.parseGlobals(locals);
        //Object.assign(globals, locals);
        this.engine.executionBuffer.trace.push({
          "step": currentStep,
          "filename": filename,
          //'block': highlightMap[lineNumber-1],
          "line": lineNumber,
          "column": columnNumber,
          "properties": _globals.properties,
          "modules": _globals.modules,
          "isDocstring": isDocstring
        });
        this.engine.executionBuffer.step = currentStep + 1;
        this.engine.executionBuffer.line = lineNumber;
      }
    }
  }, {
    key: "lastStep",
    /**
     * Called at the end of the Skulpt execution to terminate the executionBuffer
     * and hand it off to the execution trace in the model.
     */
    value: function lastStep() {
      var execution = this.main.model.execution;
      execution.student.currentTraceData(this.engine.executionBuffer.trace);
      execution.student.currentStep(this.engine.executionBuffer.step);
      execution.student.lastStep(this.engine.executionBuffer.step);
      execution.student.currentLine(this.engine.executionBuffer.line);
      execution.student.lastLine(this.engine.executionBuffer.line);
      execution.student.currentTraceStep(this.engine.executionBuffer.step);
    }
  }, {
    key: "getLines",
    value: function getLines(ast) {
      var visitedLines = new Set();
      var visitBody = function visitBody(node) {
        if (node.lineno !== undefined) {
          visitedLines.add(node.lineno);
        }
        if (node.body) {
          node.body.forEach(function (statement) {
            return visitBody(statement);
          });
        }
        if (node.orelse) {
          node.orelse.forEach(function (statement) {
            return visitBody(statement);
          });
        }
        if (node.finalbody) {
          node.finalbody.forEach(function (statement) {
            return visitBody(statement);
          });
        }
      };
      visitBody(ast);
      return Array.from(visitedLines);
    }
    /**
     * Ensure that the parse information is up-to-date
     */
  }, {
    key: "updateParse",
    value: function updateParse() {
      var report = this.main.model.execution.reports;
      // Hold all the actually discovered lines from the parse
      var lines = [];
      // Attempt a parse
      var ast;
      try {
        var parse = Sk.parse(this.filename, this.code);
        ast = Sk.astFromParse(parse.cst, this.filename, parse.flags);
        lines = this.getLines(ast);
      } catch (error) {
        // Report the error
        report["parser"] = {
          "success": false,
          "error": error,
          "empty": true,
          "lines": lines
        };
        console.error(error);
        console.log(this.filename, this.code);
        return false;
      }
      // Successful parse
      report["parser"] = {
        "success": true,
        "ast": ast,
        "empty": ast.body.length === 0,
        "lines": lines
      };
      return true;
    }
  }, {
    key: "showErrors",
    value: function showErrors() {
      var report = this.main.model.execution.reports;
      if (report["student"].success) {
        this.main.components.feedback.clear();
      } else {
        this.main.components.feedback.presentRunError(report.student.error);
      }
    }
  }, {
    key: "provideSecretError",
    value: function provideSecretError() {
      var _this2 = this;
      var report = this.main.model.execution.reports;
      var feedback = this.main.components.feedback;
      if (!report["student"].success) {
        var errorButton = this.main.model.configuration.container.find(".blockpy-student-error");
        var message = feedback.presentRunError(report.student.error, true);
        errorButton.attr("title", "Click to see Original Error");
        errorButton.tooltip({
          "trigger": "hover",
          "container": this.main.model.configuration.attachmentPoint
        });
        errorButton.click(function () {
          return _this2.main.components.dialog.ERROR_SHOW_STUDENT_ERROR(message);
        });
        errorButton.show();
      }
    }
  }]);
  return StudentConfiguration;
}(_configurations__WEBPACK_IMPORTED_MODULE_0__["Configuration"]);

/***/ }),

/***/ "./src/feedback.js":
/*!*************************!*\
  !*** ./src/feedback.js ***!
  \*************************/
/*! exports provided: FEEDBACK_HTML, BlockPyFeedback */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FEEDBACK_HTML", function() { return FEEDBACK_HTML; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BlockPyFeedback", function() { return BlockPyFeedback; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
var FEEDBACK_HTML = "\n\n<span class='blockpy-floating-feedback text-muted-less pull-right position-sticky sticky-top'\n    aria-hidden=\"true\" role=\"presentation\" aria-label=\"New Feedback Alert\">\n    New feedback &uarr;\n</span>\n\n<div class='blockpy-feedback col-md-6 blockpy-panel'\n            role=\"region\" aria-label=\"Feedback\"\n            aria-live=\"polite\">\n\n    <!-- Feedback/Trace Visibility Control -->\n    <button type='button'\n            class='btn btn-sm btn-outline-secondary float-right'\n            data-bind=\"click: ui.secondRow.advanceState\">\n        <span class='fas fa-eye'></span>\n        <span data-bind=\"text: ui.secondRow.switchLabel\"></span>\n    </button>\n    \n    <!-- Positive Feedback Region -->\n    <div class=\"blockpy-feedback-positive float-right\">\n        \n    \n    </div>\n\n    <!-- Actual Feedback Region -->    \n    <div>\n        <strong>Feedback: </strong>\n        <span class='badge blockpy-feedback-category feedback-badge'\n            data-bind=\"css: ui.feedback.badge,\n                       text: ui.feedback.category\">Feedback Kind</span>\n        <small data-bind=\"text: (100*submission.score())+'%',\n                          visible: display.instructor() && execution.feedback.label()\"\n            class=\"text-muted\"></small>\n    </div>\n    <div>\n        <strong class=\"blockpy-feedback-label\"\n            data-bind=\"text: execution.feedback.label\"></strong>\n        <div class=\"blockpy-feedback-message\"\n            data-bind=\"html: execution.feedback.message\"></div>\n    </div>\n</div>            \n";
var BlockPyFeedback = /*#__PURE__*/function () {
  /**
   * An object that manages the feedback area, where users are told the state of their
   * program's execution and given guidance. Also manages the creation of the Trace Table.
   *
   * @constructor
   * @this {BlockPyFeedback}
   * @param {Object} main - The main BlockPy instance
   * @param {HTMLElement} tag - The HTML object this is attached to.
   */
  function BlockPyFeedback(main, tag) {
    var _this = this;
    _classCallCheck(this, BlockPyFeedback);
    this.main = main;
    this.tag = tag;
    this.feedbackModel = this.main.model.execution.feedback;
    this.category = this.tag.find(".blockpy-feedback-category");
    this.label = this.tag.find(".blockpy-feedback-label");
    this.message = this.tag.find(".blockpy-feedback-message");
    this.positive = this.tag.find(".blockpy-feedback-positive");

    // TODO: If they change the student extra files, also update the dirty flag
    this.main.model.submission.code.subscribe(function () {
      return _this.main.model.display.dirtySubmission(true);
    });
  }
  _createClass(BlockPyFeedback, [{
    key: "scrollIntoView",
    /**
     * Moves the screen (takes 1 second) to make the Feedback area visible.
     */
    value: function scrollIntoView() {
      $("html, body").animate({
        scrollTop: this.tag.offset().top
      }, 1000);
    }
  }, {
    key: "isFeedbackVisible",
    /**
     * Determines if the feedback area is currently visible
     * @returns {boolean}
     */
    value: function isFeedbackVisible() {
      var visibilityBuffer = 100;
      var topOfElement = this.tag.offset().top;
      //let bottomOfElement = this.tag.offset().top + this.tag.outerHeight();
      var bottomOfElement = topOfElement + visibilityBuffer;
      var bottomOfScreen = $(window).scrollTop() + $(window).height();
      var topOfScreen = $(window).scrollTop();
      //bottom_of_element -= 40; // User friendly padding
      return topOfElement < bottomOfScreen && topOfScreen < bottomOfElement;
    }
  }, {
    key: "clear",
    /**
     * Clears any output currently in the feedback area. Also resets the printer and
     * any highlighted lines in the editor.
     */
    value: function clear() {
      this.feedbackModel.message("*Ready*");
      this.feedbackModel.category(null);
      this.feedbackModel.label(null);
      this.feedbackModel.hidden(false);
      this.feedbackModel.linesError.removeAll();
      this.feedbackModel.linesUncovered.removeAll();
      this.clearPositiveFeedback();
    }
  }, {
    key: "updateRegularFeedback",
    value: function updateRegularFeedback() {}
    /**
     * Updates the model with these new execution results
     * @param executionResults
     */
  }, {
    key: "updateFeedback",
    value: function updateFeedback(executionResults) {
      var _this2 = this;
      // Parse out data
      var message = Sk.ffi.remapToJs(executionResults.MESSAGE);
      var category = Sk.ffi.remapToJs(executionResults.CATEGORY);
      var label = Sk.ffi.remapToJs(executionResults.LABEL);
      var hide = Sk.ffi.remapToJs(executionResults.HIDE);
      var data = executionResults.DATA;
      var positives = Sk.ffi.remapToJs(executionResults.POSITIVE);

      // Override based on assignments' settings
      var hideScore = this.main.model.assignment.hidden();
      if (hideScore && category.toLowerCase() === "complete") {
        category = "no errors";
        label = "No errors";
        message = "No errors reported.";
      }

      // Remap to expected BlockPy labels
      if (category.toLowerCase() === "instructor" && label.toLowerCase() === "explain") {
        label = "Instructor Feedback";
      }

      // Don't present a lack of error as being incorrect
      if (category === "Instructor" && label === "No errors") {
        category = "no errors";
      }

      // Update model accordingly
      message = this.main.utilities.markdown(message).replace(/<pre>\n/g, "<pre>\n\n");
      this.feedbackModel.message(message);
      this.feedbackModel.category(category);
      this.feedbackModel.label(label);
      //let highlightTimeout = setTimeout(() => {
      this.message.find("pre code").map(function (i, block) {
        window.hljs.highlightBlock(block);
      });
      //}, 400);
      // TODO: Instead of tracking student file, let's track the instructor file
      this.main.components.server.logEvent("Intervention", category, label, message, "answer.py");

      // Clear out any previously highlighted lines
      this.main.components.pythonEditor.bm.clearHighlightedLines();

      // Find the first error on a line and report that
      var line = BlockPyFeedback.findFirstErrorLine(data);
      this.feedbackModel.linesError.removeAll();
      if (line !== null && line !== undefined) {
        this.feedbackModel.linesError.push(line);
      }

      // Invert the set of traced lines
      var studentReport = this.main.model.execution.reports.student;
      this.feedbackModel.linesUncovered.removeAll();
      if (studentReport.success) {
        var uncoveredLines = [];
        this.main.model.execution.reports.parser.lines.forEach(function (line) {
          if (studentReport.lines.indexOf(line) === -1) {
            uncoveredLines.push(line);
          }
        });
        this.feedbackModel.linesUncovered(uncoveredLines);
      }
      var _loop = function _loop(i) {
        var positiveData = positives[i];
        _this2.addPositiveFeedback(positiveData.message, "star", "green", function () {
          return _this2.main.components.dialog.POSITIVE_FEEDBACK_FULL(positiveData.title, positiveData.message);
        });
      };
      for (var i = 0; i < positives.length; i += 1) {
        _loop(i);
      }
    }
  }, {
    key: "clearPositiveFeedback",
    value: function clearPositiveFeedback() {
      this.positive.empty();
      this.main.model.configuration.container.find(".blockpy-student-error").hide();
    }
  }, {
    key: "addPositiveFeedback",
    value: function addPositiveFeedback(text, icon, color, onclick, toEnd) {
      var _this3 = this;
      var positive = $("<span></span>");
      positive.addClass("blockpy-feedback-positive-icon fas fa-" + icon);
      positive.css("color", color);
      positive.attr("title", text);
      if (toEnd) {
        this.positive.append(positive);
      } else {
        this.positive.prepend(positive);
      }
      positive.tooltip({
        "trigger": "hover",
        "container": this.main.model.configuration.attachmentPoint
      });
      if (onclick !== undefined) {
        positive.click(onclick);
      }
      positive.hover(function () {
        _this3.main.components.server.logEvent("X-Feedback", "positive", "hover", text, "");
      });
    }
    /**
     * Present any accumulated feedback
     */
  }, {
    key: "presentFeedback",
    value: function presentFeedback(executionResults) {
      this.updateFeedback(executionResults);

      // TODO: Logging
      //this.main.components.server.logEvent("feedback", category+"|"+label, message);

      this.notifyFeedbackUpdate();
    }
  }, {
    key: "notifyFeedbackUpdate",
    value: function notifyFeedbackUpdate() {
      if (!this.isFeedbackVisible()) {
        this.tag.find(".blockpy-floating-feedback").show().fadeOut(7000);
        this.scrollIntoView();
      }
    }
  }, {
    key: "presentRunError",
    value: function presentRunError(error, just_return) {
      if (just_return === undefined) {
        just_return = false;
      }
      var message, label, category, lineno;
      label = error.tp$name;
      category = "runtime";
      message = this.convertSkulptError(error);
      if (just_return) {
        return message;
      }
      this.feedbackModel.message(message);
      this.feedbackModel.category(category);
      this.feedbackModel.label(label);
      this.feedbackModel.linesError.removeAll();
      if (lineno !== undefined && lineno !== null) {
        this.feedbackModel.linesError.push(lineno);
      }
    }
  }, {
    key: "convertSkulptError",
    value: function convertSkulptError(error, filenameExecuted) {
      var _this4 = this;
      var name = error.tp$name;
      var args = Sk.ffi.remapToJs(error.args);
      var top = "".concat(name, ": ").concat(args[0], "\n<br>\n<br>");
      var traceback = "";
      if (error.traceback && error.traceback.length) {
        traceback = "Traceback:<br>\n" + error.traceback.map(function (frame) {
          var lineno = frame.lineno;
          if (frame.filename.slice(0, -3) === filenameExecuted) {
            lineno -= _this4.main.model.execution.reports.instructor.lineOffset;
          }
          var file = "File <code class=\"filename\">\"".concat(frame.filename, "\"</code>, ");
          var line = "on line <code class=\"lineno\">".concat(lineno, "</code>, ");
          var scope = frame.scope !== "<module>" && frame.scope !== undefined ? "in scope ".concat(frame.scope) : "";
          var source = "";
          if (frame.source !== undefined) {
            source = "\n<pre><code>".concat(frame.source, "</code></pre>");
          }
          return file + line + scope + source;
        }).join("\n<br>");
        traceback = "".concat(traceback);
      }
      return top + "\n" + traceback;
    }
  }, {
    key: "presentInternalError",
    value: function presentInternalError(error, filenameExecuted) {
      this.main.model.execution.feedback.category("internal");
      this.main.model.execution.feedback.label("Internal Error");
      var message = "Error in instructor feedback. Please show the following to an instructor:<br>\n";
      message += this.convertSkulptError(error, filenameExecuted);
      this.main.model.execution.feedback.message(message);
      this.notifyFeedbackUpdate();
    }
  }], [{
    key: "findFirstErrorLine",
    value: function findFirstErrorLine(feedbackData) {
      if (feedbackData.quick$lookup) {
        var location = feedbackData.quick$lookup(new Sk.builtin.str("location"));
        if (location) {
          var line = location.tp$getattr(new Sk.builtin.str("line"));
          if (line) {
            return Sk.ffi.remapToJs(line);
          }
        }
      }
      return null;
      /*for (let i = feedbackData.length-1; i >= 0; i-= 1) {
          if ("position" in feedbackData[i]) {
              return feedbackData[i].position.line;
          }
      }
      return null;*/
    }
  }]);
  return BlockPyFeedback;
}();
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/files.js":
/*!**********************!*\
  !*** ./src/files.js ***!
  \**********************/
/*! exports provided: FILES_HTML, STARTING_FILES, BASIC_NEW_FILES, UNDELETABLE_FILES, UNRENAMABLE_FILES, makeModelFile, loadConcatenatedFile, createConcatenatedFile, observeConcatenatedFile, BlockPyFileSystem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(ko, $) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FILES_HTML", function() { return FILES_HTML; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "STARTING_FILES", function() { return STARTING_FILES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BASIC_NEW_FILES", function() { return BASIC_NEW_FILES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UNDELETABLE_FILES", function() { return UNDELETABLE_FILES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UNRENAMABLE_FILES", function() { return UNRENAMABLE_FILES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeModelFile", function() { return makeModelFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadConcatenatedFile", function() { return loadConcatenatedFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createConcatenatedFile", function() { return createConcatenatedFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "observeConcatenatedFile", function() { return observeConcatenatedFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BlockPyFileSystem", function() { return BlockPyFileSystem; });
/* harmony import */ var utilities_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! utilities.js */ "./src/utilities.js");
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }


// ${makeTab("?mock_urls.blockpy", "URL Data", true)}

var makeTab = function makeTab(filename, friendlyName, hideIfEmpty, notInstructor) {
  if (friendlyName === undefined) {
    friendlyName = filename;
  }
  var instructorFileClass = "";
  var hideIfNotInstructor = "true";
  if (!notInstructor) {
    instructorFileClass = "blockpy-file-instructor";
    hideIfNotInstructor = "display.instructor()";
  }
  return "\n    <li class=\"nav-item ".concat(instructorFileClass, "\">\n        <a class=\"nav-link\" href=\"#\"\n            data-toggle=\"tab\"\n            data-bind=\"css: {active: display.filename() === '").concat(filename, "'},\n                click: display.filename.bind($data, '").concat(filename, "'),\n                visible: (!").concat(hideIfEmpty, " || ui.files.hasContents('").concat(filename, "')) && ").concat(hideIfNotInstructor, "\">\n            ").concat(friendlyName, "</a>\n    </li>");
};
var FILES_HTML = "\n<div class=\"col-md-12 blockpy-panel blockpy-files\"\n    data-bind=\"visible: ui.files.visible\">\n<ul class=\"nav nav-tabs\" role=\"tablist\">\n\n    <li class=\"nav-item\">\n        <strong>View: </strong>\n    </li>\n\n    ".concat(makeTab("answer.py", undefined, undefined, true), "\n    ").concat(makeTab("!instructions.md", "Instructions"), "\n    ").concat(makeTab("!assignment_settings.blockpy", "Settings"), "\n    ").concat(makeTab("^starting_code.py", "Starting Code"), "\n    ").concat(makeTab("!on_run.py", "On Run"), "\n    ").concat(makeTab("!on_change.py", "On Change", true), "\n    ").concat(makeTab("!on_eval.py", "On Eval", true), "\n    ").concat(makeTab("!sample_submissions.blockpy", "Sample Submissions", true), "\n    ").concat(makeTab("!tags.blockpy", "Tags", true), "\n    \n    <!-- ko foreach: assignment.extraInstructorFiles -->\n        <li class=\"nav-item\"\n            data-bind=\"css: {'blockpy-file-instructor': !filename().startsWith('&')},\n                       visible: filename().startsWith('&') || $root.display.instructor() \">\n            <a class=\"nav-link\" href=\"#\"\n                data-toggle=\"tab\"\n                data-bind=\"css: {active: $root.display.filename() === filename(),\n                                 uneditable: filename().startsWith('&')},\n                            click: $root.display.filename.bind($data, filename()),\n                            text: $root.ui.files.displayFilename(filename())\">\n            </a>        \n        </li>\n    <!-- /ko -->\n    <!-- ko foreach: assignment.extraStartingFiles -->\n        <li class=\"nav-item blockpy-file-instructor\"\n            data-bind=\"visible: $root.display.instructor()\">\n            <a class=\"nav-link\" href=\"#\"\n                data-toggle=\"tab\"\n                data-bind=\"css: {active: $root.display.filename() === filename()},\n                            click: $root.display.filename.bind($data, filename()),\n                            text: filename\">\n            </a>        \n        </li>\n    <!-- /ko -->\n    \n    <!-- ko foreach: submission.extraFiles -->\n        <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\"\n                data-toggle=\"tab\"\n                data-bind=\"css: {active: $root.display.filename() === filename()},\n                            click: $root.display.filename.bind($data, filename()),\n                            text: $root.ui.files.displayFilename(filename())\">\n            </a>        \n        </li>\n    <!-- /ko -->\n  \n    <li class=\"nav-item dropdown\">\n        <a class=\"nav-link dropdown-toggle\" href=\"#\" data-toggle=\"dropdown\"\n         role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">Add New</a>\n        <div class=\"dropdown-menu dropdown-menu-right\">\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: ui.files.hasContents('?mock_urls.blockpy'),\n                           click: ui.files.add.bind($data, '?mock_urls.blockpy')\">URL Data</a>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: ui.files.hasContents('?tags.blockpy')\">Tags</a>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: ui.files.hasContents('?sample_submissions.blockpy')\">Sample Submissions</a>\n            <div class=\"dropdown-divider\"></div>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: assignment.onChange,\n                           click: ui.files.add.bind($data, '!on_change.py')\">On Change</a>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: assignment.onEval,\n                           click: ui.files.add.bind($data, '!on_eval.py')\">On Eval</a>\n            <div class=\"dropdown-divider\"></div>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"click: ui.files.add.bind($data, 'starting')\">Starting File</a>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"click: ui.files.add.bind($data, 'instructor')\">Instructor File</a>\n            <a class=\"dropdown-item\" href=\"#\"\n                data-bind=\"click: ui.files.add.bind($data, 'student')\">Student File</a>\n        </div>\n    </li>\n  \n</ul>\n</div>\n");
var NEW_INSTRUCTOR_FILE_DIALOG_HTML = "\n<form>\n<div class=\"form-group row\">\n    <!-- Filename -->\n    <div class=\"col-sm-2 text-right\">\n        <label for=\"blockpy-instructor-file-dialog-filename\">Filename:</label>\n    </div>\n    <div class=\"col-sm-10\">\n        <input type=\"text\" class=\"form-control blockpy-instructor-file-dialog-filename\"\n            id=\"blockpy-instructor-file-dialog-filename\">    \n    </div>\n    <!-- Filetype -->\n    <div class=\"col-sm-2 text-right mt-2\">\n        <label for=\"blockpy-instructor-file-dialog-filetype\">Filetype: </label>\n    </div>\n    <div class=\"col-sm-10\">\n        <span class=\"blockpy-instructor-file-dialog-filetype\"\n            id=\"blockpy-instructor-file-dialog-filetype\"></span>    \n    </div>\n    <!-- Inaccessible to student? -->\n    <div class=\"col-sm-2 text-right mt-2\">\n        <label for=\"blockpy-instructor-file-dialog-namespace\">Namespace: </label>\n    </div>\n    <div class=\"col-sm-4\">\n        <select class=\"form-control blockpy-instructor-file-dialog-namespace\"\n            id=\"blockpy-instructor-file-dialog-namespace\">\n            <option value=\"!\">Completely inaccessible</option>\n            <option value=\"?\">Hidden from student, accessible programatically</option>\n            <option value=\"&\">Visible to student, but not editable</option>\n        </select>\n    </div>\n</div>\n</form>\n";

/**
 * Filenames live in one of five possible namespaces:
 *  Instructor (!): Invisible to the student under all circumstances
 *  Start Space (^): Used to reset the student namespace
 *  Student Space (): Visible to the student when display.hideFiles is not true, able to be edited
 *  Hidden Space (?): Not directly visible to the student, but accessible programmatically
 *  Read-only Space (&): An instructor file type visible to the student, but is uneditable by them
 *  Secret Space ($): Not visible from the menu at all, some other mechanism controls it
 *  Generated Space (*): Visible to the student, but destroyed after Engine.Clear. Can shadow an actual file.
 *  Concatenated Space (#): Used when bundling a space for the server.
 */

var STARTING_FILES = [
// Submission
"answer.py",
// Instructor files
"!instructions.md", "!assignment_settings.blockpy", "^starting_code.py", "!on_run.py", "$settings.blockpy"];
var BASIC_NEW_FILES = ["!on_change.py", "!on_eval.py", "?mock_urls.blockpy", "!tags.blockpy", "!sample_submissions.blockpy"];
var INSTRUCTOR_DIRECTORY = "_instructor/";
var STUDENT_DIRECTORY = "_student/";
var SearchModes = {
  EVERYWHERE: "EVERYWHERE",
  START_WITH_INSTRUCTOR: "START_WITH_INSTRUCTOR",
  ONLY_STUDENT_FILES: "ONLY_STUDENT_FILES"
};
var DELETABLE_SIMPLE_FILES = ["!on_change.py", "!on_eval.py"];
var UNDELETABLE_FILES = ["answer.py", "!instructions.md", "!assignment_settings.py", "^starting_code.py", "!on_run.py", "$settings.blockpy"];
var UNRENAMABLE_FILES = ["answer.py", "!instructions.md", "!assignment_settings.py", "^starting_code.py", "!on_run.py", "$settings.blockpy", "!on_change.py", "!on_eval.py", "?mock_urls.blockpy", "!tags.blockpy", "!sample_submissions.blockpy"];
var BlockPyFile = function BlockPyFile(main, filename, contents) {
  _classCallCheck(this, BlockPyFile);
  this.main = main;
  this.filename = filename;
  this.contents = contents || "";
  this.owner = null;
  this.handle = null;
};
function makeModelFile(filename, contents) {
  return {
    "filename": ko.observable(filename),
    contents: ko.observable(contents || "")
  };
}
function makeMockModelFile(_filename, _contents) {
  return {
    filename: function filename() {
      return _filename;
    },
    contents: function contents() {
      return _contents;
    }
  };
}
function loadConcatenatedFile(concatenatedFile, modelFileList) {
  if (concatenatedFile) {
    var files = JSON.parse(concatenatedFile);
    var modelFiles = [];
    for (var filename in files) {
      if (files.hasOwnProperty(filename)) {
        modelFiles.push(makeModelFile(filename, files[filename]));
      }
    }
    //files = files.map(file => makeModelFile(file.filename, file.contents));
    modelFileList(modelFiles);
  } else {
    modelFileList([]);
  }
}
function createConcatenatedFile(modelFileList) {
  return JSON.stringify(modelFileList().map(function (file) {
    return {
      filename: file.filename(),
      contents: file.contents()
    };
  }));
}
function observeConcatenatedFile(modelFileList) {
  return ko.pureComputed(function () {
    var result = {};
    modelFileList().forEach(function (file) {
      return result[file.filename()] = file.contents();
    });
    return JSON.stringify(result);
  });
}

/**
 * Abstracts away database logic
 */
var BlockPyFileSystem = /*#__PURE__*/function () {
  function BlockPyFileSystem(main) {
    _classCallCheck(this, BlockPyFileSystem);
    this.main = main;
    this.files_ = {};
    this.mountFiles();
    this.watchModel();
    this.watches_ = {};
    this.main.model.display.instructor.subscribe(function (visiblity) {
      $(".blockpy-file-instructor").toggle(visiblity);
    });
  }
  _createClass(BlockPyFileSystem, [{
    key: "watchFile",
    value: function watchFile(filename, callback) {
      if (!(filename in this.watches_)) {
        this.watches_[filename] = [];
      }
      this.watches_[filename].push(callback);
    }
  }, {
    key: "stopWatchingFile",
    value: function stopWatchingFile(filename) {
      delete this.watches_[filename];
    }
  }, {
    key: "watchModel",
    value: function watchModel() {
      var _this = this;
      var filesystem = this;
      [this.main.model.submission.extraFiles, this.main.model.assignment.extraStartingFiles, this.main.model.assignment.extraInstructorFiles].forEach(function (fileArray) {
        return fileArray.subscribe(function (changes) {
          changes.forEach(function (change) {
            var modelFile = change.value;
            if (change.status === "added") {
              // Track new file
              var file = filesystem.newFile(modelFile.filename(), modelFile.contents(), modelFile.contents);
              filesystem.notifyWatches(file);
            } else if (change.status === "deleted") {
              // Delete file
              filesystem.deleteFileLocally_(modelFile.filename);
            }
          });
        }, _this, "arrayChange");
      });
    } // answer.py
    //   => subscribe to first element of submission.code)
    // !on_run.py, !on_change.py, !on_eval.py
    //   => subscribe to relevant assignment.<whatever>
    // ^starting_code.py
    //   => subscribe to first element of assignment.startingCode
    // ^whatever
    //   => subscribe to rest of the elements of assignment.startingCode
    // !whatever or ?whatever
    //   => subscribe to elements of assignment.extraFiles
    // Otherwise:
    //   => subscribe to rest of the elements of submission.code
    /**
     * New special files need to be registered here
     * @param file {BlockPyFile}
     * @private
     */
  }, {
    key: "observeFile_",
    value: function observeFile_(file) {
      if (file.filename === "answer.py") {
        file.handle = this.main.model.submission.code;
      } else if (file.filename === "!on_run.py") {
        file.handle = this.main.model.assignment.onRun;
      } else if (file.filename === "!on_change.py") {
        file.handle = this.main.model.assignment.onChange;
      } else if (file.filename === "!on_eval.py") {
        file.handle = this.main.model.assignment.onEval;
      } else if (file.filename === "!instructions.md") {
        file.handle = this.main.model.assignment.instructions;
      } else if (file.filename === "^starting_code.py") {
        file.handle = this.main.model.assignment.startingCode;
      } else if (file.filename === "?mock_urls.blockpy") {
        this.observeInArray_(file, this.main.model.assignment.extraInstructorFiles);
      } else if (file.filename === "!tags.blockpy") {
        file.handle = this.main.model.assignment.tags;
      } else if (file.filename === "!assignment_settings.blockpy") {
        file.handle = this.main.model.assignment.settings;
      } else if (file.filename === "$settings.blockpy") {
        file.handle = this.main.model.display;
      } else if (file.filename.startsWith("^")) {
        this.observeInArray_(file, this.main.model.assignment.extraStartingFiles);
      } else if (file.filename.startsWith("!") || file.filename.startsWith("?") || file.filename.startsWith("&")) {
        this.observeInArray_(file, this.main.model.assignment.extraInstructorFiles);
      } else {
        this.observeInArray_(file, this.main.model.submission.extraFiles);
      }
    }
  }, {
    key: "observeInArray_",
    value: function observeInArray_(file, array) {
      file.owner = array;
      var codeBundle = file.owner();
      for (var i = 0; i < codeBundle.length; i++) {
        if (codeBundle[i].filename() === file.filename) {
          file.handle = codeBundle[i].contents;
        }
      }
      if (file.handle === null) {
        var newFile = makeModelFile(file.filename);
        file.handle = newFile.contents;
        array.push(newFile);
      }
    }
  }, {
    key: "mountFiles",
    value: function mountFiles() {
      this.newFile("answer.py");
      this.newFile("^starting_code.py");
      this.newFile("!on_run.py");
      this.newFile("!instructions.md");
      this.newFile("!assignment_settings.blockpy");
    }
  }, {
    key: "dismountExtraFiles",
    value: function dismountExtraFiles() {
      for (var name in this.files_) {
        if (this.files_.hasOwnProperty(name)) {
          if (UNDELETABLE_FILES.indexOf(name) === -1) {
            delete this.files_[name];
            delete this.watches_[name];
          }
        }
      }
      // submission.codeTODO: Shouldn't we notify the UI that the file was deleted?
    }
  }, {
    key: "newFile",
    value: function newFile(filename, contents, modelFile) {
      if (filename in this.files_) {
        // File already exists! Just update its handle
        var existingFile = this.files_[filename];
        if (modelFile === undefined) {
          this.observeFile_(existingFile);
        } else {
          existingFile.handle = modelFile;
        }
        existingFile.handle(contents || "");
        return existingFile;
      } else {
        // File does not exist
        var newFile = new BlockPyFile(this.main, filename);
        this.files_[filename] = newFile;
        if (modelFile === undefined) {
          this.observeFile_(newFile);
        } else {
          newFile.handle = modelFile;
        }
        if (contents !== undefined) {
          newFile.handle(contents);
        }
        return newFile;
      }
    }
  }, {
    key: "writeFile",
    value: function writeFile(filename, contents) {
      contents = contents || "";
      this.files_[filename].handle(contents);
    }
  }, {
    key: "readFile",
    value: function readFile(filename) {
      return this.files_[filename].handle();
    }
  }, {
    key: "getFile",
    value: function getFile(filename) {
      return this.files_[filename];
    }
    /**
     *
     * @param filename
     * @returns {boolean|object} The info about the file, or false if it could not be deleted
     */
  }, {
    key: "deleteFile",
    value: function deleteFile(filename) {
      if (DELETABLE_SIMPLE_FILES.indexOf(filename) !== -1) {
        var file = this.deleteFileLocally_(filename);
        file.handle(null);
        return true;
      } else if (this.files_[filename].owner === null) {
        return false;
      } else {
        // Triggers a callback to eventually call deleteFileLocally_
        var found = this.files_[filename].owner.remove(function (modelFile) {
          return modelFile.filename === filename;
        });
        return found || false;
      }
    }
  }, {
    key: "deleteFileLocally_",
    value: function deleteFileLocally_(filename) {
      var file = this.files_[filename];
      delete this.files_[filename];
      if (filename in this.watches_) {
        this.watches_[filename].forEach(function (callback) {
          return callback.deleted();
        });
      }
      return file;
    }
  }, {
    key: "notifyWatches",
    value: function notifyWatches(file) {
      if (file.filename in this.watches_) {
        this.watches_[file.filename].forEach(function (callback) {
          return callback.updated(file);
        });
      }
    }
  }, {
    key: "searchForFile",
    value: function searchForFile(name, studentSearch) {
      /*
      files.*
      _instructor/files.*
      _student/files.*
       If a student searches for a file, it checks the "?", "&", "*", "" namespaces
          import helper => "./helper.py"
          open("external.json") => "external.json"
      If an instructor searches for a file, it checks "!", "^", "?", "&", "*", "" namespaces
          To explicitly search instructor namespaces first
              import _instructor.helper => "./instructor/helper.py"
              open("_instructor/external.json") => "_instructor/external.json"
          to allow student files to override:
              import helper => "./helper.py"
              open("external.json") => "external.json"
          to only check student files, prepend with _student
       */
      // Chop off starting "./"
      if (name.startsWith("./")) {
        name = name.slice(2);
      }
      var searchMode = SearchModes.EVERYWHERE;
      // Should the search be start with instructor side?
      if (name.startsWith(INSTRUCTOR_DIRECTORY)) {
        name = name.slice(INSTRUCTOR_DIRECTORY.length);
        searchMode = SearchModes.START_WITH_INSTRUCTOR;
      }
      // Should the search be limited to the student mode?
      if (name.startsWith(STUDENT_DIRECTORY)) {
        name = name.slice(STUDENT_DIRECTORY.length);
        searchMode = SearchModes.ONLY_STUDENT_FILES;
      } else if (studentSearch) {
        searchMode = SearchModes.ONLY_STUDENT_FILES;
      }
      // Shortcut for instructor versions
      var extraStudentFiles = this.main.model.submission.extraFiles();
      var extraInstructorFiles = this.main.model.assignment.extraInstructorFiles();
      var extraStartingFiles = this.main.model.assignment.extraStartingFiles();
      // Check special files (TODO: how would an instructor access "./_instructor/answer.py"?
      var specialFile = this.searchForSpecialFiles_(name, searchMode);
      if (specialFile !== undefined) {
        return specialFile;
      }
      // Start looking through possible files
      var studentVersion = this.searchForFileInList_(extraStudentFiles, name);
      var generatedVersion = this.searchForFileInList_(extraStudentFiles, "*" + name);
      var defaultVersion = this.searchForFileInList_(extraInstructorFiles, "&" + name);
      if (searchMode === SearchModes.ONLY_STUDENT_FILES) {
        return Object(utilities_js__WEBPACK_IMPORTED_MODULE_0__["firstDefinedValue"])(defaultVersion, studentVersion, generatedVersion);
      }
      var instructorVersion = this.searchForFileInList_(extraInstructorFiles, "!" + name);
      var hiddenVersion = this.searchForFileInList_(extraInstructorFiles, "?" + name);
      var startingVersion = this.searchForFileInList_(extraStartingFiles, "^" + name);
      if (searchMode === SearchModes.START_WITH_INSTRUCTOR) {
        return Object(utilities_js__WEBPACK_IMPORTED_MODULE_0__["firstDefinedValue"])(instructorVersion, hiddenVersion, startingVersion, defaultVersion, studentVersion, generatedVersion);
      } else if (searchMode === SearchModes.EVERYWHERE) {
        return Object(utilities_js__WEBPACK_IMPORTED_MODULE_0__["firstDefinedValue"])(defaultVersion, studentVersion, generatedVersion, instructorVersion, hiddenVersion, startingVersion);
      }
    }
  }, {
    key: "searchForFileInList_",
    value: function searchForFileInList_(modelList, filename) {
      for (var i = 0; i < modelList.length; i++) {
        if (modelList[i].filename() === filename) {
          return modelList[i];
        }
      }
      return undefined;
    }
  }, {
    key: "searchForSpecialFiles_",
    value: function searchForSpecialFiles_(filename, searchMode) {
      if (searchMode === SearchModes.ONLY_STUDENT_FILES) {
        if (filename === "answer.py") {
          return makeMockModelFile("_instructor/answer.py", this.main.model.submission.code());
        }
        return undefined;
      }
      switch (filename) {
        case "answer.py":
          return makeMockModelFile("_instructor/answer.py", this.main.model.submission.code());
        case "on_run.py":
          return makeMockModelFile("_instructor/on_run.py", this.main.model.assignment.onRun());
        case "on_change.py":
          return makeMockModelFile("_instructor/on_change.py", this.main.model.assignment.onChange());
        case "on_eval.py":
          return makeMockModelFile("_instructor/on_eval.md", this.main.model.assignment.onEval());
        case "instructions.md":
          return makeMockModelFile("_instructor/instructions.md", this.main.model.assignment.instructions());
        case "starting_code.py":
          return makeMockModelFile("_instructor/starting_code.py", this.main.model.assignment.startingCode());
      }
      return undefined;
    }
  }, {
    key: "newFileDialog",
    value: function newFileDialog(kind) {
      var _this2 = this;
      var body = $(NEW_INSTRUCTOR_FILE_DIALOG_HTML);
      var filename = body.find(".blockpy-instructor-file-dialog-filename");
      var filetype = body.find(".blockpy-instructor-file-dialog-filetype");
      var namespace = body.find(".blockpy-instructor-file-dialog-namespace");
      var extensionRegex = /(?:\.([^.]+))?$/;
      filename.on("input", function () {
        var extension = extensionRegex.exec(filename.val())[1];
        extension = extension === undefined ? "No extension" : extension;
        //TODO: this.main.components.editors.getEditorFromExtension(extension);
        filetype.text(extension);
      });
      var yes = function yes() {
        var prefix = "";
        if (kind === "instructor") {
          prefix = namespace.val();
        } else if (kind === "starting") {
          prefix = "^";
        }
        if (filename.val()) {
          filename = prefix + filename.val();
          _this2.newFile(filename);
        }
      };
      body.submit(function (e) {
        e.preventDefault();
        yes();
        _this2.main.components.dialog.close();
      });
      this.main.components.dialog.confirm("Make New File", body, yes, function () {}, "Add");
    }
  }]);
  return BlockPyFileSystem;
}();
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! knockout */ "knockout"), __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/footer.js":
/*!***********************!*\
  !*** ./src/footer.js ***!
  \***********************/
/*! exports provided: FOOTER_HTML */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FOOTER_HTML", function() { return FOOTER_HTML; });
//TODO: Move get link down to footer, remove vertical bar from quick-menu
var FOOTER_HTML = "\n<div class=\"col-md-12 blockpy-panel blockpy-status\">\n    <div>\n        <span class=\"badge\" data-bind=\"class: ui.server.status('loadAssignment')\">Load Assignment</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('saveAssignment')\">Save Assignment</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('loadFile')\">Load File</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('saveFile')\">Save File</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('loadDataset')\">Load Dataset</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('logEvent')\">Log Event</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('updateSubmission'),\n                                        click: ui.server.force.updateSubmission\">Update Submission</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('onExecution')\">Execution</span>\n    </div>\n    <div\n        <span data-bind=\"text: ui.server.messages\"></span>\n    </div>\n    <div>\n        <span>User: <span data-bind=\"text: user.id\"></span> (<span data-bind=\"text: user.name\"></span>, <span data-bind=\"text: user.role\"></span>)</span>, \n        <span>Course: <span data-bind=\"text: user.courseId\"></span></span>,\n        <span>Group: <span data-bind=\"text: user.groupId\"></span></span>,\n        <span>Assignment: <span data-bind=\"text: assignment.id\"></span></span>,\n        <span>Assignment Version: <span data-bind=\"text: assignment.version\"></span></span>,\n        <span>Submission: <span data-bind=\"text: submission.id\"></span></span>, \n        <span>Submission Version: <span data-bind=\"text: submission.version\"></span></span>\n    </div>\n</div>\n";

/***/ }),

/***/ "./src/history.js":
/*!************************!*\
  !*** ./src/history.js ***!
  \************************/
/*! exports provided: HISTORY_TOOLBAR_HTML, BlockPyHistory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HISTORY_TOOLBAR_HTML", function() { return HISTORY_TOOLBAR_HTML; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BlockPyHistory", function() { return BlockPyHistory; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
// TODO: Should disable buttons if we can't activate them.

var HISTORY_TOOLBAR_HTML = "\n<div class=\"blockpy-history-toolbar col-md-12\" data-bind=\"visible: display.historyMode\">\n\n    <form class=\"form-inline\">\n        <button class=\"blockpy-history-start btn btn-outline-secondary mr-2\" type=\"button\"\n            data-bind=\"click: ui.editors.python.history.start\">\n            <span class='fas fa-step-backward'></span> Start\n        </button>\n        <button class=\"btn btn-outline-secondary mr-2\" type=\"button\"\n            data-bind=\"click: ui.editors.python.history.previous\">\n            <span class='fas fa-backward'></span> Previous\n        </button>\n        <select class=\"blockpy-history-selector form-control custom-select mr-2\" aria-title=\"History Selector\">\n        </select>\n        <button class=\"btn btn-outline-secondary mr-2\" type=\"button\"\n            data-bind=\"click: ui.editors.python.history.use\">\n            <span class='fas fa-file-import'></span> Use\n        </button>\n        <button class=\"btn btn-outline-secondary mr-2\" type=\"button\"\n            data-bind=\"click: ui.editors.python.history.next\">\n            <span class='fas fa-forward'></span> Next\n        </button>\n        <button class=\"btn btn-outline-secondary\" type=\"button\"\n            data-bind=\"click: ui.editors.python.history.mostRecent\">\n            <span class='fas fa-step-forward'></span> Most Recent\n        </button>\n    </form>\n</div>\n";

/**
 * An object for displaying the user's coding logs (their history).
 * A lightweight component, its only job is to open a dialog.
 *
 * @constructor
 * @this {BlockPyHistory}
 * @param {Object} main - The main BlockPy instance
 */
var BlockPyHistory = /*#__PURE__*/function () {
  function BlockPyHistory(main, tag) {
    _classCallCheck(this, BlockPyHistory);
    this.main = main;
    this.tag = tag;
    this.currentId = null;
    this.history = [];
    this.editEvents = [];
  }
  _createClass(BlockPyHistory, [{
    key: "load",
    value: function load(history) {
      var _this = this;
      this.history = history;
      this.editEvents = [];
      this.selector = $(".blockpy-history-selector").empty();
      var editId = 0;
      history.filter(function (entry) {
        return !entry.file_path.startsWith("_instructor.") && entry.event_type !== "Compile" && entry.event_type !== "Intervention" && (!_this.main.model.assignment.hidden() || entry.event_type !== "X-Submission.LMS");
      }).forEach(function (entry, index) {
        var event_type = REMAP_EVENT_TYPES[entry.event_type] || entry.event_type;
        var displayed = prettyPrintDateTime(entry.client_timestamp) + " - " + event_type;
        var disable = entry.event_type !== "File.Edit";
        var option = $("<option></option>", {
          text: displayed,
          disabled: disable
        });
        if (_this.isEditEvent(entry)) {
          option.attr("value", editId);
          _this.editEvents.push(entry);
          editId += 1;
        }
        _this.selector.append(option);
      });
      this.selector.val(Math.max(0, editId - 1));
      this.selector.change(function (evt) {
        _this.updateEditor();
      });
    }
  }, {
    key: "moveToStart",
    value: function moveToStart() {
      this.selector.val(0);
      this.updateEditor();
    }
  }, {
    key: "movePrevious",
    value: function movePrevious() {
      var currentId = parseInt(this.selector.val(), 10);
      this.selector.val(Math.max(0, currentId - 1));
      this.updateEditor();
    }
  }, {
    key: "moveNext",
    value: function moveNext() {
      var currentId = parseInt(this.selector.val(), 10);
      this.selector.val(Math.min(this.editEvents.length - 1, currentId + 1));
      this.updateEditor();
    }
  }, {
    key: "moveToMostRecent",
    value: function moveToMostRecent() {
      this.selector.val(this.editEvents.length - 1);
      this.updateEditor();
    }
  }, {
    key: "updateEditor",
    value: function updateEditor() {
      if (this.editEvents.length) {
        var currentId = parseInt(this.selector.val(), 10);
        this.main.components.pythonEditor.bm.setCode(this.editEvents[currentId].message);
      }
    }
  }, {
    key: "use",
    value: function use() {
      if (this.editEvents.length) {
        var currentId = parseInt(this.selector.val(), 10);
        var code = this.editEvents[currentId].message;
        this.main.model.ui.editors.python.turnOffHistoryMode();
        this.main.components.pythonEditor.file.handle(code);
      }
    }
  }, {
    key: "isEditEvent",
    value: function isEditEvent(entry) {
      return (entry.event_type === "File.Edit" || entry.event_type === "File.Create") && this.main.model.display.filename() === entry.file_path;
    }
  }]);
  return BlockPyHistory;
}();
var REMAP_EVENT_TYPES = {
  "Session.Start": "Began session",
  "X-IP.Change": "Changed IP address",
  "File.Edit": "Edited code",
  "File.Create": "Started assignment",
  "Run.Program": "Ran program",
  "Compile.Error": "Syntax error",
  "X-Submission.LMS": "Updated grade"
};
var monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "June", "July", "Aug", "Sept", "Oct", "Nov", "Dec"];
var weekDays = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
function isSameDay(first, second) {
  return first.getDate() === second.getDate() && first.getMonth() === second.getMonth() && first.getFullYear() === second.getFullYear();
}

/**
 * Helper function to parse a date/time string and rewrite it as something
 * more human readable.
 * @param {String} timeString - the string representation of time ("YYYYMMDD HHMMSS")
 * @returns {String} - A human-readable time string.
 */
function prettyPrintDateTime(timeString) {
  /*let year = timeString.slice(0, 4),
      month = parseInt(timeString.slice(4, 6), 10)-1,
      day = timeString.slice(6, 8),
      hour = timeString.slice(9, 11),
      minutes = timeString.slice(11, 13),
      seconds = timeString.slice(13, 15);*/
  // TODO: Handle timezones correctly
  if (timeString === undefined) {
    return "Undefined Time";
  }
  var now = new Date();
  var past = new Date(parseInt(timeString, 10));
  if (isSameDay(now, past)) {
    return "Today at " + past.toLocaleTimeString();
  } else {
    var dayStr = weekDays[past.getDay()];
    var monthStr = monthNames[past.getMonth()];
    var date = dayStr + ", " + monthStr + " " + past.getDate();
    if (now.getFullYear() === past.getFullYear()) {
      return date + " at " + past.toLocaleTimeString();
    } else {
      return date + ", " + past.getFullYear() + " at " + past.toLocaleTimeString();
    }
  }
}

/**
 * Opens the history dialog box. This requires a trip to the server and
 * occurs asynchronously. The users' code is shown in preformatted text
 * tags (no code highlighting currently) along with the timestamp.
 */
BlockPyHistory.prototype.openDialog = function () {
  var dialog = this.main.components.dialog;
  var body = "<pre>a = 0</pre>";
  this.main.components.server.getHistory(function (data) {
    body = data.reverse().reduce(function (complete, elem) {
      var complete_str = prettyPrintDateTime(elem.time);
      var new_line = "<b>" + complete_str + "</b><br><pre>" + elem.code + "</pre>";
      return complete + "\n" + new_line;
    }, "");
    dialog.show("Work History", body, function () {});
  });
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/interface.js":
/*!**************************!*\
  !*** ./src/interface.js ***!
  \**************************/
/*! exports provided: SecondRowSecondPanelOptions, makeExtraInterfaceSubscriptions, makeInterface */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SecondRowSecondPanelOptions", function() { return SecondRowSecondPanelOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeExtraInterfaceSubscriptions", function() { return makeExtraInterfaceSubscriptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeInterface", function() { return makeInterface; });
/* harmony import */ var trace_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! trace.js */ "./src/trace.js");
/* harmony import */ var dialog_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dialog.js */ "./src/dialog.js");
/* harmony import */ var feedback_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! feedback.js */ "./src/feedback.js");
/* harmony import */ var files_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! files.js */ "./src/files.js");
/* harmony import */ var footer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! footer.js */ "./src/footer.js");
/* harmony import */ var editors_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! editors.js */ "./src/editors.js");
/* harmony import */ var console_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! console.js */ "./src/console.js");
/**
 * @fileoverview Contains main HTML of BlockPy interface, and helper functions.
 * Combines a lot of HTML from components.
 *
 * Here's the layout:
 *  Row 1: Header and Quick Menu
 *  Row 2: Console and Feedback
 *  Row 3: File Navigation
 *  Row 4: View Row
 *  Row 5: Footer Row
 */









/**
 * The different layout options of the panes in the second row of the layout.
 * @enum {String}
 */
var SecondRowSecondPanelOptions = {
  FEEDBACK: "feedback",
  TRACE: "trace",
  NONE: "none"
};

/**
 * Setup any additional Knockout subscriptions to fire on interface changes.
 * @param self
 * @param model
 */
function makeExtraInterfaceSubscriptions(self, model) {
  // Highlight Markdown when instructions update
  var highlightTimeout = null;
  model.ui.instructions.current.subscribe(function () {
    if (highlightTimeout !== null) {
      clearTimeout(highlightTimeout);
    }
    highlightTimeout = setTimeout(function () {
      model.configuration.container.find(".blockpy-instructions pre code").map(function (i, block) {
        window.hljs.highlightBlock(block);
      });
    }, 400);
  });
  // Provide Fullscreen support
  model.display.fullscreen.subscribe(function (isFullscreen) {
    self.components.server.logEvent("X-Display.Fullscreen.Request", "", "", isFullscreen.toString(), "");
    if (isFullscreen) {
      // NOTE: navigationUI could allow us to force controls to show
      model.configuration.container.parent()[0].requestFullscreen()["catch"](function (err) {
        var message = "Error attempting to enable full-screen mode: ".concat(err.message, " (").concat(err.name, ")");
        self.components.server.logEvent("X-Display.Fullscreen.Error", "", "", message, "");
        alert(message);
      }).then(function () {
        self.components.server.logEvent("X-Display.Fullscreen.Success", "", "", "", "");
        model.display.fullscreen(true);
        model.configuration.container.css("overflow-y", "auto");
      });
    } else {
      document.exitFullscreen().then(function () {
        self.components.server.logEvent("X-Display.Fullscreen.Exit", "", "", isFullscreen.toString(), "");
        model.display.fullscreen(false);
      });
    }
  });
}

// TODO: Get shareable link button

function makeInterface(main) {
  return "\n<div class='blockpy-content container-fluid'>\n\n    <!-- Dialog -->\n    ".concat(dialog_js__WEBPACK_IMPORTED_MODULE_1__["DIALOG_HTML"], "\n    \n    <!-- Hidden Capture Canvas -->\n    <canvas id='capture-canvas' class='d-none' role=\"presentation\" aria-hidden=\"true\"></canvas>\n    \n    <!-- Row 1: Header and Quick Menu -->\n    <div class='row'>\n         \n         <!-- Description -->\n         <div class='col-md-10 blockpy-panel blockpy-header'\n               role='heading' aria-label='Assignment Description'>\n         \n            <!-- Assignment Name -->\n            <span role='heading' aria-level='1'\n                  class=\"blockpy-name\">\n                <strong>BlockPy: </strong> \n                <span data-bind='text: assignment.name'></span>\n            </span>\n            \n            <!-- Reset Instructions Button -->\n            <div class=\"blockpy-instructions-reset\"\n                data-bind=\"visible: ui.instructions.isChanged\">\n                <a class=\"float-right\"\n                    data-bind=\"click: ui.instructions.reset\"\n                    href=\"\">\n                    Reset instructions</a>\n            </div>\n            \n            <!-- Instructions -->\n            <div class='blockpy-instructions'\n                 data-bind=\"html: ui.instructions.current\">\n            </div>\n        </div>\n        \n        <div class='col-md-2 blockpy-panel blockpy-quick-menu'\n             role='menubar' aria-label='Quick Menu' title=\"Quick Menu\">\n            <!-- Get Shareable Link -->\n            <!--<button class=\"btn btn-outline-secondary btn-sm\">\n                Get shareable link</button>-->\n            <span data-bind=\"visible: ui.menu.isSubmitted\">\n                Your submission is ready to be reviewed!</span>\n            <button class=\"btn btn-outline-secondary btn-sm\"\n                data-bind=\"visible: ui.menu.canMarkSubmitted,\n                           text: ui.menu.textMarkSubmitted,\n                           click: ui.menu.clickMarkSubmitted\"></button>\n            <!-- View as instructor -->\n            <div class=\"form-check\"\n                 data-bind=\"visible: ui.role.isGrader\">\n                <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"blockpy-as-instructor\"\n                    data-bind=\"checked: display.instructor\">\n                <label class=\"form-check-label\" for=\"blockpy-as-instructor\">\n                    View as instructor\n                </label>\n            </div>\n            <button class=\"btn btn-outline-secondary btn-sm\"\n                data-bind=\"click: ui.menu.clickFullscreen\"\n                title=\"Full Screen\"\n            ><span class='fas',\n                           data-bind=\"class: ui.menu.textFullscreen\"\n            ></span></button>\n            <button class=\"btn btn-outline-secondary btn-sm\"\n                data-bind=\"click: ui.menu.editInputs, visible: ui.menu.showQueuedInputs\" title=\"Edit Inputs\"\n            ><span class='fas fa-list-alt'></span></button>\n            <span class=\"blockpy-student-error fas fa-bug\"></span>\n        </div>\n         \n    </div>\n    \n    <!-- Row 2: Console and Feedback -->\n    <!-- ko if: ui.secondRow.isAllVisible -->\n    <div class='row'>\n    \n        <!-- Console -->\n        ").concat(console_js__WEBPACK_IMPORTED_MODULE_6__["CONSOLE_HTML"], "\n         \n        <!-- Feedback -->\n        <!-- ko if: ui.secondRow.isFeedbackVisible -->\n        ").concat(feedback_js__WEBPACK_IMPORTED_MODULE_2__["FEEDBACK_HTML"], "\n        <!-- /ko -->\n        \n        <!-- Trace -->\n        <!-- ko if: ui.secondRow.isTraceVisible -->\n        ").concat(trace_js__WEBPACK_IMPORTED_MODULE_0__["TRACE_HTML"], "\n        <!-- /ko -->\n         \n    </div>\n    <!-- /ko -->\n    \n    <!-- Row 3: File Navigation -->\n    <!-- ko if: ui.files.visible -->\n    <div class='row'>\n        ").concat(files_js__WEBPACK_IMPORTED_MODULE_3__["FILES_HTML"], "\n    </div>\n    <!-- /ko -->\n    \n    <!-- Row 4: View Row -->\n    <div class=\"row\">\n        ").concat(editors_js__WEBPACK_IMPORTED_MODULE_5__["EDITORS_HTML"], "\n    </div>\n\n    <!-- Row 5: Footer Row -->    \n    <div class=\"row\">\n        ").concat(footer_js__WEBPACK_IMPORTED_MODULE_4__["FOOTER_HTML"], "\n    </div>\n    \n</div>\n    ");
}

/***/ }),

/***/ "./src/server.js":
/*!***********************!*\
  !*** ./src/server.js ***!
  \***********************/
/*! exports provided: StatusState, BlockPyServer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StatusState", function() { return StatusState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BlockPyServer", function() { return BlockPyServer; });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./storage */ "./src/storage.js");
/* harmony import */ var _editor_assignment_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editor/assignment_settings */ "./src/editor/assignment_settings.js");



/**
 *
 * @enum {string}
 */
var StatusState = {
  READY: "ready",
  ACTIVE: "active",
  RETRYING: "retrying",
  FAILED: "failed",
  OFFLINE: "offline"
};

/**
 * Object for communicating with the external servers. This includes functionality for
 * saving and loading files, logging events, saving completions, and retrieving history.
 *
 * @constructor
 * @this {BlockPyServer}
 * @param {Object} main - The main BlockPy instance
 */
function BlockPyServer(main) {
  this.main = main;

  // Save URLs locally for quicker access
  this.urls = main.model.configuration.urls;

  // Add the LocalStorage connection
  this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__["LocalStorageWrapper"]("BLOCKPY");

  // FaultResistantCache
  this.queue = {
    "logEvent": JSON.parse(this.storage.getDefault("logEvent", "[]")),
    "updateSubmission": JSON.parse(this.storage.getDefault("updateSubmission", "[]"))
  };
  this.MAX_QUEUE_SIZE = {
    "logEvent": 200,
    "updateSubmission": 50
  };
  this.TIMER_DELAY = 1000;
  this.FAIL_DELAY = 2000;
  this.timers = {};
  this.overlay = null;
  this.blockingAttempts = 0;
  this.cachedFilenames = [];
  this.createSubscriptions();
  this.checkCaches();
}

/**
 * Checks whether the IP address has changed, logging an event if that occurs.
 * @param response
 */
BlockPyServer.prototype.checkIP = function (response) {
  if (response.success) {
    if (this.storage.has("IP")) {
      var oldIP = this.storage.get("IP");
      if (oldIP !== response.ip) {
        var message = JSON.stringify({
          "old": oldIP,
          "new": response.ip
        });
        this.logEvent("X-IP.Change", undefined, undefined, message);
        this.storage.set("IP", response.ip);
      }
    } else {
      this.storage.set("IP", response.ip);
    }
  }
};

/**
 * Determines if there have been previous failures cached, and if so retries them.
 * TODO: update
 */
BlockPyServer.prototype.checkCaches = function () {
  var _this = this;
  if (this.storage.has("saveAssignment")) {
    var data = JSON.parse(this.storage.get("saveAssignment"));
    this._postLatestRetry(data, "assignment", "saveAssignment", this.TIMER_DELAY);
  }
  this.cachedFilenames.forEach(function (filename) {
    if (_this.storage.has("saveFile" + filename)) {
      var _data = JSON.parse(_this.storage.get("saveFile" + filename));
      _this._postLatestRetry(_data, filename, "saveFile", _this.TIMER_DELAY);
    }
  });
  var server = this;
  Object.keys(this.queue).forEach(function (endpoint) {
    (function pushAnyQueued(response) {
      if (response.success) {
        if (server.queue[endpoint].length) {
          var data = JSON.parse(server.queue[endpoint].pop());
          var url = server.urls[endpoint];
          server._postRetry(data, endpoint, 1000, pushAnyQueued);
        }
      }
    })({
      "success": true
    });
  });
};
BlockPyServer.prototype.createFileSubscription = function (model, filename) {
  var _this2 = this;
  model.subscribe(function (contents) {
    return _this2.main.model.display.autoSave() ? _this2.saveFile(filename, contents) : false;
  }, this);
  this.cachedFilenames.push(filename);
};

/**
 * TODO: fix
 */
BlockPyServer.prototype.createSubscriptions = function () {
  var model = this.main.model;
  this.createFileSubscription(model.submission.code, "answer.py");
  this.createFileSubscription(model.assignment.onRun, "!on_run.py");
  this.createFileSubscription(model.assignment.onEval, "!on_eval.py");
  this.createFileSubscription(model.assignment.onChange, "!on_change.py");
  this.createFileSubscription(model.assignment.instructions, "!instructions.md");
  this.createFileSubscription(model.assignment.startingCode, "^starting_code.py");
  this.createFileSubscription(model.ui.files.extraStudentFiles, "#extra_student_files.blockpy");
  this.createFileSubscription(model.ui.files.extraStartingFiles, "#extra_starting_files.blockpy");
  this.createFileSubscription(model.ui.files.extraInstructorFiles, "#extra_instructor_files.blockpy");
};
BlockPyServer.prototype.createEventLogs = function () {
  var _this3 = this;
  window.onblur = function () {
    _this3.logEvent("Session.End", undefined, undefined, undefined);
  };
  window.onfocus = function () {
    _this3.logEvent("Session.Start", undefined, undefined, undefined);
  };

  // TODO: Add in beacon?
};

/**
 *
 * Some subscriptions have to happen after other things have been loaded.
 * Right now this is just after CORGIS libraries have been loaded, but maybe
 * we'll add more later and this will need to be refactored.
 *
 * TODO: fix
 *
 */
BlockPyServer.prototype.finalizeSubscriptions = function () {
  //this.main.model.assignment.settings.datasets.subscribe(this.saveAssignment.bind(this));
};

/**
 * Creates the default payload for any communication with the server API
 * @returns {{assignment_id: *, course_id: *, group_id: *, user_id: *, timezone: *, version: *, timestamp: *}}
 */
BlockPyServer.prototype.createServerData = function () {
  var assignment = this.main.model.assignment;
  var user = this.main.model.user;
  var submission = this.main.model.submission;
  var display = this.main.model.display;
  var now = new Date();
  var microseconds = now.getTime();
  return {
    "assignment_id": assignment.id(),
    "assignment_group_id": user.groupId(),
    "course_id": user.courseId(),
    "submission_id": submission.id(),
    "user_id": user.id(),
    "version": assignment.version(),
    "timestamp": microseconds,
    "timezone": now.getTimezoneOffset(),
    "passcode": display.passcode()
  };
};

/**
 * Updates the status and message for the relevant endpoint.
 * @param endpoint {string} one of the URL endpoints
 * @param status {StatusState}
 * @param message {string?}
 */
BlockPyServer.prototype.setStatus = function (endpoint, status, message) {
  this.main.model.status[endpoint](status);
  this.main.model.status[endpoint + "Message"](message || "");
};

/**
 * Renders an overlay on the screen that blocks operation until the system is ready.
 * The overlay gets progressively darker to indicate repeated failures.
 */
BlockPyServer.prototype.showOverlay = function (attempt) {
  this.blockingAttempts += 1;
  if (!document.getElementsByClassName("blockpy-overlay").length) {
    this.overlay = $('<div class="blockpy-overlay"> </div>');
    this.overlay.appendTo(document.body);
  }
  switch (attempt) {
    case 0:
      this.overlay.css("background-color", "#988");
      break;
    case 1:
      this.overlay.css("background-color", "#655");
      break;
    case 2:
      this.overlay.css("background-color", "#333");
      break;
    default:
      this.overlay.css("background-color", "black");
      break;
  }
};

/**
 * Undo a level of overlay; if this was the last level, removes it from the screen.
 */
BlockPyServer.prototype.hideOverlay = function () {
  this.blockingAttempts -= 1;
  if (this.blockingAttempts <= 0) {
    this.overlay.remove();
  }
};
BlockPyServer.prototype._enqueueData = function (cache, data) {
  // Ensure we have not overfilled the queue
  var length = this.queue[cache].length;
  var max = this.MAX_QUEUE_SIZE[cache];
  if (length > max) {
    this.queue[cache] = this.queue[cache].slice(length - max, max);
  }
  // Only add the element if it's new
  var key = JSON.stringify(data);
  var index = this.queue[cache].indexOf(key);
  if (index === -1) {
    this.queue[cache].push(key);
    this.storage.set(cache, JSON.stringify(this.queue[cache]));
  }
};
BlockPyServer.prototype._dequeueData = function (cache, data) {
  var key = JSON.stringify(data);
  var index = this.queue[cache].indexOf(key);
  if (index >= 0) {
    this.queue[cache].splice(index);
    this.storage.set(cache, JSON.stringify(this.queue[cache]));
  }
};
BlockPyServer.prototype._postRetry = function (data, endpoint, delay, callback) {
  var _this4 = this;
  // Trigger request
  var postRequest = function postRequest() {
    // Make a backup of the current post
    _this4._enqueueData(endpoint, data);
    $.post(_this4.urls[endpoint], data).done(function (response) {
      _this4._dequeueData(endpoint, data);
      if (response.success) {
        _this4.setStatus(endpoint, StatusState.READY);
      } else {
        console.error(response);
        _this4.setStatus(endpoint, StatusState.FAILED, response.message);
      }
      if (callback) {
        callback(response);
      }
      if (response.success) {
        _this4.checkIP(response.ip);
      }
    })
    // If server request is the latest one, then let's try it again in a bit
    .fail(function (error, textStatus) {
      _this4.setStatus(endpoint, StatusState.RETRYING, textStatus.toString());
      _this4._postRetry(data, endpoint, delay + _this4.FAIL_DELAY, callback);
    });
  };
  if (delay === null) {
    postRequest();
  } else {
    setTimeout(postRequest, delay);
  }
};

/**
 * Make a AJAX request that, upon failure, will check to see if this was the
 * latest attempt for this `cache` marker. If so, it will attempt again until
 * successful; otherwise, it gives up the request.
 *
 * @param {Object} data - The AJAX-ready data to be posted
 * @param {String} filename - The unique name given to the relevant timer
 * @param {String} endpoint - The unique name given to the relevant cache entry
 * @param {Integer} delay - The current number of milliseconds to wait before
 trying the request again.
 */
BlockPyServer.prototype._postLatestRetry = function (data, filename, endpoint, delay) {
  var _this5 = this;
  var cache = endpoint + filename;
  var request = function request() {
    // Make a backup of the current post
    _this5.storage.set(cache, JSON.stringify(data));
    var time = _this5.storage.getTime(cache);
    // Send the request
    $.post(_this5.urls[endpoint], data).done(function (response) {
      if (response.success) {
        _this5.checkIP(response);
        // If server request is the latest one, clear it from the cache
        var cachedTime = _this5.storage.getTime(cache);
        if (time >= cachedTime) {
          _this5.storage.remove(cache);
        }
        _this5.setStatus(endpoint, StatusState.READY);
      } else {
        // This connected but failed, don't try again but let the user know why.
        _this5.setStatus(endpoint, StatusState.FAILED, response.message);
        if (response.success === false) {
          // If we're the latest one, clear it from the cache
          var _cachedTime = _this5.storage.getTime(cache);
          if (time >= _cachedTime) {
            _this5.storage.remove(cache);
          }
        }
      }
    }).fail(function (error, textStatus) {
      _this5.setStatus(endpoint, StatusState.RETRYING, textStatus.toString());
      // If server request is the latest one, then let's try it again in a bit
      var cachedTime = _this5.storage.getTime(cache);
      if (time >= cachedTime) {
        _this5._postLatestRetry(data, filename, endpoint, delay + _this5.FAIL_DELAY);
      }
    });
  };
  clearTimeout(this.timers[cache]);
  if (delay === null) {
    request();
  } else {
    this.timers[cache] = setTimeout(request, delay);
  }
};
BlockPyServer.prototype._postBlocking = function (endpoint, data, attempts, success, failure) {
  var _this6 = this;
  this.showOverlay(attempts);
  $.post(this.urls[endpoint], data).done(function (response) {
    _this6.hideOverlay();
    _this6.setStatus(endpoint, StatusState.READY);
    success(response);
    _this6.checkIP(response);
  }).fail(function (e, textStatus, errorThrown) {
    if (attempts <= 0) {
      _this6.hideOverlay();
      _this6.setStatus(endpoint, StatusState.FAILED, textStatus.toString());
      if (failure) {
        failure(e, textStatus, errorThrown);
      }
    } else {
      setTimeout(function () {
        _this6.hideOverlay();
        _this6.setStatus(endpoint, StatusState.RETRYING, textStatus.toString());
        _this6._postBlocking(endpoint, data, attempts - 1, success, failure);
      }, _this6.FAIL_DELAY);
    }
  });
};
BlockPyServer.prototype.loadAssignment = function (assignment_id) {
  var _this7 = this;
  var model = this.main.model;
  if (model.ui.server.isEndpointConnected("loadAssignment")) {
    var data = this.createServerData();
    data["assignment_id"] = assignment_id;
    this._postBlocking("loadAssignment", data, 4, function (response) {
      if (response.success) {
        _this7.main.loadAssignmentData_(response);
      } else {
        _this7.setStatus("loadAssignment", StatusState.FAILED, response.message);
        _this7.main.components.dialog.ERROR_LOADING_ASSIGNMNENT(response.message);
      }
    }, function (e, textStatus, errorThrown) {
      _this7.main.components.dialog.ERROR_LOADING_ASSIGNMNENT(textStatus);
      console.error(e, textStatus, errorThrown);
    });
  } else {
    this.setStatus("loadAssignment", StatusState.OFFLINE);
  }
};
BlockPyServer.prototype.saveAssignment = function () {
  var _this8 = this;
  var model = this.main.model;
  if (model.ui.server.isEndpointConnected("saveAssignment")) {
    var data = this.createServerData();
    data["hidden"] = model.assignment.hidden();
    data["reviewed"] = model.assignment.reviewed();
    data["public"] = model.assignment["public"]();
    data["url"] = model.assignment.url();
    data["ip_ranges"] = model.assignment.ipRanges();
    data["name"] = model.assignment.name();
    data["settings"] = Object(_editor_assignment_settings__WEBPACK_IMPORTED_MODULE_1__["saveAssignmentSettings"])(model);
    this._postBlocking("saveAssignment", data, 3, function () {
      return 0;
    }, function (e, textStatus, errorThrown) {
      _this8.main.components.dialog.ERROR_SAVING_ASSIGNMNENT();
      console.error(e, textStatus, errorThrown);
    });
  } else {
    this.setStatus("saveAssignment", StatusState.OFFLINE, "Server is not connected! (Save Assignment)");
  }
};
BlockPyServer.prototype.loadHistory = function (callback) {
  var _this9 = this;
  if (this.main.model.ui.server.isEndpointConnected("loadHistory")) {
    var model = this.main.model;
    var data = this.createServerData();
    this._postBlocking("loadHistory", data, 2, callback, function (e, textStatus, errorThrown) {
      _this9.main.components.dialog.ERROR_LOADING_HISTORY();
      console.error(e, textStatus, errorThrown);
    });
  }
};
BlockPyServer.prototype.logEvent = function (event_type, category, label, message, file_path) {
  if (this.main.model.ui.server.isEndpointConnected("logEvent")) {
    var data = this.createServerData();
    data["event_type"] = event_type;
    data["category"] = category;
    data["label"] = label;
    data["message"] = message;
    data["file_path"] = file_path;
    this.setStatus("logEvent", StatusState.ACTIVE);
    // Trigger request
    this._postRetry(data, "logEvent", 0, function () {});
  } else {
    this.setStatus("logEvent", StatusState.OFFLINE);
  }
};
BlockPyServer.prototype.saveImage = function (directory, image) {
  if (this.main.model.ui.server.isEndpointConnected("saveImage")) {
    var data = this.createServerData();
    data["directory"] = directory;
    data["image"] = image;
    this.setStatus("saveImage", StatusState.ACTIVE);
    // Trigger request
    this._postLatestRetry(data, "turtle_output", "saveImage", 0);
  } else {
    this.setStatus("saveImage", StatusState.OFFLINE);
  }
};
BlockPyServer.prototype.updateSubmissionStatus = function (newStatus) {
  var _this10 = this;
  if (this.main.model.ui.server.isEndpointConnected("updateSubmissionStatus")) {
    var data = this.createServerData();
    data["status"] = newStatus;
    var postStatusChange = function postStatusChange(data) {
      if (data.success) {
        _this10.main.model.submission.submissionStatus(newStatus);
      }
    };
    this._postBlocking("updateSubmissionStatus", data, 2, postStatusChange, function (e, textStatus, errorThrown) {
      _this10.main.components.dialog.ERROR_UPDATING_SUBMISSION_STATUS();
      console.error(e, textStatus, errorThrown);
    });
  }
};

/**
 * This function can be used to load files and web resources.
 *
 * DEPRECATED
 */
BlockPyServer.prototype.loadFile = function (filename, type, callback, errorCallback) {
  var model = this.main.model;
  var server = this;
  if (model.ui.server.isEndpointConnected("load_file")) {
    var data = this.createServerData();
    data["filename"] = filename;
    data["type"] = type;
    this._postBlocking(this.urls.load_file, data, 5, function (response) {
      if (response.success) {
        callback(response.data);
      } else {
        errorCallback(response.message);
        server.setStatus("loadFile", StatusState.FAILED, response.message);
      }
    }, function (e, textStatus, errorThrown) {
      errorCallback("Server failure! Report to instructor");
      console.error(errorThrown);
    });
  } else {
    errorCallback("No file server available.");
    this.setStatus("loadFile", StatusState.OFFLINE, "Server is not connected! (Load File)");
  }
};
BlockPyServer.prototype.saveFile = function (filename, contents, delay) {
  if (delay === undefined) {
    delay = this.TIMER_DELAY;
  }
  var model = this.main.model;
  if (model.ui.server.isEndpointConnected("saveFile")) {
    var data = this.createServerData();
    data["filename"] = filename;
    data["code"] = contents;
    this.setStatus("saveFile", StatusState.ACTIVE);
    this._postLatestRetry(data, filename, "saveFile", delay);
  } else {
    this.setStatus("saveFile", StatusState.OFFLINE);
  }
};
BlockPyServer.prototype.updateSubmission = function (score, correct, hiddenOverride, forceUpdate) {
  var _this11 = this;
  var callback = this.main.model.configuration.callbacks.success;
  if (this.main.model.ui.server.isEndpointConnected("updateSubmission")) {
    var data = this.createServerData();
    data["score"] = score;
    data["correct"] = correct;
    data["hidden_override"] = hiddenOverride;
    data["force_update"] = forceUpdate;
    this.main.components.pythonEditor.bm.blockEditor.getPngFromBlocks(function (pngData, img) {
      data["image"] = pngData;
      if (img.remove) {
        img.remove();
      }
      _this11._postRetry(data, "updateSubmission", 0, function (response) {
        if (response.success) {
          _this11.setStatus("updateSubmission", StatusState.READY);
        } else {
          _this11.setStatus("updateSubmission", StatusState.FAILED, response.message);
        }
        if (!hiddenOverride && correct && callback) {
          callback(data["assignment_id"]);
        }
      });
    });
  }
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/skulpt_modules/coverage.js":
/*!****************************************!*\
  !*** ./src/skulpt_modules/coverage.js ***!
  \****************************************/
/*! exports provided: $sk_mod_coverage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "$sk_mod_coverage", function() { return $sk_mod_coverage; });
var $sk_mod_coverage = "\n\"\"\"\nHideous fill-in replacement for Coverage, leveraging some magic from the\nUtility function. The data this returns is false - it doesn't actually\ndescribe the missing lines and all lines; it just describes the traced lines.\nBut since Pedal doesn't need the other two, it works out fine when you do:\n\nstatements - missing\n\"\"\"\n\nimport utility\n\nclass Coverage:\n    def start(self):\n        pass\n\n    def stop(self):\n        pass\n\n    def save(self):\n        pass\n\n    def _analyze(self, filename: str):\n        lines = set(utility.trace_lines())\n        # lines will be the lines that were actually executed\n        return Analysis(None, len(lines), None, set(), lines)\n\n\nclass Numbers:\n    def __init__(self, n_missing, n_statements, pc_covered):\n        self.n_missing = n_missing\n        self.n_statements = n_statements\n        self.pc_covered = pc_covered\n\n\nclass Analysis:\n    def __init__(self, n_missing, n_statements, pc_covered, missing, statements):\n        self.missing = missing\n        self.statements = statements\n        self.numbers = Numbers(n_missing, n_statements, pc_covered)\n\n\nclass python:\n    def get_python_source(self):\n        return None\n";

/***/ }),

/***/ "./src/skulpt_modules/image.js":
/*!*************************************!*\
  !*** ./src/skulpt_modules/image.js ***!
  \*************************************/
/*! exports provided: $builtinmodule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "$builtinmodule", function() { return $builtinmodule; });
var $builtinmodule = function $builtinmodule(name) {
  var mod, sampleWrapper;
  mod = {
    __name__: "image"
  };
  if (!Sk.PIL) {
    Sk.PIL = {
      assets: {}
    };
  }

  // InstantPromise is a workaround to allow usage of the clean promise-style
  // then/catch syntax but to instantly call resolve the then/catch chain so we
  // can avoid creating Suspensions in unnecessary cases.  This is desirable
  // because Suspensions have a fairly large negative impact on overall
  // performance.  These 'instant promises' come into play when a tracer()
  // call is made with a value other than 1.  When tracer is 0 or greater than 1
  // , we can bypass the creation of a Suspension and proceed to the next line of
  // code immediately if the current line is not going to involve a screen
  // update. We determine if a real promise or InstantPromise is necessary by
  // checking FrameManager.willRenderNext()
  function InstantPromise(err, result) {
    this.lastResult = result;
    this.lastError = err;
  }
  InstantPromise.prototype.then = function (cb) {
    if (this.lastError) {
      return this;
    }
    try {
      this.lastResult = cb(this.lastResult);
    } catch (e) {
      this.lastResult = undefined;
      this.lastError = e;
    }
    return this.lastResult instanceof Promise ? this.lastResult : this;
  };
  InstantPromise.prototype["catch"] = function (cb) {
    if (this.lastError) {
      try {
        this.lastResult = cb(this.lastError);
        this.lastError = undefined;
      } catch (e) {
        this.lastResult = undefined;
        this.lastError = e;
      }
    }
    return this.lastResult instanceof Promise ? this.lastResult : this;
  };
  var buildImage = function buildImage(imageData) {};
  function getAsset(name) {
    return new Promise(function (resolve, reject) {
      if (Sk.PIL.assets[name] !== undefined) {
        //return Sk.PIL.assets[name];
        resolve(Sk.PIL.assets[name]);
      } else {
        var img = new Image();
        img.crossOrigin = "Anonymous";
        img.onload = function () {
          Sk.PIL.assets[name] = img;
          resolve(img);
        };
        img.onerror = function () {
          //throw new Error("Failed to load asset: " + name);
          reject(name);
        };
        img.src = name;
      }
    });
  }
  var image = function image($gbl, $loc) {
    // open(filename) or open(url)
    // show()

    $loc.__init__ = new Sk.builtin.func(function (self, file_or_url) {
      Sk.builtin.pyCheckArgs("__init__", arguments, 2, 2);
      Sk.builtin.pyCheckType("file_or_url", "string", Sk.builtin.checkString(file_or_url));
      self.file_or_url = file_or_url;
      // TODO: Change to suspension
      var imagePromise = getAsset(Sk.ffi.remapToJs(file_or_url));
      var susp = new Sk.misceval.Suspension();
      self.image = Sk.builtin.none.none$;
      susp.resume = function () {
        if (susp.data["error"]) {
          //throw new Sk.builtin.IOError(susp.data["error"].message);
          throw susp.data["error"];
        } else {
          //return self.image;
        }
      };
      susp.data = {
        type: "Sk.promise",
        promise: imagePromise.then(function (value) {
          self.image = value;
          self.canvas = document.createElement("canvas");
          self.canvas.width = self.image.width;
          self.canvas.height = self.image.height;
          self.canvas.getContext("2d").drawImage(self.image, 0, 0, self.image.width, self.image.height);
          self.pixels = self.canvas.getContext("2d").getImageData(0, 0, self.image.width, self.image.height).data;
          //return value;
        }, function (err) {
          self.image = "";
          throw err;
          //return err;
        })
      };

      return susp;
    });
    $loc.show = new Sk.builtin.func(function (self) {
      if (Sk.console === undefined) {
        throw new Sk.builtin.NameError("Can not resolve drawing area. Sk.console is undefined!");
      }
      var consoleData = {
        image: self.image,
        file_or_url: self.file_or_url
      };
      Sk.console.printPILImage(consoleData);
    });
    $loc.flip = new Sk.builtin.func(function (self) {
      self.image.style.transform = "scaleX(-1)";
      if (Sk.console === undefined) {
        throw new Sk.builtin.NameError("Can not resolve drawing area. Sk.console is undefined!");
      }
      return self;
    });
  };
  mod.Image = Sk.misceval.buildClass(mod, image, "Image", []);
  return mod;
};

/***/ }),

/***/ "./src/skulpt_modules/sk_mod_instructor.js":
/*!*************************************************!*\
  !*** ./src/skulpt_modules/sk_mod_instructor.js ***!
  \*************************************************/
/*! exports provided: $sk_mod_instructor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "$sk_mod_instructor", function() { return $sk_mod_instructor; });
/**
 * Skulpt Module for holding the Instructor API.
 *
 * This module is loaded in by getting the functions' source code from toString.
 * Isn't that crazy?
 *
 *
 */
var $sk_mod_instructor = function $sk_mod_instructor() {
  // Main module object that gets returned at the end.
  var mod = {};
  var none = Sk.builtin.none.none$;
  var prior = null;
  mod.timeit = new Sk.builtin.func(function (name) {
    Sk.builtin.pyCheckArgs("timeit", arguments, 1, 1);
    var difference;
    if (prior === null) {
      difference = 0;
    } else {
      difference = Date.now() - prior;
    }
    console.log(Sk.ffi.remapToJs(name), difference / 1000);
    prior = Date.now();
  });

  /**
   * Logs feedback to javascript console
   */
  mod.console_log = new Sk.builtin.func(function () {
    console.log(Array.prototype.slice.call(arguments).map(Sk.ffi.remapToJs));
  });

  /**
   * Logs debug to javascript console
   */
  mod.console_debug = new Sk.builtin.func(function () {
    console.log(arguments);
  });

  /**
   * This function coverts the output in the student report to a python 
   * list and returns it.
  **/
  mod.get_output = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("get_output", arguments, 0, 0);
    if (Sk.executionReports["student"].success) {
      var output = Sk.executionReports["student"]["output"]();
      output = output.map(function (item) {
        return item.toSkulpt();
      });
      return new Sk.builtin.list(output);
    } else {
      return new Sk.builtin.list([]);
    }
  });

  /**
   * This function resets the output, particularly useful if the student
   * code is going to be rerun.
   */
  mod.reset_output = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("reset_output", arguments, 0, 0);
    if (Sk.executionReports["student"].success) {
      Sk.executionReports["student"].output.removeAll();
    }
    return Sk.builtin.none.none$;
  });

  /*mod.queue_input = new Sk.builtin.func(function() {
      Sk.builtin.pyCheckArgs("queue_input", arguments, 1, Infinity);
      let args = arguments;
      for (let i = args.length-1; i >= 0; i--) {
          let input = args[i];
          Sk.builtin.pyCheckType("input", "string", Sk.builtin.checkString(input));
          Sk.queuedInput.push(Sk.ffi.remapToJs(input));
      }
  });*/

  /**
   * This function is called by instructors to get the students' code as a string.
  **/
  mod.get_program = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("get_program", arguments, 0, 0);
    return Sk.ffi.remapToPy(Sk.executionReports["verifier"].code);
  });

  /**
   * This function is called by instructors to get the students' code as a string.
  **/
  mod.get_evaluation = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("get_evaluation", arguments, 0, 0);
    return Sk.ffi.remapToPy(Sk.executionReports["student"].evaluation || "");
  });
  mod.trace_lines = new Sk.builtin.func(function () {
    if (Sk.executionReports["student"].success) {
      var lines = Sk.executionReports["student"].realLines;
      return Sk.ffi.remapToPy(lines);
    } else {
      return new Sk.builtin.list([]);
    }
  });

  /**
   *
   */
  mod.get_student_error = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("get_student_error", arguments, 0, 0);
    if (Sk.executionReports["student"].success) {
      return new Sk.builtin.tuple([none, none]);
    } else {
      var error = Sk.executionReports["student"].error,
        position = {};
      if (error && error.traceback && error.traceback.length > 0) {
        position["line"] = error.traceback[0].lineno;
      } else {
        error = none;
      }
      position = Sk.ffi.remapToPy(position);
      return new Sk.builtin.tuple([error, position]);
    }
  });
  mod.had_execution_time_error = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("had_execution_time_error", arguments, 0, 0);
    return !Sk.executionReports["student"].success && Sk.executionReports["student"].error && Sk.executionReports["student"].error.tp$name === "TimeLimitError";
  });
  var backupTime = undefined;
  mod.limit_execution_time = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("limit_execution_time", arguments, 0, 0);
    backupTime = Sk.execLimit;
    if (Sk.execLimitFunction) {
      Sk.execLimit = Sk.execLimitFunction();
      Sk.execStart = Date.now();
    }
  });
  mod.unlimit_execution_time = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("unlimit_execution_time", arguments, 0, 0);
    Sk.execLimit = backupTime;
    Sk.execStart = Date.now();
  });
  mod.suppress_scrolling = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("suppress_scrolling", arguments, 0, 0);
    Sk.executionReports.instructor.scrolling = true;
  });

  /*
  def hist(self, data, **kwargs):
      label = kwargs.get('label', None)
      self.active_plot['data'].append({'type': 'Histogram', 'values': data, 'label': label})
  def plot(self, xs, ys=None, **kwargs):
      label = kwargs.get('label', None)
      if ys == None:
          self.active_plot['data'].append({'type': 'Line', 
                                          'x': range(len(xs)), 'y': xs, 'label': label})
      else:
          self.active_plot['data'].append({'type': 'Line', 'x': xs, 'y': ys, 'label': label})
  def scatter(self, xs, ys, **kwargs):
      label = kwargs.get('label', None)
      self.active_plot['data'].append({'type': 'Scatter', 'x': xs, 'y': ys, 'label': label})
  */
  mod.get_plots = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("get_plots", arguments, 0, 0);
    if (Sk.executionReports["student"].success) {
      var outputs = Sk.executionReports["student"]["output"]();
      outputs = outputs.filter(function (output) {
        return output.type === "plot";
      }).map(function (graph) {
        return {
          "data": graph.content.map(function (plot) {
            var newPlot = {
              "type": plot.type,
              "label": ""
            };
            if (plot.type === "line" || plot.type === "scatter") {
              newPlot["x"] = plot.data.map(function (v) {
                return v.x;
              });
              newPlot["y"] = plot.data.map(function (v) {
                return v.y;
              });
            } else if (plot.type === "hist") {
              newPlot["values"] = plot.data;
            }
            return newPlot;
          }),
          "xlabel": "",
          "ylabel": "",
          "title": "",
          "legend": false
        };
      });
      return Sk.ffi.remapToPy(outputs);
    } else {
      return Sk.ffi.remapToPy([]);
    }
  });

  // Provides `student` as an object with all the data that the student declared.
  mod.StudentData = Sk.misceval.buildClass(mod, function ($gbl, $loc) {
    $loc.__init__ = new Sk.builtin.func(function (self) {
      //self.data = Sk.builtin.dict();
      var newDict = new Sk.builtin.dict();
      Sk.abstr.sattr(self, new Sk.builtin.str("data"), newDict, true);
      self.module = Sk.executionReports["student"].results;
      if (self.module !== undefined) {
        self.module = self.module.$d;
        for (var key in self.module) {
          if (self.module.hasOwnProperty(key)) {
            Sk.abstr.objectSetItem(newDict, Sk.ffi.remapToPy(Sk.unfixReserved(key)), self.module[key]);
          }
        }
      } else {
        self.module = {};
      }
      return Sk.builtin.none.none$;
    });
    var call_f = function call_f(kwa) {
      Sk.builtin.pyCheckArgsLen("call", arguments.length, 1, Infinity, true, true);
      var args = Array.prototype.slice.call(arguments, 1);
      var kwargs = new Sk.builtins.dict(kwa);
      var self = args[0];
      var functionName = args[1];
      args = args.slice(2);
      var inputs = kwargs.mp$lookup(new Sk.builtin.str("inputs"));
      if (inputs !== undefined) {
        inputs = Sk.ffi.remapToJs(inputs);
        if (inputs.constructor === Array) {
          inputs.forEach(function (item) {
            Sk.queuedInput.push(item);
          });
        } else {
          Sk.queuedInput.push(input);
        }
      }
      var data = self.tp$getattr(new Sk.builtin.str("data"));
      var functionObject = data.mp$lookup(functionName);
      var result = functionObject.tp$call(args);
      return result;
    };
    call_f.co_kwargs = true;
    //call_f.co_varnames = ["self", "function"];
    call_f.co_name = new Sk.builtin.str("call");
    $loc["call_$rn$"] = new Sk.builtin.func(call_f);
    $loc["__repr__"] = new Sk.builtin.func(function (self) {
      return new Sk.builtin.str("");
    });
    $loc.get_names_by_type = new Sk.builtin.func(function (self, type, exclude_builtins) {
      Sk.builtin.pyCheckArgs("get_names_by_type", arguments, 2, 3);
      if (exclude_builtins === undefined) {
        exclude_builtins = true;
      } else {
        Sk.builtin.pyCheckType("exclude_builtins", "boolean", Sk.builtin.checkBool(exclude_builtins));
        exclude_builtins = Sk.ffi.remapToJs(exclude_builtins);
      }
      var result = [];
      for (var property in self.module) {
        if (self.module.hasOwnProperty(property)) {
          if (self.module[property].tp$name === type.tp$name) {
            //console.log(exclude_builtins);
            if (exclude_builtins && property.startsWith("__")) {
              continue;
            }
            result.push(Sk.ffi.remapToPy(Sk.unfixReserved(property)));
          }
        }
      }
      return new Sk.builtin.list(result);
    });
    $loc.get_values_by_type = new Sk.builtin.func(function (self, type, exclude_builtins) {
      Sk.builtin.pyCheckArgs("get_values_by_type", arguments, 2, 3);
      if (exclude_builtins === undefined) {
        exclude_builtins = true;
      } else {
        Sk.builtin.pyCheckType("exclude_builtins", "boolean", Sk.builtin.checkBool(exclude_builtins));
        exclude_builtins = Sk.ffi.remapToJs(exclude_builtins);
      }
      var result = [];
      for (var property in self.module) {
        if (self.module.hasOwnProperty(property)) {
          if (self.module[property].tp$name === type.tp$name) {
            if (exclude_builtins && property.startsWith("__")) {
              continue;
            }
            result.push(self.module[property]);
          }
        }
      }
      return new Sk.builtin.list(result);
    });
  }, "StudentData");
  mod.student = Sk.misceval.callsimOrSuspend(mod.StudentData);
  mod.get_student_data = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("get_student_data", arguments, 0, 0);
    return mod.student;
  });
  mod.set_instructions = new Sk.builtin.func(function (newInstructions) {
    Sk.builtin.pyCheckArgs("set_instructions", arguments, 1, 2);
    newInstructions = Sk.ffi.remapToJs(newInstructions);
    Sk.executionReports["model"].display.changedInstructions(newInstructions);
  });
  mod.get_model_info = new Sk.builtin.func(function (keys) {
    Sk.builtin.pyCheckArgs("get_model_info", arguments, 1, 1);
    var model = Sk.executionReports["model"];
    keys = Sk.ffi.remapToJs(keys).split(".");
    for (var i = 0; i < keys.length; i++) {
      model = model[keys[i]];
    }
    return Sk.ffi.remapToPy(model());
  });
  return mod;
};

/***/ }),

/***/ "./src/storage.js":
/*!************************!*\
  !*** ./src/storage.js ***!
  \************************/
/*! exports provided: LocalStorageWrapper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocalStorageWrapper", function() { return LocalStorageWrapper; });
var LOCAL_STORAGE_REF;
try {
  LOCAL_STORAGE_REF = localStorage;
  var mod = "BLOCKPY_LOCALSTORAGE_TEST";
  LOCAL_STORAGE_REF.setItem(mod, mod);
  LOCAL_STORAGE_REF.removeItem(mod);
} catch (e) {
  LOCAL_STORAGE_REF = {
    _data: {},
    setItem: function setItem(id, val) {
      return this._data[id] = String(val);
    },
    getItem: function getItem(id) {
      return this._data.hasOwnProperty(id) ? this._data[id] : undefined;
    },
    removeItem: function removeItem(id) {
      return delete this._data[id];
    },
    clear: function clear() {
      return this._data = {};
    }
  };
}

/**
 * Helper object for interfacing with the LocalStorage. The LocalStorage
 * browser API allows for offline storage. That API is very unsophisticated,
 * and is essentially a lame key-value store. This object sits on top
 * and provides a number of useful utilities, including rudimentarycache
 * cache expiration.
 *
 * @constructor
 * @this {LocalStorageWrapper}
 * @param {String} namespace - A namespace to use in grouping access to localstorage. This keeps access clean and organized, while also making it possible to have multiple LocalStorage connections.
 */
function LocalStorageWrapper(namespace) {
  this.namespace = namespace;
}
/**
 * A method for adding a key/value pair to LocalStorage.
 * Note that both parameters must be strings (JSON.stringify is your friend).
 *
 * @param {String} key - The name of the key.
 * @param {String} value - The value.
 */
LocalStorageWrapper.prototype.set = function (key, value) {
  LOCAL_STORAGE_REF.setItem(this.namespace + "_" + key + "_value", value);
  LOCAL_STORAGE_REF.setItem(this.namespace + "_" + key + "_timestamp", $.now());
};

/**
 * A method for removing a key from LocalStorage.
 *
 * @param {String} key - The name of the key to remove.
 */
LocalStorageWrapper.prototype.remove = function (key) {
  LOCAL_STORAGE_REF.removeItem(this.namespace + "_" + key + "_value");
  LOCAL_STORAGE_REF.removeItem(this.namespace + "_" + key + "_timestamp");
};

/**
 * A method for retrieving the value associated with the given key.
 *
 * @param {String} key - The name of the key to retrieve the value for.
 */
LocalStorageWrapper.prototype.get = function (key) {
  return LOCAL_STORAGE_REF.getItem(this.namespace + "_" + key + "_value");
};

/**
 * A method for retrieving the time associated with the given key.
 *
 * @param {String} key - The name of the key to retrieve the time for.
 * @returns {Integer} - The timestamp (local epoch) when the key was last set.
 */
LocalStorageWrapper.prototype.getTime = function (key) {
  return parseInt(LOCAL_STORAGE_REF.getItem(this.namespace + "_" + key + "_timestamp"));
};

/**
 * A method for retrieving the value associated with the given key.
 * If the key does not exist, then the default value is used instead.
 * This default will be set.
 *
 * @param {String} key - The name of the key to retrieve the value for.
 * @param {String} defaultValue - The default value to use. Must be a string.
 */
LocalStorageWrapper.prototype.getDefault = function (key, defaultValue) {
  if (this.has(key)) {
    return this.get(key);
  } else {
    this.set(key, defaultValue);
    return defaultValue;
  }
};

/**
 * A test for whether the given key is in LocalStorage.
 *
 * @param {String} key - The key to test existence for.
 */
LocalStorageWrapper.prototype.has = function (key) {
  return LOCAL_STORAGE_REF.getItem(this.namespace + "_" + key + "_value") !== null;
};

/**
 * A test for whether the server has the newer version. This function
 * assumes that the server trip takes about 5 seconds. This method
 * is largely deprecated.
 *
 * @param {String} key - The key to check.
 * @param {Integer} server_time - The server's time as an epoch (in milliseconds)
 */
LocalStorageWrapper.prototype.is_new = function (key, server_time) {
  var stored_time = LOCAL_STORAGE_REF.getItem(this.namespace + "_" + key + "_timestamp");
  return server_time >= stored_time + 5000;
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/trace.js":
/*!**********************!*\
  !*** ./src/trace.js ***!
  \**********************/
/*! exports provided: TRACE_HTML, BlockPyTrace */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TRACE_HTML", function() { return TRACE_HTML; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BlockPyTrace", function() { return BlockPyTrace; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
var TRACE_HTML = "\n\n<div class=\"blockpy-trace col-md-6 blockpy-panel\"\n            role=\"region\" aria-label=\"Trace\">\n    \n    <div class=\"clearfix\">\n        <strong>Trace: </strong>\n        \n        <!-- Feedback/Trace Visibility Control -->\n        <button type='button'\n                class='btn btn-sm btn-outline-secondary float-right blockpy-hide-trace'\n                data-bind=\"click: ui.secondRow.advanceState\">\n            <span class='fas fa-eye'></span> Hide Trace\n        </button>\n    </div>\n\n    <div class=\"input-group mb-3 blockpy-trace-controls\">\n        <div class=\"input-group-prepend\">\n            <button type='button' class='btn btn-outline-secondary'\n                data-bind=\"click: ui.trace.first\">\n                <span class='fas fa-step-backward'></span>\n            </button>\n            <button type='button' class='btn btn-outline-secondary'\n                data-bind=\"click: ui.trace.backward\">\n                <span class='fas fa-backward'></span>\n            </button>\n            <span class=\"input-group-text\">Step:</span>\n            <span class=\"input-group-text\">\n                <span data-bind='text: execution.student.currentTraceStep'></span>\n                / <span data-bind='text: execution.student.lastStep'></span>\n            </span>\n        </div>\n        <div class=\"input-group-append\">\n            <button type='button' class='btn btn-outline-secondary'\n                data-bind=\"click: ui.trace.forward\">\n                <span class='fas fa-forward'></span>\n            </button>\n            <button type='button' class='btn btn-outline-secondary'\n                data-bind=\"click: ui.trace.last\">\n                <span class='fas fa-step-forward'></span>\n            </button>\n            <span class=\"input-group-text\">\n                <span data-bind='text: ui.trace.line'></span>\n            </span>\n        </div>\n    </div>\n    \n    <table class='table table-sm table-striped table-bordered table-hover'>\n        <caption>Current variables at this step</caption>\n        <thead>\n            <tr><th>Name</th><th>Type</th><th>Value</th></tr>\n        </thead>\n        <tbody data-bind=\"foreach: ui.trace.data().properties\">\n            <tr data-bind=\"visible: name != '__file__' && name != '__path__'\">\n                <td data-bind=\"text: name\"></td>\n                <td data-bind=\"text: type\"></td>\n                <td>\n                    <code data-bind=\"text: value\"></code>\n                    <!-- ko if: type == \"List\" -->\n                    \n                    <a href=\"\" data-bind=\"click: //$root.viewExactValue(type, exact_value)\">\n                    <span class='glyphicon glyphicon-new-window'></span>\n                    </a>\n                    <!-- /ko -->\n                </td>\n            </tr>\n        </tbody>\n    </table>\n    \n</div>\n";
var BlockPyTrace = /*#__PURE__*/function () {
  function BlockPyTrace(main, tag) {
    _classCallCheck(this, BlockPyTrace);
    this.main = main;
    this.tag = tag;
    this.IGNORED_GLOBALS = ["__name__", "__doc__", "__package__", "classmethod", "property", "staticmethod"];

    // this.trace.click(this.buildTraceTable.bind(this));
  }

  /**
   * Consume a set of variables traced from the execution and parse out any
   * global variables and modules.
   *
   * @param {Object} variables - a mapping of variable names to their Skupt value.
   */
  _createClass(BlockPyTrace, [{
    key: "parseGlobals",
    value: function parseGlobals(variables) {
      var result = [];
      var modules = [];
      if (!this.main.model.display.traceExecution()) {
        for (var property in variables) {
          var value = variables[property];
          if (this.IGNORED_GLOBALS.indexOf(property) === -1) {
            property = property.replace("_$rw$", "").replace("_$rn$", "");
            var parsed = void 0;
            try {
              parsed = BlockPyTrace.parseValue(property, value);
            } catch (_unused) {
              parsed = {
                "name": property,
                "type": "Unknown",
                "value": value.toString()
              };
            }
            if (parsed !== null) {
              result.push(parsed);
            } else if (value.constructor === Sk.builtin.module) {
              modules.push(value.$d.__name__.v);
            }
          }
        }
      }
      return {
        "properties": result,
        "modules": modules
      };
    }
  }], [{
    key: "parseValue",
    /**
     * Convert a Skulpt value into a more easily printable object.
     *
     * @param {String} property
     * @param {Object} value - the skulpt value
     */
    value: function parseValue(property, value, fullLength) {
      if (value === undefined) {
        return {
          "name": property,
          "type": "Unknown",
          "value": "Undefined"
        };
      }
      switch (value.constructor) {
        case Sk.builtin.func:
          return {
            "name": property,
            "type": "Function",
            "value": value.func_code.co_varnames !== undefined ? " Arguments: " + value.func_code.co_varnames.join(", ") : " No arguments"
          };
        case Sk.builtin.module:
          return null;
        case Sk.builtin.str:
          if (fullLength || value.v.length <= 32) {
            return {
              "name": property,
              "type": "String",
              "value": value.$r().v
            };
          } else {
            return {
              "name": property,
              "type": "String",
              "value": "[" + value.sq$length() + " characters not shown]"
            };
          }
        case Sk.builtin.none:
          return {
            "name": property,
            "type": "None",
            "value": "None"
          };
        case Sk.builtin.bool:
          return {
            "name": property,
            "type": "Boolean",
            "value": value.$r().v
          };
        case Sk.builtin.nmber:
          return {
            "name": property,
            "type": "int" === value.skType ? "Integer" : "Float",
            "value": value.$r().v
          };
        case Sk.builtin.int_:
          return {
            "name": property,
            "type": "Integer",
            "value": value.$r().v
          };
        case Sk.builtin.float_:
          return {
            "name": property,
            "type": "Float",
            "value": value.$r().v
          };
        case Sk.builtin.tuple:
          return {
            "name": property,
            "type": "Tuple",
            "value": value.$r().v
          };
        case Sk.builtin.list:
          if (value.v.length <= 20) {
            return {
              "name": property,
              "type": "List",
              "value": value.$r().v,
              "exact_value": value
            };
          } else {
            return {
              "name": property,
              "type": "List",
              "value": "[... " + value.v.length + " elements ...]",
              "exact_value": value
            };
          }
        case Sk.builtin.dict:
          return {
            "name": property,
            "type": "Dictionary",
            "value": value.$r().v
          };
        case Number:
          return {
            "name": property,
            "type": value % 1 === 0 ? "Integer" : "Float",
            "value": value
          };
        case String:
          return {
            "name": property,
            "type": "String",
            "value": value
          };
        case Boolean:
          return {
            "name": property,
            "type": "Boolean",
            "value": value ? "True" : "False"
          };
        default:
          return {
            "name": property,
            "type": value.tp$name === undefined ? value : value.tp$name,
            "value": value.$r === undefined ? value : value.$r().v
          };
      }
    }
  }]);
  return BlockPyTrace;
}();

// TODO: viewExactValue

/***/ }),

/***/ "./src/utilities.js":
/*!**************************!*\
  !*** ./src/utilities.js ***!
  \**************************/
/*! exports provided: indent, slug, capitalize, encodeHTML, firstDefinedValue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "indent", function() { return indent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "slug", function() { return slug; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "capitalize", function() { return capitalize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "encodeHTML", function() { return encodeHTML; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "firstDefinedValue", function() { return firstDefinedValue; });
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
/**
 * Determines if the element is in the list.
 * @param {anything} needle - The element to look for.
 * @param {Array} haystack - The list to search.
 * @return {Boolean} Whether the element exists
 */
function arrayContains(needle, haystack) {
  return haystack.indexOf(needle) > -1;
}

/**
 * Remove duplicate values from an array, preserving order.
 * Creates a new array, so is non-destructive.
 * Courtesy:
 * https://stackoverflow.com/questions/1584370/how-to-merge-two-arrays-in-javascript-and-de-duplicate-items
 *
 * @param {Array} array - The array to uniquify. Elements compared with ===.
 */
function arrayUnique(array) {
  var a = array.concat();
  for (var i = 0; i < a.length; ++i) {
    for (var j = i + 1; j < a.length; ++j) {
      if (a[i] === a[j]) {
        a.splice(j--, 1);
      }
    }
  }
  return a;
}

/**
 * A helper function for extending an array based
 * on an "addArray" and "removeArray". Any element
 * found in removeArray is removed from the first array
 * and all the elements of addArray are added.
 * Any duplicate items are removed.
 * Creates a new array, so is non-destructive.
 *
 * @param {Array} array - the array to manipulate
 * @param {Array} addArray - the elements to add to the array
 * @param {Array} removeArray - the elements to remove from the array
 * @return {Array} The modified array
 */
function expandArray(array, addArray, removeArray) {
  var copyArray = array.filter(function (item) {
    return removeArray.indexOf(item) === -1;
  });
  return arrayUnique(copyArray.concat(addArray));
}

/**
 * Deeply clones a node
 * @param {Node} node A node to clone
 * @return {Node} A clone of the given node and all its children
 */
function cloneNode(node) {
  // If the node is a text node, then re-create it rather than clone it
  var clone = node.nodeType == 3 ? document.createTextNode(node.nodeValue) : node.cloneNode(false);

  // Recurse     
  var child = node.firstChild;
  while (child) {
    clone.appendChild(cloneNode(child));
    child = child.nextSibling;
  }
  return clone;
}

/**
 * Indents the given string by 4 spaces. This correctly handles multi-line strings.
 *
 * @param {String} str - The string to be manipulated.
 * @returns {String} The string with four spaces added at the start of every new line.
 */
function indent(str) {
  return str.replace(/^(?=.)/gm, "    ");
}

/**
 * Turns spaces into underscores in the string, makes it lowercase.
 * @param {String} str - the string to be manipulated
 * @returns {string}
 */
function slug(str) {
  return str.replace(/\s/g, "_").toLowerCase();
}

/**
 * Capitalize the first letter of a string.
 * @param {String} s - The string to be capitalized.
 * @returns {string}
 */
function capitalize(s) {
  if (typeof s !== "string") {
    return "";
  }
  return s.charAt(0).toUpperCase() + s.slice(1);
}

/**
 * Return a random integer between [`min`, `max`].
 * 
 * @param {number} min - The lowest possible integer.
 * @param {number} max - The highest possible integer (inclusive).
 * @returns {number} A random integer.
 */
function randomInteger(min, max) {
  return Math.floor(Math.random() * (max - min + 1) + min);
}

/**
 * Encodes some text so that it can be safely written into an HTML box.
 * This includes replacing special HTML characters (&, <, >, etc.).
 *
 * @param {string} str - The text to be converted.
 * @return {string} The HTML-safe text.
 */
function encodeHTML(str) {
  return str.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;");
}

/**
 * Shuffle the blocks in the workspace
 */
if (typeof Blockly !== "undefined") {
  Blockly.WorkspaceSvg.prototype.shuffle = function () {
    var metrics = this.getMetrics();
    var width = metrics.viewWidth / 2,
      height = metrics.viewHeight;
    var blocks = this.getTopBlocks(false);
    var y = 5,
      x = 0,
      maximal_increase = height / blocks.length;
    for (var i = 0; i < blocks.length; i++) {
      // Get a block
      var block = blocks[i];
      var properties = block.getRelativeToSurfaceXY();
      if (i == 0) {
        x = 5;
      } else {
        x = -properties.x + randomInteger(10, width);
      }
      block.moveBy(x, -properties.y + y);
      y = y + randomInteger(5, maximal_increase);
    }
  };
}

/**
 * Move elements from one array to another based on a conditional check.
 * https://stackoverflow.com/questions/31887967/javascript-move-objects-from-one-array-to-another-best-approach
 */
function moveElements(source, target, moveCheck) {
  for (var i = 0; i < source.length; i++) {
    var element = source[i];
    if (moveCheck(element)) {
      source.splice(i, 1);
      target.push(element);
      i--;
    }
  }
}
function firstDefinedValue() {
  for (var i = 0; i < arguments.length; i++) {
    if (arguments[i] != null) {
      return arguments[i];
    }
  }
  return undefined;
}

/**
 * This function checks if the given object is one of the Sk.builtin objects
 * TODO: make this so we don't have to explicitly put out every option
 *          one possible thing we could do is get a string version of the 
 *          of the constructor and look for the substring "return new Sk.builtin"
 *          But I don't know how reliable that is.  Rather, it's kind of hackish.
 *          Should tehoretically belong in Sk.ffi
 * @param {object} obj - the object to be examined
 * @return {boolean} true if the object is one of the Sk.builtin types
**/
function isSkBuiltin(obj) {
  return obj instanceof Sk.builtin.dict || obj instanceof Sk.builtin.list || obj instanceof Sk.builtin.tuple || obj instanceof Sk.builtin.bool || obj instanceof Sk.builtin.int_ || obj instanceof Sk.builtin.float_ || obj instanceof Sk.builtin.str || obj instanceof Sk.builtin.lng;
  //var cons_str = obj.constructor + "";
  //return cons_str.indexOf("return new Sk.builtin") !== -1;
}

function isAstNode(obj) {
  return obj instanceof Object && "_astname" in obj;
}

/**
 * Should theoretically belong in Sk.ffi, but I put it here instead to not mess up the skulpt files
 * like the normal Sk.ffi.remapToPy, it doesn't work for functions or more complex objects, but it handles
 * cases where the types in obj are a mix of python SIMPLE objects and SIMPLE normal javascript objects
 * @param {object} obj - the object to be converted
 * @return {Sk.builtin.???} - returns the corresponding python object, dropping all functions and things it can't convert
**/
function mixedRemapToPy(obj) {
  var k;
  var kvs;
  var i;
  var arr;
  //@TODO: should theoretically check if the object is a pyhon dict or array with js objects
  if (isSkBuiltin(obj)) {
    //object is already python ready
    return obj;
  } else if (Object.prototype.toString.call(obj) === "[object Array]") {
    //object is actually a javascript array
    arr = [];
    for (i = 0; i < obj.length; ++i) {
      //for each object, convert it to a python object if it isn't one already
      var subval = obj[i];
      if (!isSkBuiltin(subval)) {
        arr.push(mixedRemapToPy(subval));
      } else {
        arr.push(subval);
      }
    }
    return new Sk.builtin.list(arr);
  } else if (obj === null) {
    //null object
    return Sk.builtin.none.none$;
  } else if (_typeof(obj) === "object") {
    if (!isSkBuiltin(obj)) {
      //assuming it's a standard dictionary
      kvs = []; //Sk.builtin.dict uses an array of key-value,key-value...
      for (k in obj) {
        //convert the key if it needs to be converted
        kvs.push(mixedRemapToPy(k));
        //covert corresponding value if it needs to be converted
        kvs.push(mixedRemapToPy(obj[k]));
      }
      //create the new dictionary
      return new Sk.builtin.dict(kvs);
    } else {
      return obj;
    }
  } else if (typeof obj === "string") {
    return new Sk.builtin.str(obj);
  } else if (typeof obj === "number") {
    return Sk.builtin.assk$(obj);
  } else if (typeof obj === "boolean") {
    return new Sk.builtin.bool(obj);
  } else if (typeof obj === "function") {
    return new Sk.builtin.str(obj.name);
  }
}

/***/ }),

/***/ "jquery":
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_jquery__;

/***/ }),

/***/ "knockout":
/*!*********************!*\
  !*** external "ko" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_knockout__;

/***/ })

/******/ });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibG9ja3B5L3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9ibG9ja3B5L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvYmxvY2tweS5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2NvbnNvbGUuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9jb3JnaXMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9jc3MvYmxvY2tweS5jc3MiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9jc3MvYm9vdHN0cmFwX3JldGhlbWUuY3NzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZGlhbG9nLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZWRpdG9yL2Fic3RyYWN0X2VkaXRvci5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VkaXRvci9hc3NpZ25tZW50X3NldHRpbmdzLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZWRpdG9yL21hcmtkb3duLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZWRpdG9yL3B5dGhvbi5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VkaXRvci90YWdzLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZWRpdG9yL3RleHQuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lZGl0b3JzLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZW5naW5lLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZW5naW5lL2NvbmZpZ3VyYXRpb25zLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZW5naW5lL2V2YWwuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lbmdpbmUvaW5zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VuZ2luZS9vbl9jaGFuZ2UuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lbmdpbmUvb25fZXZhbC5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VuZ2luZS9vbl9ydW4uanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lbmdpbmUvb25fc2FtcGxlLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZW5naW5lL3J1bi5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VuZ2luZS9zYW1wbGUuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lbmdpbmUvc3R1ZGVudC5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2ZlZWRiYWNrLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZmlsZXMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9mb290ZXIuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9oaXN0b3J5LmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvaW50ZXJmYWNlLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvc2VydmVyLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvc2t1bHB0X21vZHVsZXMvY292ZXJhZ2UuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9za3VscHRfbW9kdWxlcy9pbWFnZS5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL3NrdWxwdF9tb2R1bGVzL3NrX21vZF9pbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvc3RvcmFnZS5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL3RyYWNlLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvdXRpbGl0aWVzLmpzIiwid2VicGFjazovL2Jsb2NrcHkvZXh0ZXJuYWwgXCJqUXVlcnlcIiIsIndlYnBhY2s6Ly9ibG9ja3B5L2V4dGVybmFsIFwia29cIiJdLCJuYW1lcyI6WyJCbG9ja1B5IiwiY29uZmlndXJhdGlvbiIsImFzc2lnbm1lbnQiLCJzdWJtaXNzaW9uIiwiaW5pdE1vZGVsIiwidW5kZWZpbmVkIiwic2V0QXNzaWdubWVudCIsImluaXRNYWluIiwiaW5pdFV0aWxpdGllcyIsImluaXRNb2RlbE1ldGhvZHMiLCJ0dXJuT25IYWNrcyIsImluaXRJbnRlcmZhY2UiLCJhcHBseU1vZGVsIiwiaW5pdENvbXBvbmVudHMiLCJtYWtlRXh0cmFTdWJzY3JpcHRpb25zIiwic3RhcnQiLCJrZXkiLCJkZWZhdWx0VmFsdWUiLCJpbml0aWFsQ29uZmlndXJhdGlvbl8iLCJsb2NhbFNldHRpbmdzXyIsImhhcyIsImdldCIsIkxvY2FsU3RvcmFnZVdyYXBwZXIiLCJtb2RlbCIsInVzZXIiLCJpZCIsImtvIiwib2JzZXJ2YWJsZSIsIm5hbWUiLCJyb2xlIiwiZ2V0U2V0dGluZyIsImNvdXJzZUlkIiwiZ3JvdXBJZCIsImluc3RydWN0aW9ucyIsInVybCIsInR5cGUiLCJzdGFydGluZ0NvZGUiLCJvblJ1biIsIm9uQ2hhbmdlIiwib25FdmFsIiwiZXh0cmFJbnN0cnVjdG9yRmlsZXMiLCJvYnNlcnZhYmxlQXJyYXkiLCJleHRyYVN0YXJ0aW5nRmlsZXMiLCJmb3JrZWRJZCIsImZvcmtlZFZlcnNpb24iLCJvd25lcklkIiwidmVyc2lvbiIsInRhZ3MiLCJzYW1wbGVTdWJtaXNzaW9ucyIsInJldmlld2VkIiwiaGlkZGVuIiwiaXBSYW5nZXMiLCJzZXR0aW5ncyIsIm1ha2VBc3NpZ25tZW50U2V0dGluZ3NNb2RlbCIsImNvZGUiLCJleHRyYUZpbGVzIiwiZW5kcG9pbnQiLCJzY29yZSIsImNvcnJlY3QiLCJzdWJtaXNzaW9uU3RhdHVzIiwiZ3JhZGluZ1N0YXR1cyIsImRpc3BsYXkiLCJmaWxlbmFtZSIsImluc3RydWN0b3IiLCJ0b1N0cmluZyIsIm11dGVQcmludGVyIiwicHl0aG9uTW9kZSIsIkRpc3BsYXlNb2RlcyIsIlNQTElUIiwiaGlzdG9yeU1vZGUiLCJhdXRvU2F2ZSIsImJpZ0NvbnNvbGUiLCJwcmV2aW91c0NvbnNvbGVIZWlnaHQiLCJjdXJyZW50Q29uc29sZUhlaWdodCIsInNlY29uZFJvd1NlY29uZFBhbmVsIiwiU2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zIiwiRkVFREJBQ0siLCJ0cmFjZUV4ZWN1dGlvbiIsImxvYWRpbmdEYXRhc2V0cyIsImNoYW5nZWRJbnN0cnVjdGlvbnMiLCJ0cmlnZ2VyT25DaGFuZ2UiLCJkaXJ0eVN1Ym1pc3Npb24iLCJmdWxsc2NyZWVuIiwicGFzc2NvZGUiLCJjbGVhcklucHV0cyIsInN0YXR1cyIsImxvYWRBc3NpZ25tZW50IiwiU3RhdHVzU3RhdGUiLCJSRUFEWSIsImxvYWRBc3NpZ25tZW50TWVzc2FnZSIsImxvYWRIaXN0b3J5IiwibG9hZEhpc3RvcnlNZXNzYWdlIiwibG9hZEZpbGUiLCJsb2FkRmlsZU1lc3NhZ2UiLCJsb2FkRGF0YXNldCIsImxvYWREYXRhc2V0TWVzc2FnZSIsImxvZ0V2ZW50IiwibG9nRXZlbnRNZXNzYWdlIiwic2F2ZUltYWdlIiwic2F2ZUltYWdlTWVzc2FnZSIsInNhdmVGaWxlIiwic2F2ZUZpbGVNZXNzYWdlIiwic2F2ZUFzc2lnbm1lbnQiLCJzYXZlQXNzaWdubWVudE1lc3NhZ2UiLCJ1cGRhdGVTdWJtaXNzaW9uIiwidXBkYXRlU3VibWlzc2lvbk1lc3NhZ2UiLCJ1cGRhdGVTdWJtaXNzaW9uU3RhdHVzIiwidXBkYXRlU3VibWlzc2lvblN0YXR1c01lc3NhZ2UiLCJvbkV4ZWN1dGlvbiIsImV4ZWN1dGlvbiIsInJlcG9ydHMiLCJvdXRwdXQiLCJpbnB1dCIsImlucHV0SW5kZXgiLCJzdHVkZW50IiwiY3VycmVudFN0ZXAiLCJsYXN0U3RlcCIsImN1cnJlbnRMaW5lIiwibGFzdExpbmUiLCJjdXJyZW50VHJhY2VEYXRhIiwiY3VycmVudFRyYWNlU3RlcCIsInJlc3VsdHMiLCJnbG9iYWxzIiwic3lzbW9kdWxlcyIsImZlZWRiYWNrIiwibWVzc2FnZSIsImNhdGVnb3J5IiwibGFiZWwiLCJsaW5lc0Vycm9yIiwibGluZXNVbmNvdmVyZWQiLCJjYWxsYmFja3MiLCJzZXJ2ZXJDb25uZWN0ZWQiLCJibG9ja2x5UGF0aCIsImF0dGFjaG1lbnRQb2ludCIsImNvbnRhaW5lciIsInVybHMiLCJjb25zdGFudHMiLCJndWkiLCJtYWtlSW50ZXJmYWNlIiwiJCIsImh0bWwiLCJhc3NpZ25tZW50X2lkIiwiY29tcG9uZW50cyIsInNlcnZlciIsInNhbXBsZXMiLCJzdGFydGluZ19jb2RlIiwibG9hZENvbmNhdGVuYXRlZEZpbGUiLCJleHRyYV9zdGFydGluZ19maWxlcyIsImxvYWROb1N1Ym1pc3Npb24iLCJncmFkaW5nX3N0YXR1cyIsInN1Ym1pc3Npb25fc3RhdHVzIiwidXNlcl9pZCIsImNvdXJzZV9pZCIsImV4dHJhX2ZpbGVzIiwiZGF0YSIsImNvbnNvbGUiLCJsb2ciLCJyZXNldEludGVyZmFjZSIsImZpbGVTeXN0ZW0iLCJkaXNtb3VudEV4dHJhRmlsZXMiLCJ3YXNTZXJ2ZXJDb25uZWN0ZWQiLCJmb3JrZWRfaWQiLCJmb3JrZWRfdmVyc2lvbiIsImlwX3JhbmdlcyIsIm9uX2NoYW5nZSIsIm5ld0ZpbGUiLCJvbl9ldmFsIiwib25fcnVuIiwib3duZXJfaWQiLCJsb2FkQXNzaWdubWVudFNldHRpbmdzIiwibG9hZFRhZ3MiLCJsb2FkU2FtcGxlU3VibWlzc2lvbnMiLCJzYW1wbGVfc3VibWlzc2lvbnMiLCJleHRyYV9pbnN0cnVjdG9yX2ZpbGVzIiwibG9hZFN1Ym1pc3Npb24iLCJjb3JnaXMiLCJsb2FkRGF0YXNldHMiLCJweXRob25FZGl0b3IiLCJibSIsInJlZnJlc2giLCJzZXRTdGF0dXMiLCJzZWxmIiwidWkiLCJpc0dyYWRlciIsInB1cmVDb21wdXRlZCIsImlzQ2hhbmdlZCIsImN1cnJlbnQiLCJ1dGlsaXRpZXMiLCJtYXJrZG93biIsInJlc2V0IiwibWVudSIsInRleHRGdWxsc2NyZWVuIiwiY2xpY2tGdWxsc2NyZWVuIiwiZWRpdElucHV0cyIsImRpYWxvZyIsIkVESVRfSU5QVVRTIiwiY2FuTWFya1N1Ym1pdHRlZCIsImNhbkNsb3NlIiwidGV4dE1hcmtTdWJtaXR0ZWQiLCJpc0NvbXBsZXRlZCIsImlzU3VibWl0dGVkIiwiY2xpY2tNYXJrU3VibWl0dGVkIiwiYWxlcnQiLCJlbmdpbmUiLCJkZWxheWVkUnVuIiwidG9Mb3dlckNhc2UiLCJzaG93UXVldWVkSW5wdXRzIiwiaGlkZVF1ZXVlZElucHV0cyIsInNlY29uZFJvdyIsImlzQWxsVmlzaWJsZSIsImhpZGVNaWRkbGVQYW5lbCIsImlzRmVlZGJhY2tWaXNpYmxlIiwiaXNUcmFjZVZpc2libGUiLCJUUkFDRSIsImlzQ29uc29sZVNob3dWaXNpYmxlIiwic3dpdGNoTGFiZWwiLCJhZHZhbmNlU3RhdGUiLCJjdXJyZW50UGFuZWwiLCJOT05FIiwic2l6ZSIsImhpZGVFdmFsdWF0ZSIsIkFDVElWRSIsImJhZGdlIiwidHJhY2UiLCJsaW5lIiwic3RlcCIsInRyYWNlRGF0YSIsImZpcnN0IiwiYmFja3dhcmQiLCJwcmV2aW91cyIsIk1hdGgiLCJtYXgiLCJmb3J3YXJkIiwibmV4dCIsIm1pbiIsImxhc3QiLCJmaWxlcyIsInZpc2libGUiLCJoaWRlRmlsZXMiLCJoYXNDb250ZW50cyIsInBhdGgiLCJzb21lIiwiZmlsZSIsImxlbmd0aCIsImFkZCIsIm5ld0ZpbGVEaWFsb2ciLCJkZWxldGVGaWxlIiwiZXh0cmFTdHVkZW50RmlsZXMiLCJvYnNlcnZlQ29uY2F0ZW5hdGVkRmlsZSIsImRpc3BsYXlGaWxlbmFtZSIsInN0YXJ0c1dpdGgiLCJzbGljZSIsImVkaXRvcnMiLCJnZXRFZGl0b3IiLCJ2aWV3IiwiaGlkZUVkaXRvcnMiLCJtYXAiLCJzdWJzdHIiLCJtYWtlTW9kZWxGaWxlIiwiY29udGVudHMiLCJjYW5TYXZlIiwiY2FuRGVsZXRlIiwiVU5ERUxFVEFCTEVfRklMRVMiLCJpbmRleE9mIiwiY2FuUmVuYW1lIiwiVU5SRU5BTUFCTEVfRklMRVMiLCJ1cGxvYWQiLCJ1cGxvYWRGaWxlIiwiYmluZCIsImRvd25sb2FkIiwiZG93bmxvYWRGaWxlIiwiaW1wb3J0RGF0YXNldCIsIm9wZW5EaWFsb2ciLCJweXRob24iLCJjb2RlTWlycm9yIiwidGV4dEVkaXRvciIsInNldE9wdGlvbiIsImdldE9wdGlvbiIsInVwZGF0ZU1vZGUiLCJuZXdNb2RlIiwib2xkUHl0aG9uTW9kZSIsImlzSGlzdG9yeUF2YWlsYWJsZSIsImlzRW5kcG9pbnRDb25uZWN0ZWQiLCJ0dXJuT2ZmSGlzdG9yeU1vZGUiLCJ1cGRhdGVFZGl0b3IiLCJzZXRSZWFkT25seSIsInR1cm5Pbkhpc3RvcnlNb2RlIiwicmVzcG9uc2UiLCJzdWNjZXNzIiwiaGlzdG9yeSIsImxvYWQiLCJFUlJPUl9MT0FESU5HX0hJU1RPUlkiLCJ0b2dnbGVIaXN0b3J5TW9kZSIsIm1vdmVUb1N0YXJ0IiwibW92ZVByZXZpb3VzIiwibW92ZU5leHQiLCJtb3N0UmVjZW50IiwibW92ZVRvTW9zdFJlY2VudCIsInVzZSIsInNhdmUiLCJleGVjdXRlIiwiaXNSdW5uaW5nIiwicnVuIiwiZXZhbHVhdGUiLCJtZXNzYWdlcyIsImNhcGl0YWxpemUiLCJmb3JjZSIsImV2ZW50IiwidGFyZ2V0IiwiZmFkZU91dCIsImZhZGVJbiIsIm1ha2VFeHRyYUludGVyZmFjZVN1YnNjcmlwdGlvbnMiLCJTayIsImJ1aWx0aW5GaWxlcyIsIiRidWlsdGlubW9kdWxlIiwiYXBwbHlCaW5kaW5ncyIsIm1haW4iLCJ0ZXh0IiwiRWFzeU1ERSIsInByb3RvdHlwZSIsIkJsb2NrUHlEaWFsb2ciLCJmaW5kIiwiQmxvY2tQeUZlZWRiYWNrIiwiQmxvY2tQeVRyYWNlIiwiQmxvY2tQeUNvbnNvbGUiLCJCbG9ja1B5RW5naW5lIiwiQmxvY2tQeUZpbGVTeXN0ZW0iLCJFZGl0b3JzIiwiYnlOYW1lIiwiQmxvY2tQeVNlcnZlciIsIkJsb2NrUHlDb3JnaXMiLCJCbG9ja1B5SGlzdG9yeSIsInN1YnNjcmliZSIsImNoYW5nZWQiLCJ1c2VyU3VwcGxpZWRQYXNzY29kZSIsInByb21wdCIsIlNUQVJUX0VWQUxfSFRNTCIsIk5FV19DT05TT0xFX0xJTkVfSFRNTCIsIkNPTlNPTEVfSFRNTCIsIkNvbnNvbGVMaW5lVHlwZSIsIlRFWFQiLCJIVE1MIiwiUExPVCIsIklNQUdFIiwiVFVSVExFIiwiRVZBTCIsIlNUQVJUX0VWQUwiLCJWQUxVRSIsIklOUFVUIiwiVEVTVF9DQVNFIiwiQ29uc29sZUxpbmUiLCJjb250ZW50Iiwib3JpZ2luIiwiY3VyckZpbGVuYW1lIiwiZXhlY3V0aW9uQnVmZmVyIiwiaW5kZXgiLCJmZmkiLCJyZW1hcFRvUHkiLCJyZW1vdmUiLCJDb25zb2xlTGluZVR1cnRsZSIsImFkZENsYXNzIiwid2hlcmUiLCJwcmVwZW5kIiwidG9wIiwicG9zaXRpb24iLCJzY3JvbGxUb3AiLCJDb25zb2xlTGluZUltYWdlIiwiYXBwZW5kIiwiQ29uc29sZUxpbmVQbG90IiwiQ29uc29sZUxpbmVUZXh0IiwiZW5jb2RlZFRleHQiLCJlbmNvZGVIVE1MIiwidHJpbSIsImxpbmVEYXRhIiwidG9vbHRpcCIsIkNvbnNvbGVMaW5lVmFsdWUiLCJDb25zb2xlTGluZUlucHV0IiwicHJvbXB0TWVzc2FnZSIsImlucHV0Rm9ybSIsImlucHV0QnRuIiwiaW5wdXRHcm91cCIsImlucHV0Qm94IiwiaW5wdXRNc2ciLCJtYWtlSW50ZXJhY3RpdmUiLCJidXR0b24iLCJyZXNvbHZlT25DbGljayIsInN1Ym1pdHRlZFByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInN1Ym1pdEZvcm0iLCJ1c2VySW5wdXR0ZWRWYWx1ZSIsInZhbCIsInF1ZXVlZElucHV0IiwicHVzaCIsInByb3AiLCJjbGljayIsImtleXVwIiwiZSIsImtleUNvZGUiLCJmb2N1cyIsIkNvbnNvbGVMaW5lRXZhbHVhdGUiLCJDb25zb2xlTGluZVN0YXJ0RXZhbHVhdGUiLCJ0YWciLCJwcmludGVyVGFnIiwiTUlOSU1VTV9XSURUSCIsIk1JTklNVU1fSEVJR0hUIiwiREVGQVVMVF9IRUlHSFQiLCJoZWlnaHQiLCJjbGVhciIsInJlbW92ZUFsbCIsImxpbmVCdWZmZXIiLCJwbG90QnVmZmVyIiwiZW1wdHkiLCJ0dXJ0bGVMaW5lIiwiVHVydGxlR3JhcGhpY3MiLCJnZXRUdXJ0bGVMaW5lIiwid2lkdGgiLCJnZXRXaWR0aCIsImdldEhlaWdodCIsImFzc2V0cyIsImxvYWRBc3NldCIsInJlbmRlciIsImN1cnJlbnRQcmludGVyRGltZW5zaW9uIiwic2F2ZVR1cnRsZU91dHB1dCIsImNhbnZhcyIsImN0eCIsImdldENvbnRleHQiLCJpbWciLCJJbWFnZSIsImRhdGFVcmwiLCJ0b0RhdGFVUkwiLCJwYWdlIiwiZWFjaCIsImF0dHIiLCJzaG93IiwiaGlkZSIsImxpbmVUZXh0IiwiZmx1c2giLCJjaGFyQXQiLCJzcGxpdExpbmVzIiwic3BsaXQiLCJhZGRDb250ZW50IiwiaSIsInBsb3RzIiwiaW1hZ2VEYXRhIiwiaW1hZ2UiLCJpbWFnZUJ1ZmZlciIsInZhbHVlIiwicHJpbnRlZFZhbHVlIiwiaW5wdXRCdWZmZXIiLCJzdGFydEV2YWx1YXRpb24iLCJhbmltYXRlIiwiX0lNUE9SVEVEX0RBVEFTRVRTIiwiX0lNUE9SVEVEX0NPTVBMRVRFX0RBVEFTRVRTIiwic2V0QnV0dG9uTG9hZGVkIiwiYnRuIiwicmVtb3ZlQ2xhc3MiLCJsb2FkZWREYXRhc2V0cyIsInNpbGVudGx5IiwiZWRpdG9yIiwiaW1wb3J0cyIsImRhdGFzZXRzIiwiZm9yRWFjaCIsIkJsb2NrTWlycm9yQmxvY2tFZGl0b3IiLCJFWFRSQV9UT09MUyIsImFwcGx5Iiwic2x1ZyIsIndoZW4iLCJkb25lIiwiZm9yY2VCbG9ja1JlZnJlc2giLCJibG9ja0VkaXRvciIsInJlbWFrZVRvb2xib3giLCJmYWlsIiwiYXJndW1lbnRzIiwiZXJyb3IiLCJhbHdheXMiLCJmaW5hbGl6ZVN1YnNjcmlwdGlvbnMiLCJ1cmxfcmV0cmlldmFscyIsInJvb3QiLCJpbXBvcnREYXRhc2V0cyIsImdldERhdGFzZXQiLCJnZXRTY3JpcHQiLCJnZXRDb21wbGV0ZSIsImdldFNrdWxwdCIsImdldEJsb2NrbHkiLCJ0ZXh0VG9CbG9ja3MiLCJoaWRkZW5JbXBvcnRzIiwiZ2V0SlNPTiIsImJsb2NrcHkiLCJkb2N1bWVudGF0aW9uIiwiYm9keSIsIk9iamVjdCIsImtleXMiLCJzb3J0Iiwic2x1Z2dlZE5hbWUiLCJ0aXRsZU5hbWUiLCJpbWdTcmMiLCJ0aXRsZSIsIm92ZXJ2aWV3IiwiYXBwZW5kVG8iLCJESUFMT0dfSFRNTCIsInRpdGxlVGFnIiwiYm9keVRhZyIsImZvb3RlclRhZyIsIm9rYXlCdXR0b24iLCJjbG9zZUJ1dHRvbiIsInllcyIsIm5vIiwibW9kYWwiLCJjbG9zZSIsIm9uY2xvc2UiLCJkcmFnZ2FibGUiLCJvbiIsImNvbmZpcm0iLCJ5ZXNUZXh0IiwiQVNTSUdOTUVOVF9WRVJTSU9OX0NIQU5HRUQiLCJFUlJPUl9MT0FESU5HX0FTU0lHTk1ORU5UIiwicmVhc29uIiwiRVJST1JfU0hPV19TVFVERU5UX0VSUk9SIiwiUE9TSVRJVkVfRkVFREJBQ0tfRlVMTCIsIlNDUkVFTlNIT1RfQkxPQ0tTIiwiRVJST1JfVVBEQVRJTkdfU1VCTUlTU0lPTl9TVEFUVVMiLCJpbnB1dFRleHQiLCJqb2luIiwiY2hlY2tlZCIsImlucHV0cyIsImZpbGVSZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiZmlsZU5hbWUiLCJyZWFkQXNUZXh0Iiwic2x1Z2dpZnkiLCJyZXBsYWNlIiwiZXh0ZW5zaW9uIiwibWltZXR5cGUiLCJibG9iIiwiQmxvYiIsIndpbmRvdyIsIm5hdmlnYXRvciIsIm1zU2F2ZU9yT3BlbkJsb2IiLCJtc1NhdmVCbG9iIiwidGVtcG9yYXJ5RG93bmxvYWRMaW5rIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImFwcGVuZENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJBYnN0cmFjdEVkaXRvciIsImNoYW5nZUVkaXRvciIsIndhdGNoRmlsZSIsInVwZGF0ZWQiLCJvbkZpbGVVcGRhdGVkIiwiZGVsZXRlZCIsIm9uRmlsZURlbGV0ZWQiLCJuZXdGaWxlbmFtZSIsIm9sZEVkaXRvciIsImdldEZpbGUiLCJ0cmFja0N1cnJlbnRGaWxlIiwibmV3RWRpdG9yIiwic3RvcFdhdGNoaW5nRmlsZSIsInJlc3VsdCIsImhhbmRsZSIsInBhcnNlRmlsZW5hbWUiLCJBU1NJR05NRU5UX1NFVFRJTkdTIiwiZ2V0RG9jdW1lbnRhdGlvbiIsIm1ha2VTdGFydFZpZXdUYWIiLCJpY29uIiwibW9kZSIsIkFTU0lHTk1FTlRfU0VUVElOR1NfQk9PTEVBTl9DT01QT05FTlRTX0hUTUwiLCJmaWx0ZXIiLCJzZXR0aW5nIiwicHJldHR5TmFtZSIsIndvcmQiLCJ0b1VwcGVyQ2FzZSIsIkFTU0lHTk1FTlRfU0VUVElOR1NfRURJVE9SX0hUTUwiLCJCTE9DSyIsInNhdmVBc3NpZ25tZW50U2V0dGluZ3MiLCJjbGllbnROYW1lIiwic2VydmVyTmFtZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXJzZSIsInN0YXJ0X3ZpZXciLCJmaWVsZFR5cGUiLCJjb25maWdWYWx1ZSIsIkFzc2lnbm1lbnRTZXR0aW5nc1ZpZXciLCJkaXJ0eSIsImN1cnJlbnRMaXN0ZW5lciIsInVwZGF0ZUhhbmRsZSIsIm5ld0NvbnRlbnRzIiwiQXNzaWdubWVudFNldHRpbmdzIiwiZXh0ZW5zaW9ucyIsImNvbnN0cnVjdG9yIiwidGVtcGxhdGUiLCJNQVJLRE9XTl9FRElUT1JfSFRNTCIsIk1hcmtkb3duRWRpdG9yVmlldyIsIm1kZSIsImVsZW1lbnQiLCJhdXRvRG93bmxvYWRGb250QXdlc29tZSIsImZvcmNlU3luYyIsIm1pbkhlaWdodCIsInJlbmRlcmluZ0NvbmZpZyIsImNvZGVTeW50YXhIaWdobGlnaHRpbmciLCJpbmRlbnRXaXRoVGFicyIsInRhYlNpemUiLCJjdXJyZW50U3Vic2NyaXB0aW9uIiwiY29kZW1pcnJvciIsInNldFRpbWVvdXQiLCJkaXNwb3NlIiwib2ZmIiwiTWFya2Rvd25FZGl0b3IiLCJtYWtlVGFiIiwiUFlUSE9OX0VESVRPUl9IVE1MIiwiSElTVE9SWV9UT09MQkFSX0hUTUwiLCJjb252ZXJ0SXB5bmJUb1B5dGhvbiIsImlweW5iIiwiaXNVc2FibGUiLCJjZWxsIiwiY2VsbF90eXBlIiwic291cmNlIiwibWFrZVB5dGhvbiIsImNlbGxzIiwiUHl0aG9uRWRpdG9yVmlldyIsIkJsb2NrbHkiLCJzZXRQYXJlbnRDb250YWluZXIiLCJCbG9ja01pcnJvciIsInRvb2xib3giLCJpbWFnZURvd25sb2FkSE9vayIsIm9sZFVybCIsImltYWdlVXBsb2FkSG9vayIsImltYWdlTGl0ZXJhbEhvb2siLCJyZWFkT25seSIsIm1ha2VTdWJzY3JpcHRpb25zIiwibGluZUVycm9yU3Vic2NyaXB0aW9uIiwibGluZVVuY292ZXJlZFN1YnNjcmlwdGlvbiIsIm1ha2VQZXJBc3NpZ25tZW50U3Vic2NyaXB0aW9ucyIsIndvcmtzcGFjZSIsImNvbmZpZ3VyZUNvbnRleHRNZW51Iiwib3B0aW9ucyIsImVuYWJsZWQiLCJjYWxsYmFjayIsIm9sZEZpbGVuYW1lIiwiY3VycmVudEJNTGlzdGVuZXIiLCJhZGRDaGFuZ2VMaXN0ZW5lciIsImlzUGFyc29ucyIsImxpbmVzIiwic2V0SGlnaGxpZ2h0ZWRMaW5lcyIsImRlbGV0ZUZpbGVMb2NhbGx5XyIsInNldENvZGUiLCJjbGVhckhpZ2hsaWdodGVkTGluZXMiLCJnZXRDb2RlIiwicmVtb3ZlQ2hhbmdlTGlzdGVuZXIiLCJjbGVhckxpbmVTdWJzY3JpcHRpb25zIiwic2V0TW9kZSIsImVuYWJsZUJsb2NrcyIsImVuYWJsZUltYWdlcyIsImltYWdlTW9kZSIsInNldEltYWdlTW9kZSIsImRlY2lkZUlmTm90RWRpdGFibGUiLCJvbmx5VXBsb2FkcyIsImlzUmVhZE9ubHkiLCJlbmRzV2l0aCIsIlB5dGhvbkVkaXRvciIsIlRBR1NfRURJVE9SX0hUTUwiLCJUYWdzRWRpdG9yVmlldyIsIlRhZ3NFZGl0b3IiLCJURVhUX0VESVRPUl9IVE1MIiwiVGV4dEVkaXRvclZpZXciLCJDb2RlTWlycm9yIiwiZnJvbVRleHRBcmVhIiwic2hvd0N1cnNvcldoZW5TZWxlY3RpbmciLCJsaW5lTnVtYmVycyIsImZpcnN0TGluZU51bWJlciIsImluZGVudFVuaXQiLCJleHRyYUtleXMiLCJjbSIsImJsdXIiLCJzZXRWYWx1ZSIsImdldFZhbHVlIiwiVGV4dEVkaXRvciIsIkVkaXRvcnNFbnVtIiwiU1VCTUlTU0lPTiIsIkFTU0lHTk1FTlQiLCJJTlNUUlVDVElPTlMiLCJPTl9SVU4iLCJPTl9DSEFOR0UiLCJPTl9FVkFMIiwiU1RBUlRJTkdfQ09ERSIsIlNBTVBMRV9TVUJNSVNTSU9OUyIsIklOU1RSVUNUT1JfRklMRSIsIlNQRUNJQUxfTkFNRVNQQUNFUyIsIkFWQUlMQUJMRV9FRElUT1JTIiwiRURJVE9SU19IVE1MIiwicmVnaXN0ZXJlZF8iLCJleHRlbnNpb25zXyIsImJ5TmFtZV8iLCJyZWdpc3RlckVkaXRvciIsImluc3RhbmNlIiwiZXhpdCIsImVudGVyIiwic3BhY2UiLCJsYXN0SW5kZXhPZiIsImV4ZWN1dGlvbk1vZGVsIiwiY29uZmlndXJhdGlvbnMiLCJSdW5Db25maWd1cmF0aW9uIiwiZXZhbCIsIkV2YWxDb25maWd1cmF0aW9uIiwiT25SdW5Db25maWd1cmF0aW9uIiwiT25DaGFuZ2VDb25maWd1cmF0aW9uIiwiT25FdmFsQ29uZmlndXJhdGlvbiIsImNvbmZpZ3VyZSIsImdldFNrdWxwdE9wdGlvbnMiLCJvbkV4ZWN1dGlvbkJlZ2luIiwib25FeGVjdXRpb25FbmQiLCJyZXBvcnQiLCJyZXNldFN0dWRlbnRNb2RlbCIsInJlc2V0UmVwb3J0cyIsInJlc2V0RXhlY3V0aW9uQnVmZmVyIiwidGhlbiIsImZhaWx1cmUiLCJkaXNhYmxlRmVlZGJhY2siLCJwcm92aWRlU2VjcmV0RXJyb3IiLCJzaG93RXJyb3JzIiwiZXhlY3V0aW9uRW5kXyIsImV2YWx1YXRpb25JbnB1dCIsInVzZXJJbnB1dCIsIm1pc2NldmFsIiwiYXN5bmNUb1Byb21pc2UiLCJpbXBvcnRNYWluV2l0aEJvZHkiLCJGSUxFTkFNRSIsInByb2dyYW1zIiwic2F2ZUNvZGUiLCJ2ZXJpZnlDb2RlIiwidXBkYXRlUGFyc2UiLCJydW5JbnN0cnVjdG9yQ29kZSIsIm1vZHVsZSIsImV4ZWN1dGlvblJlcG9ydHMiLCJwcmVzZW50RmVlZGJhY2siLCIkZCIsIkVNUFRZX01PRFVMRSIsIkNvbmZpZ3VyYXRpb24iLCJpbkJyb3dzZXIiLCJvcGVuRmlsZSIsInJlcXVlc3RzR2V0IiwidGltZW91dCIsIm9wZW5VUkwiLCJfX2Z1dHVyZV9fIiwicHl0aG9uMyIsInJlYWQiLCJpbXBvcnRGaWxlIiwiZmlsZXdyaXRlIiwid3JpdGVGaWxlIiwicHJpbnQiLCJpbnB1dGZ1biIsImlucHV0ZnVuVGFrZXNQcm9tcHQiLCJpbWFnZVByb3h5IiwiZ2V0SW1hZ2VQcm94eSIsInJldGFpbkdsb2JhbHMiLCJ3YXJuIiwibW9ja1VybERhdGEiLCJidWlsdGluIiwiSU9FcnJvciIsImhhc093blByb3BlcnR5IiwiZmlsZURhdGEiLCJyZWFkRmlsZSIsIkVycm9yIiwicG9wIiwiYWZ0ZXJTaW5nbGVFeGVjdXRpb24iLCJwcmludFZhbHVlIiwicmVtYXBUb0pzIiwiXyIsIiRyIiwicmVqZWN0IiwieCIsImlzRG9jc3RyaW5nIiwiRkFJTEVEIiwiU3R1ZGVudENvbmZpZ3VyYXRpb24iLCJVVElMSVRZX01PRFVMRV9DT0RFIiwiJHNrX21vZF9pbnN0cnVjdG9yIiwiQ09WRVJBR0VfTU9EVUxFX0NPREUiLCIkc2tfbW9kX2NvdmVyYWdlIiwiSW5zdHJ1Y3RvckNvbmZpZ3VyYXRpb24iLCJleGVjTGltaXRGdW5jdGlvbiIsImRpc2FibGVUaW1lb3V0IiwiSW5maW5pdHkiLCJleGVjTGltaXQiLCIkbWFpbiIsInN0ciIsInF1aWNrJGxvb2t1cCIsImRlbCRpdGVtIiwiZm91bmQiLCJzZWFyY2hGb3JGaWxlIiwiT1NFcnJvciIsIm5leHRJbnB1dCIsImNsZWFyVGltZW91dCIsIldSQVBfSU5TVFJVQ1RPUl9DT0RFIiwic3R1ZGVudENvZGUiLCJpbnN0cnVjdG9yQ29kZSIsInF1aWNrIiwiaXNTYWZlIiwic2FmZUNvZGUiLCJpbmRlbnRlZENvZGUiLCJpbmRlbnQiLCJkaXNhYmxlVGlmYSIsInN0dWRlbnRDb2RlU2FmZSIsImV2YWx1YXRpb24iLCJkdW1teU91dFNhbmRib3giLCJsaW5lT2Zmc2V0IiwiTkVXX0xJTkVfUkVHRVgiLCJTVUNDRVNTIiwiU0NPUkUiLCJvbGRTY29yZSIsIkhJREUiLCJzY3JvbGxpbmciLCJzY3JvbGxUb0JvdHRvbSIsInRwJG5hbWUiLCJwcmVzZW50SW50ZXJuYWxFcnJvciIsInRpZmFBbmFseXNpcyIsInNraXBfdGlmYSIsIk9uU2FtcGxlQ29uZmlndXJhdGlvbiIsIkJvb2xlYW4iLCJjbGVhcklucHV0IiwiZmluaXNoVHVydGxlcyIsImJlZ2luRXZhbCIsInBhcnNlciIsInZlcmlmaWVyIiwiU2FtcGxlQ29uZmlndXJhdGlvbiIsImlzRm9yYmlkZGVuIiwibG9jYWxzIiwibGluZU51bWJlciIsImNvbHVtbk51bWJlciIsInBhcnNlR2xvYmFscyIsInByb3BlcnRpZXMiLCJtb2R1bGVzIiwiYXN0IiwidmlzaXRlZExpbmVzIiwiU2V0IiwidmlzaXRCb2R5Iiwibm9kZSIsImxpbmVubyIsInN0YXRlbWVudCIsIm9yZWxzZSIsImZpbmFsYm9keSIsIkFycmF5IiwiZnJvbSIsImFzdEZyb21QYXJzZSIsImNzdCIsImZsYWdzIiwiZ2V0TGluZXMiLCJwcmVzZW50UnVuRXJyb3IiLCJlcnJvckJ1dHRvbiIsIkZFRURCQUNLX0hUTUwiLCJmZWVkYmFja01vZGVsIiwicG9zaXRpdmUiLCJvZmZzZXQiLCJ2aXNpYmlsaXR5QnVmZmVyIiwidG9wT2ZFbGVtZW50IiwiYm90dG9tT2ZFbGVtZW50IiwiYm90dG9tT2ZTY3JlZW4iLCJ0b3BPZlNjcmVlbiIsImNsZWFyUG9zaXRpdmVGZWVkYmFjayIsImV4ZWN1dGlvblJlc3VsdHMiLCJNRVNTQUdFIiwiQ0FURUdPUlkiLCJMQUJFTCIsIkRBVEEiLCJwb3NpdGl2ZXMiLCJQT1NJVElWRSIsImhpZGVTY29yZSIsImJsb2NrIiwiaGxqcyIsImhpZ2hsaWdodEJsb2NrIiwiZmluZEZpcnN0RXJyb3JMaW5lIiwic3R1ZGVudFJlcG9ydCIsInVuY292ZXJlZExpbmVzIiwicG9zaXRpdmVEYXRhIiwiYWRkUG9zaXRpdmVGZWVkYmFjayIsImNvbG9yIiwib25jbGljayIsInRvRW5kIiwiY3NzIiwiaG92ZXIiLCJ1cGRhdGVGZWVkYmFjayIsIm5vdGlmeUZlZWRiYWNrVXBkYXRlIiwic2Nyb2xsSW50b1ZpZXciLCJqdXN0X3JldHVybiIsImNvbnZlcnRTa3VscHRFcnJvciIsImZpbGVuYW1lRXhlY3V0ZWQiLCJhcmdzIiwidHJhY2ViYWNrIiwiZnJhbWUiLCJzY29wZSIsImZlZWRiYWNrRGF0YSIsImxvY2F0aW9uIiwidHAkZ2V0YXR0ciIsImZyaWVuZGx5TmFtZSIsImhpZGVJZkVtcHR5Iiwibm90SW5zdHJ1Y3RvciIsImluc3RydWN0b3JGaWxlQ2xhc3MiLCJoaWRlSWZOb3RJbnN0cnVjdG9yIiwiRklMRVNfSFRNTCIsIk5FV19JTlNUUlVDVE9SX0ZJTEVfRElBTE9HX0hUTUwiLCJTVEFSVElOR19GSUxFUyIsIkJBU0lDX05FV19GSUxFUyIsIklOU1RSVUNUT1JfRElSRUNUT1JZIiwiU1RVREVOVF9ESVJFQ1RPUlkiLCJTZWFyY2hNb2RlcyIsIkVWRVJZV0hFUkUiLCJTVEFSVF9XSVRIX0lOU1RSVUNUT1IiLCJPTkxZX1NUVURFTlRfRklMRVMiLCJERUxFVEFCTEVfU0lNUExFX0ZJTEVTIiwiQmxvY2tQeUZpbGUiLCJvd25lciIsIm1ha2VNb2NrTW9kZWxGaWxlIiwiY29uY2F0ZW5hdGVkRmlsZSIsIm1vZGVsRmlsZUxpc3QiLCJtb2RlbEZpbGVzIiwiY3JlYXRlQ29uY2F0ZW5hdGVkRmlsZSIsImZpbGVzXyIsIm1vdW50RmlsZXMiLCJ3YXRjaE1vZGVsIiwid2F0Y2hlc18iLCJ2aXNpYmxpdHkiLCJ0b2dnbGUiLCJmaWxlc3lzdGVtIiwiZmlsZUFycmF5IiwiY2hhbmdlcyIsImNoYW5nZSIsIm1vZGVsRmlsZSIsIm5vdGlmeVdhdGNoZXMiLCJvYnNlcnZlSW5BcnJheV8iLCJhcnJheSIsImNvZGVCdW5kbGUiLCJleGlzdGluZ0ZpbGUiLCJvYnNlcnZlRmlsZV8iLCJzdHVkZW50U2VhcmNoIiwic2VhcmNoTW9kZSIsInNwZWNpYWxGaWxlIiwic2VhcmNoRm9yU3BlY2lhbEZpbGVzXyIsInN0dWRlbnRWZXJzaW9uIiwic2VhcmNoRm9yRmlsZUluTGlzdF8iLCJnZW5lcmF0ZWRWZXJzaW9uIiwiZGVmYXVsdFZlcnNpb24iLCJmaXJzdERlZmluZWRWYWx1ZSIsImluc3RydWN0b3JWZXJzaW9uIiwiaGlkZGVuVmVyc2lvbiIsInN0YXJ0aW5nVmVyc2lvbiIsIm1vZGVsTGlzdCIsImtpbmQiLCJmaWxldHlwZSIsIm5hbWVzcGFjZSIsImV4dGVuc2lvblJlZ2V4IiwiZXhlYyIsInByZWZpeCIsInN1Ym1pdCIsInByZXZlbnREZWZhdWx0IiwiRk9PVEVSX0hUTUwiLCJjdXJyZW50SWQiLCJlZGl0RXZlbnRzIiwic2VsZWN0b3IiLCJlZGl0SWQiLCJlbnRyeSIsImZpbGVfcGF0aCIsImV2ZW50X3R5cGUiLCJSRU1BUF9FVkVOVF9UWVBFUyIsImRpc3BsYXllZCIsInByZXR0eVByaW50RGF0ZVRpbWUiLCJjbGllbnRfdGltZXN0YW1wIiwiZGlzYWJsZSIsIm9wdGlvbiIsImRpc2FibGVkIiwiaXNFZGl0RXZlbnQiLCJldnQiLCJwYXJzZUludCIsIm1vbnRoTmFtZXMiLCJ3ZWVrRGF5cyIsImlzU2FtZURheSIsInNlY29uZCIsImdldERhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwidGltZVN0cmluZyIsIm5vdyIsIkRhdGUiLCJwYXN0IiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiZGF5U3RyIiwiZ2V0RGF5IiwibW9udGhTdHIiLCJkYXRlIiwiZ2V0SGlzdG9yeSIsInJldmVyc2UiLCJyZWR1Y2UiLCJjb21wbGV0ZSIsImVsZW0iLCJjb21wbGV0ZV9zdHIiLCJ0aW1lIiwibmV3X2xpbmUiLCJoaWdobGlnaHRUaW1lb3V0IiwiaXNGdWxsc2NyZWVuIiwicGFyZW50IiwicmVxdWVzdEZ1bGxzY3JlZW4iLCJlcnIiLCJleGl0RnVsbHNjcmVlbiIsIlRSQUNFX0hUTUwiLCJSRVRSWUlORyIsIk9GRkxJTkUiLCJzdG9yYWdlIiwicXVldWUiLCJnZXREZWZhdWx0IiwiTUFYX1FVRVVFX1NJWkUiLCJUSU1FUl9ERUxBWSIsIkZBSUxfREVMQVkiLCJ0aW1lcnMiLCJvdmVybGF5IiwiYmxvY2tpbmdBdHRlbXB0cyIsImNhY2hlZEZpbGVuYW1lcyIsImNyZWF0ZVN1YnNjcmlwdGlvbnMiLCJjaGVja0NhY2hlcyIsImNoZWNrSVAiLCJvbGRJUCIsImlwIiwic2V0IiwiX3Bvc3RMYXRlc3RSZXRyeSIsInB1c2hBbnlRdWV1ZWQiLCJfcG9zdFJldHJ5IiwiY3JlYXRlRmlsZVN1YnNjcmlwdGlvbiIsImNyZWF0ZUV2ZW50TG9ncyIsIm9uYmx1ciIsIm9uZm9jdXMiLCJjcmVhdGVTZXJ2ZXJEYXRhIiwibWljcm9zZWNvbmRzIiwiZ2V0VGltZSIsImdldFRpbWV6b25lT2Zmc2V0Iiwic2hvd092ZXJsYXkiLCJhdHRlbXB0IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImhpZGVPdmVybGF5IiwiX2VucXVldWVEYXRhIiwiY2FjaGUiLCJfZGVxdWV1ZURhdGEiLCJzcGxpY2UiLCJkZWxheSIsInBvc3RSZXF1ZXN0IiwicG9zdCIsInRleHRTdGF0dXMiLCJyZXF1ZXN0IiwiY2FjaGVkVGltZSIsIl9wb3N0QmxvY2tpbmciLCJhdHRlbXB0cyIsImVycm9yVGhyb3duIiwibG9hZEFzc2lnbm1lbnREYXRhXyIsIkVSUk9SX1NBVklOR19BU1NJR05NTkVOVCIsImRpcmVjdG9yeSIsIm5ld1N0YXR1cyIsInBvc3RTdGF0dXNDaGFuZ2UiLCJlcnJvckNhbGxiYWNrIiwibG9hZF9maWxlIiwiaGlkZGVuT3ZlcnJpZGUiLCJmb3JjZVVwZGF0ZSIsImdldFBuZ0Zyb21CbG9ja3MiLCJwbmdEYXRhIiwibW9kIiwic2FtcGxlV3JhcHBlciIsIl9fbmFtZV9fIiwiUElMIiwiSW5zdGFudFByb21pc2UiLCJsYXN0UmVzdWx0IiwibGFzdEVycm9yIiwiY2IiLCJidWlsZEltYWdlIiwiZ2V0QXNzZXQiLCJjcm9zc09yaWdpbiIsIm9uZXJyb3IiLCJzcmMiLCIkZ2JsIiwiJGxvYyIsIl9faW5pdF9fIiwiZnVuYyIsImZpbGVfb3JfdXJsIiwicHlDaGVja0FyZ3MiLCJweUNoZWNrVHlwZSIsImNoZWNrU3RyaW5nIiwiaW1hZ2VQcm9taXNlIiwic3VzcCIsIlN1c3BlbnNpb24iLCJub25lIiwibm9uZSQiLCJyZXN1bWUiLCJwcm9taXNlIiwiZHJhd0ltYWdlIiwicGl4ZWxzIiwiZ2V0SW1hZ2VEYXRhIiwiTmFtZUVycm9yIiwiY29uc29sZURhdGEiLCJwcmludFBJTEltYWdlIiwiZmxpcCIsInN0eWxlIiwidHJhbnNmb3JtIiwiYnVpbGRDbGFzcyIsInByaW9yIiwidGltZWl0IiwiZGlmZmVyZW5jZSIsImNvbnNvbGVfbG9nIiwiY29uc29sZV9kZWJ1ZyIsImdldF9vdXRwdXQiLCJpdGVtIiwidG9Ta3VscHQiLCJsaXN0IiwicmVzZXRfb3V0cHV0IiwiZ2V0X3Byb2dyYW0iLCJnZXRfZXZhbHVhdGlvbiIsInRyYWNlX2xpbmVzIiwicmVhbExpbmVzIiwiZ2V0X3N0dWRlbnRfZXJyb3IiLCJ0dXBsZSIsImhhZF9leGVjdXRpb25fdGltZV9lcnJvciIsImJhY2t1cFRpbWUiLCJsaW1pdF9leGVjdXRpb25fdGltZSIsImV4ZWNTdGFydCIsInVubGltaXRfZXhlY3V0aW9uX3RpbWUiLCJzdXBwcmVzc19zY3JvbGxpbmciLCJnZXRfcGxvdHMiLCJvdXRwdXRzIiwiZ3JhcGgiLCJwbG90IiwibmV3UGxvdCIsInYiLCJ5IiwiU3R1ZGVudERhdGEiLCJuZXdEaWN0IiwiZGljdCIsImFic3RyIiwic2F0dHIiLCJvYmplY3RTZXRJdGVtIiwidW5maXhSZXNlcnZlZCIsImNhbGxfZiIsImt3YSIsInB5Q2hlY2tBcmdzTGVuIiwiY2FsbCIsImt3YXJncyIsImJ1aWx0aW5zIiwiZnVuY3Rpb25OYW1lIiwibXAkbG9va3VwIiwiZnVuY3Rpb25PYmplY3QiLCJ0cCRjYWxsIiwiY29fa3dhcmdzIiwiY29fbmFtZSIsImdldF9uYW1lc19ieV90eXBlIiwiZXhjbHVkZV9idWlsdGlucyIsImNoZWNrQm9vbCIsInByb3BlcnR5IiwiZ2V0X3ZhbHVlc19ieV90eXBlIiwiY2FsbHNpbU9yU3VzcGVuZCIsImdldF9zdHVkZW50X2RhdGEiLCJzZXRfaW5zdHJ1Y3Rpb25zIiwibmV3SW5zdHJ1Y3Rpb25zIiwiZ2V0X21vZGVsX2luZm8iLCJMT0NBTF9TVE9SQUdFX1JFRiIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiX2RhdGEiLCJTdHJpbmciLCJnZXRJdGVtIiwiaXNfbmV3Iiwic2VydmVyX3RpbWUiLCJzdG9yZWRfdGltZSIsIklHTk9SRURfR0xPQkFMUyIsInZhcmlhYmxlcyIsInBhcnNlZCIsInBhcnNlVmFsdWUiLCJmdWxsTGVuZ3RoIiwiZnVuY19jb2RlIiwiY29fdmFybmFtZXMiLCJzcSRsZW5ndGgiLCJib29sIiwibm1iZXIiLCJza1R5cGUiLCJpbnRfIiwiZmxvYXRfIiwiTnVtYmVyIiwiYXJyYXlDb250YWlucyIsIm5lZWRsZSIsImhheXN0YWNrIiwiYXJyYXlVbmlxdWUiLCJhIiwiY29uY2F0IiwiaiIsImV4cGFuZEFycmF5IiwiYWRkQXJyYXkiLCJyZW1vdmVBcnJheSIsImNvcHlBcnJheSIsImNsb25lTm9kZSIsImNsb25lIiwibm9kZVR5cGUiLCJjcmVhdGVUZXh0Tm9kZSIsIm5vZGVWYWx1ZSIsImNoaWxkIiwiZmlyc3RDaGlsZCIsIm5leHRTaWJsaW5nIiwicyIsInJhbmRvbUludGVnZXIiLCJmbG9vciIsInJhbmRvbSIsIldvcmtzcGFjZVN2ZyIsInNodWZmbGUiLCJtZXRyaWNzIiwiZ2V0TWV0cmljcyIsInZpZXdXaWR0aCIsInZpZXdIZWlnaHQiLCJibG9ja3MiLCJnZXRUb3BCbG9ja3MiLCJtYXhpbWFsX2luY3JlYXNlIiwiZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSIsIm1vdmVCeSIsIm1vdmVFbGVtZW50cyIsIm1vdmVDaGVjayIsImlzU2tCdWlsdGluIiwib2JqIiwibG5nIiwiaXNBc3ROb2RlIiwibWl4ZWRSZW1hcFRvUHkiLCJrIiwia3ZzIiwiYXJyIiwic3VidmFsIiwi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QUFDLE1BQU0sSUFBSSxPQUFPQSxHQUFHLEtBQUssU0FBUyxFQUFFO0lBQ2pDLE9BQU8sSUFBSTc0QixFQUFFLENBQUNrYyxPQUFPLENBQUNnYSxJQUFJLENBQUMyQyxHQUFHLENBQUM7RUFDbkMsQ0FBQyxNQUFNLElBQUcsT0FBT0EsR0FBRyxLQUFLLFVBQVUsRUFBRTtJQUNqQyxPQUFPLElBQUk3NEIsRUFBRSxDQUFDa2MsT0FBTyxDQUFDMkIsR0FBRyxDQUFDZ2IsR0FBRyxDQUFDenFDLElBQUksQ0FBQztFQUN2QztBQUNKLEM7Ozs7Ozs7Ozs7O0FDblFBLG9EOzs7Ozs7Ozs7OztBQ0FBLHNEIiwiZmlsZSI6ImJsb2NrcHkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJqUXVlcnlcIiksIHJlcXVpcmUoXCJrb1wiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcImJsb2NrcHlcIiwgW1wialF1ZXJ5XCIsIFwia29cIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiYmxvY2tweVwiXSA9IGZhY3RvcnkocmVxdWlyZShcImpRdWVyeVwiKSwgcmVxdWlyZShcImtvXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJibG9ja3B5XCJdID0gZmFjdG9yeShyb290W1wialF1ZXJ5XCJdLCByb290W1wia29cIl0pO1xufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfanF1ZXJ5X18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfa25vY2tvdXRfXykge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL2Jsb2NrcHkuanNcIik7XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgU3RhcnRpbmcgcG9pbnQgb2YgdGhlIEJsb2NrUHkgYXBwbGljYXRpb24sIGNvbnRhaW5pbmcgdGhlIG1haW5cbiAqIEJsb2NrUHkgY2xhc3MuXG4gKi9cbmltcG9ydCBcIi4vY3NzL2Jsb2NrcHkuY3NzXCI7XG5pbXBvcnQgXCIuL2Nzcy9ib290c3RyYXBfcmV0aGVtZS5jc3NcIjtcbmltcG9ydCAkIGZyb20gXCJqcXVlcnlcIjtcbmltcG9ydCB7JGJ1aWx0aW5tb2R1bGV9IGZyb20gXCJza3VscHRfbW9kdWxlcy9pbWFnZVwiO1xuaW1wb3J0IHtMb2NhbFN0b3JhZ2VXcmFwcGVyfSBmcm9tIFwic3RvcmFnZS5qc1wiO1xuaW1wb3J0IHtFZGl0b3JzRW51bX0gZnJvbSBcImVkaXRvcnMuanNcIjtcbmltcG9ydCB7RGlzcGxheU1vZGVzfSBmcm9tIFwiZWRpdG9yL3B5dGhvbi5qc1wiO1xuaW1wb3J0IHtTdGF0dXNTdGF0ZX0gZnJvbSBcInNlcnZlci5qc1wiO1xuaW1wb3J0IHttYWtlSW50ZXJmYWNlLCBtYWtlRXh0cmFJbnRlcmZhY2VTdWJzY3JpcHRpb25zLCBTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnN9IGZyb20gXCJpbnRlcmZhY2UuanNcIjtcbmltcG9ydCB7RWRpdG9yc30gZnJvbSBcImVkaXRvcnMuanNcIjtcbmltcG9ydCB7XG4gICAgQmxvY2tQeUZpbGVTeXN0ZW0sXG4gICAgbG9hZENvbmNhdGVuYXRlZEZpbGUsXG4gICAgbWFrZU1vZGVsRmlsZSxcbiAgICBvYnNlcnZlQ29uY2F0ZW5hdGVkRmlsZSxcbiAgICBVTkRFTEVUQUJMRV9GSUxFUyxcbiAgICBVTlJFTkFNQUJMRV9GSUxFU1xufSBmcm9tIFwiLi9maWxlc1wiO1xuaW1wb3J0IHt1cGxvYWRGaWxlLCBkb3dubG9hZEZpbGV9IGZyb20gXCIuL2VkaXRvci9hYnN0cmFjdF9lZGl0b3JcIjtcbmltcG9ydCB7QmxvY2tQeUVuZ2luZX0gZnJvbSBcImVuZ2luZS5qc1wiO1xuaW1wb3J0IHtCbG9ja1B5VHJhY2V9IGZyb20gXCIuL3RyYWNlXCI7XG5pbXBvcnQge0Jsb2NrUHlDb25zb2xlfSBmcm9tIFwiLi9jb25zb2xlXCI7XG5pbXBvcnQge0Jsb2NrUHlGZWVkYmFja30gZnJvbSBcImZlZWRiYWNrLmpzXCI7XG5pbXBvcnQge0Jsb2NrUHlTZXJ2ZXJ9IGZyb20gXCIuL3NlcnZlclwiO1xuaW1wb3J0IHtCbG9ja1B5RGlhbG9nfSBmcm9tIFwiLi9kaWFsb2dcIjtcbmltcG9ydCB7bG9hZEFzc2lnbm1lbnRTZXR0aW5ncywgbWFrZUFzc2lnbm1lbnRTZXR0aW5nc01vZGVsfSBmcm9tIFwiLi9lZGl0b3IvYXNzaWdubWVudF9zZXR0aW5nc1wiO1xuaW1wb3J0IHtCbG9ja1B5Q29yZ2lzLCBfSU1QT1JURURfQ09NUExFVEVfREFUQVNFVFMsIF9JTVBPUlRFRF9EQVRBU0VUU30gZnJvbSBcIi4vY29yZ2lzXCI7XG5pbXBvcnQge0Jsb2NrUHlIaXN0b3J5fSBmcm9tIFwiLi9oaXN0b3J5XCI7XG5pbXBvcnQge2NhcGl0YWxpemV9IGZyb20gXCIuL3V0aWxpdGllc1wiO1xuXG5leHBvcnQge19JTVBPUlRFRF9DT01QTEVURV9EQVRBU0VUUywgX0lNUE9SVEVEX0RBVEFTRVRTfTtcblxuLyoqXG4gKiBNYWpvciBlbnRyeSBwb2ludCBmb3IgY3JlYXRpbmcgYSBCbG9ja1B5IGluc3RhbmNlLlxuICogVHdvIG1vc3QgaW1wb3J0YW50IGZpZWxkcyBhcmUgYG1vZGVsYCBhbmQgYGNvbXBvbmVudHNgLlxuICogVGhlIGBtb2RlbGAgaG9sZHMgYWxsIHRoZSBkYXRhIGFib3V0IHRoZSBpbnRlcmZhY2UuXG4gKiBUaGUgYGNvbXBvbmVudHNgIGFyZSByZWZlcmVuY2VzIHRvIHRoZSBkaXNwYXJhdGUgcGFydHMgb2YgQmxvY2tQeS5cbiAqXG4gKiBNb3N0IG9mIHRoaXMgY2xhc3NlcyBkZWZpbml0aW9uIGlzIGp1c3QgaW5pdGlhbGl6aW5nIHRoZSBtb2RlbCBhbmQgdXBkYXRpbmdcbiAqIGl0IG9uIGFuIGFzc2lnbm1lbnQgc3dpdGNoLlxuICovXG5leHBvcnQgY2xhc3MgQmxvY2tQeSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ3VyYXRpb24gLSBVc2VyIGxldmVsIHNldHRpbmdzIChlLmcuLCB3aGF0IGVkaXRvciBtb2RlLCB3aGV0aGVyIHRvIG11dGUgc2VtYW50aWMgZXJyb3JzLCBldGMuKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhc3NpZ25tZW50IC0gQXNzaWdubWVudCBsZXZlbCBzZXR0aW5ncyAoZGF0YSBhYm91dCB0aGUgbG9hZGVkIGFzc2lnbm1lbnQsIHVzZXIsIHN1Ym1pc3Npb24sIGV0Yy4pXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN1Ym1pc3Npb24gLSBJbmNsdWRlcyB0aGUgc291cmNlIGNvZGUgb2YgYW55IHByb2dyYW1zIHRvIGJlIGxvYWRlZFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3VyYXRpb24sIGFzc2lnbm1lbnQsIHN1Ym1pc3Npb24pIHtcbiAgICAgICAgdGhpcy5pbml0TW9kZWwoY29uZmlndXJhdGlvbik7XG4gICAgICAgIGlmIChhc3NpZ25tZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QXNzaWdubWVudChjb25maWd1cmF0aW9uLCBhc3NpZ25tZW50LCBzdWJtaXNzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluaXRNYWluKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIEJsb2NrUHkgb2JqZWN0IGJ5IGluaXRpYWxpemluZyBpdHMgaW50ZXJmYWNlLFxuICAgICAqIG1vZGVsLCBhbmQgY29tcG9uZW50cy5cbiAgICAgKlxuICAgICAqL1xuICAgIGluaXRNYWluKCkge1xuICAgICAgICB0aGlzLmluaXRVdGlsaXRpZXMoKTtcbiAgICAgICAgdGhpcy5pbml0TW9kZWxNZXRob2RzKCk7XG4gICAgICAgIHRoaXMudHVybk9uSGFja3MoKTtcbiAgICAgICAgdGhpcy5pbml0SW50ZXJmYWNlKCk7XG4gICAgICAgIHRoaXMuYXBwbHlNb2RlbCgpO1xuICAgICAgICB0aGlzLmluaXRDb21wb25lbnRzKCk7XG4gICAgICAgIHRoaXMubWFrZUV4dHJhU3Vic2NyaXB0aW9ucygpO1xuICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIGRlZmF1bHQgdmFsdWUgb3JcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gdGhlIGtleSB0byBsb29rIHVwIGEgdmFsdWUgZm9yXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRWYWx1ZSAtIGlmIHRoZSBrZXkgaXMgbm90IGZvdW5kIGFueXdoZXJlLCB1c2UgdGhpcyB2YWx1ZVxuICAgICAqL1xuICAgIGdldFNldHRpbmcoa2V5LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgaWYgKGtleSBpbiB0aGlzLmluaXRpYWxDb25maWd1cmF0aW9uXykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5pdGlhbENvbmZpZ3VyYXRpb25fW2tleV07XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5sb2NhbFNldHRpbmdzXy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxTZXR0aW5nc18uZ2V0KGtleSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIG1vZGVsIHRvIGl0cyBkZWZhdWx0cy5cbiAgICAgKlxuICAgICAqIENhdGVnb3JpZXM6XG4gICAgICogICAqIHVzZXI6IHZhbHVlcyBmb3IgdGhlIGN1cnJlbnQgdXNlciAoc3RvcmVkIHRvIHNlcnZlcilcbiAgICAgKiAgICogYXNzaWdubWVudDogdmFsdWVzIGZvciB0aGUgY3VycmVudCBhc3NpZ25tZW50IChzdG9yZWQgdG8gc2VydmVyKVxuICAgICAqICAgKiBzdWJtaXNzaW9uOiB2YWx1ZXMgZm9yIHRoZSBjdXJyZW50IHN1Ym1pc3Npb24gKHN0b3JlZCB0byBzZXJ2ZXIpXG4gICAgICogICAqIGRpc3BsYXk6IGZsYWdzIHJlbGF0ZWQgdG8gY3VycmVudCB2aXNpYmlsaXR5IChzdG9yZWQgdG8gbG9jYWxTZXR0aW5ncylcbiAgICAgKiAgICogc3RhdHVzOiBtZXNzYWdlcyByZWxhdGVkIHRvIGN1cnJlbnQgc3RhdHVzIChub3Qgc3RvcmVkKVxuICAgICAqICAgKiBleGVjdXRpb246IHZhbHVlcyByZWxhdGVkIHRvIGxhc3QgcnVuIChub3Qgc3RvcmVkKVxuICAgICAqICAgKiBjb25maWd1cmF0aW9uOiBjb25zdGFudCB2YWx1ZXMgcmVsYXRlZCB0byBzZXR1cCAobm90IHN0b3JlZClcbiAgICAgKi9cbiAgICBpbml0TW9kZWwoY29uZmlndXJhdGlvbikge1xuICAgICAgICAvLyBDb25uZWN0IHRvIGxvY2FsIHN0b3JhZ2VcbiAgICAgICAgdGhpcy5sb2NhbFNldHRpbmdzXyA9IG5ldyBMb2NhbFN0b3JhZ2VXcmFwcGVyKFwibG9jYWxTZXR0aW5nc1wiKTtcbiAgICAgICAgdGhpcy5pbml0aWFsQ29uZmlndXJhdGlvbl8gPSBjb25maWd1cmF0aW9uO1xuXG4gICAgICAgIHRoaXMubW9kZWwgPSB7XG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICAgaWQ6IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcInVzZXIuaWRcIl0pLFxuICAgICAgICAgICAgICAgIG5hbWU6IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcInVzZXIubmFtZVwiXSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogV2hldGhlciB5b3UgYXJlIGFuIE93bmVyIChjYW4gbW9kaWZ5IHRoZSBhc3NpZ25tZW50KSwgR3JhZGVyIChjYW4gdmlld1xuICAgICAgICAgICAgICAgICAqIHRoZSBhc3NpZ25tZW50cycgaW5mb3JtYXRpb24pIG9yIFN0dWRlbnQgKGNhbiBub3Qgc2VlIGFueSBpbnN0cnVjdG9yIHN0dWZmKS5cbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7Ym9vbH1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICByb2xlOiBrby5vYnNlcnZhYmxlKHRoaXMuZ2V0U2V0dGluZyhcInVzZXIucm9sZVwiLCBcIm93bmVyXCIpKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDdXJyZW50IGNvdXJzZSBmb3IgdGhpcyB1c2VyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY291cnNlSWQ6IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcInVzZXIuY291cnNlX2lkXCJdKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDdXJyZW50IGFzc2lnbm1lbnQgZ3JvdXAgdGhhdCB0aGlzIHVzZXIgaXMgaW5zaWRlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZ3JvdXBJZDoga28ub2JzZXJ2YWJsZShjb25maWd1cmF0aW9uW1widXNlci5ncm91cF9pZFwiXSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3NpZ25tZW50OiB7XG4gICAgICAgICAgICAgICAgaWQ6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgbmFtZToga28ub2JzZXJ2YWJsZShcIlNjcmF0Y2ggQ2FudmFzXCIpLFxuICAgICAgICAgICAgICAgIGluc3RydWN0aW9uczoga28ub2JzZXJ2YWJsZShcIldlbGNvbWUgdG8gQmxvY2tQeS4gVHJ5IGVkaXRpbmcgYW5kIHJ1bm5pbmcgdGhlIGNvZGUgYmVsb3cuXCIpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRoZSBodW1hbi1mcmllbmRseSBVUkwgdG8gdXNlIGFzIGEgc2hvcnRjdXQgZm9yIHRoaXMgYXNzaWdubWVudFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHVybDoga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiB3YXJuaW5nIG1lc3NhZ2UgaWYgbWF6ZVxuICAgICAgICAgICAgICAgIHR5cGU6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgc3RhcnRpbmdDb2RlOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJhc3NpZ25tZW50LnN0YXJ0aW5nX2NvZGVcIl0gfHwgXCJcIiksXG4gICAgICAgICAgICAgICAgb25SdW46IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcImFzc2lnbm1lbnQub25fcnVuXCJdIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJhc3NpZ25tZW50Lm9uX2NoYW5nZVwiXSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgICBvbkV2YWw6IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcImFzc2lnbm1lbnQub25fZXZhbFwiXSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgICBleHRyYUluc3RydWN0b3JGaWxlczoga28ub2JzZXJ2YWJsZUFycmF5KFtdKSxcbiAgICAgICAgICAgICAgICBleHRyYVN0YXJ0aW5nRmlsZXM6IGtvLm9ic2VydmFibGVBcnJheShbXSksXG4gICAgICAgICAgICAgICAgZm9ya2VkSWQ6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgZm9ya2VkVmVyc2lvbjoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICBvd25lcklkOiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIGNvdXJzZUlkOiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgdGFnczoga28ub2JzZXJ2YWJsZUFycmF5KFtdKSxcbiAgICAgICAgICAgICAgICBzYW1wbGVTdWJtaXNzaW9uczoga28ub2JzZXJ2YWJsZUFycmF5KFtdKSxcbiAgICAgICAgICAgICAgICByZXZpZXdlZDoga28ub2JzZXJ2YWJsZShjb25maWd1cmF0aW9uW1wiYXNzaWdubWVudC5yZXZpZXdlZFwiXSksXG4gICAgICAgICAgICAgICAgcHVibGljOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJhc3NpZ25tZW50LnB1YmxpY1wiXSksXG4gICAgICAgICAgICAgICAgaGlkZGVuOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJhc3NpZ25tZW50LmhpZGRlblwiXSksXG4gICAgICAgICAgICAgICAgaXBSYW5nZXM6IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcImFzc2lnbm1lbnQuaXBfcmFuZ2VzXCJdKSxcbiAgICAgICAgICAgICAgICBzZXR0aW5nczogbWFrZUFzc2lnbm1lbnRTZXR0aW5nc01vZGVsKGNvbmZpZ3VyYXRpb24pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VibWlzc2lvbjoge1xuICAgICAgICAgICAgICAgIGlkOiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIGNvZGU6IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcInN1Ym1pc3Npb24uY29kZVwiXSB8fCBcIlwiKSxcbiAgICAgICAgICAgICAgICBleHRyYUZpbGVzOiBrby5vYnNlcnZhYmxlQXJyYXkoW10pLFxuICAgICAgICAgICAgICAgIHVybDoga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICBlbmRwb2ludDoga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICBzY29yZToga28ub2JzZXJ2YWJsZSgwKSxcbiAgICAgICAgICAgICAgICBjb3JyZWN0OiBrby5vYnNlcnZhYmxlKGZhbHNlKSxcbiAgICAgICAgICAgICAgICAvLyBhc3NpZ25tZW50SWQgaW5mZXJyZWQgZnJvbSBhc3NpZ25tZW50LmlkXG4gICAgICAgICAgICAgICAgLy8gY291cnNlSWQgaW5mZXJyZWQgZnJvbSB1c2VyLmNvdXJzZUlkXG4gICAgICAgICAgICAgICAgLy8gdXNlcklkIGluZmVycmVkIGZyb20gdXNlci5pZFxuICAgICAgICAgICAgICAgIC8vIGFzc2lnbm1lbnRWZXJzaW9uIGluZmVycmVkIGZyb20gYXNzaWdubWVudC52ZXJzaW9uXG4gICAgICAgICAgICAgICAgdmVyc2lvbjoga28ub2JzZXJ2YWJsZSgwKSxcbiAgICAgICAgICAgICAgICBzdWJtaXNzaW9uU3RhdHVzOiBrby5vYnNlcnZhYmxlKFwiU3RhcnRlZFwiKSxcbiAgICAgICAgICAgICAgICBncmFkaW5nU3RhdHVzOiBrby5vYnNlcnZhYmxlKFwiTm90UmVhZHlcIiksXG4gICAgICAgICAgICAgICAgb3duZXJJZDoga28ub2JzZXJ2YWJsZShudWxsKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDdXJyZW50bHkgdmlzaWJsZSBGaWxlLCBpZiBhcHBsaWNhYmxlXG4gICAgICAgICAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmaWxlbmFtZToga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBiZSBwcmVzZW50ZWQgd2l0aCB0aGUgaW5zdHJ1Y3RvciBzZXR0aW5ncyBhbmQgZmlsZXNcbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7Ym9vbH1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpbnN0cnVjdG9yOiBrby5vYnNlcnZhYmxlKHRoaXMuZ2V0U2V0dGluZyhcImRpc3BsYXkuaW5zdHJ1Y3RvclwiLCBcImZhbHNlXCIpLnRvU3RyaW5nKCk9PT1cInRydWVcIiksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogV2hldGhlciBvciBub3QgdG8gcHJldmVudCB0aGUgcHJpbnRlciBmcm9tIHNob3dpbmcgdGhpbmdzXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgbXV0ZVByaW50ZXI6IGtvLm9ic2VydmFibGUoZmFsc2UpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIChQeXRob24gVmlld3MpIFRoZSBjdXJyZW50IGVkaXRvciBtb2RlLlxuICAgICAgICAgICAgICAgICAqIEB0eXBlIHtEaXNwbGF5TW9kZXN9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcHl0aG9uTW9kZToga28ub2JzZXJ2YWJsZSh0aGlzLmdldFNldHRpbmcoXCJkaXNwbGF5LnB5dGhvbi5tb2RlXCIsIERpc3BsYXlNb2Rlcy5TUExJVCkpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoZXRoZXIgb3Igbm90IEhpc3RvcnkgbW9kZSBpcyBlbmdhZ2VkLlxuICAgICAgICAgICAgICAgICAqIEB0eXBlIHtib29sfVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGhpc3RvcnlNb2RlOiBrby5vYnNlcnZhYmxlKGZhbHNlKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBiZSBhdXRvLXNhdmluZyBjaGFuZ2VzIGluIFB5dGhvbiBlZGl0b3JcbiAgICAgICAgICAgICAgICAgKiBJZiBhbiBpbnRlZ2VyLCBzcGVjaWZpZXMgdGhlIGRlbGF5IHRoYXQgc2hvdWxkIGJlIHVzZWQgKG1pY3Jvc2Vjb25kcykuXG4gICAgICAgICAgICAgICAgICogVGhpcyBpcyBuZXZlciBvbiBpbiBub24tUHl0aG9uIGVkaXRvcnMuXG4gICAgICAgICAgICAgICAgICogQHR5cGUge2Jvb2x8aW50fVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGF1dG9TYXZlOiBrby5vYnNlcnZhYmxlKHRydWUpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSBjb25zb2xlIGlzIGZ1bGwgd2lkdGggYW5kIGZlZWRiYWNrIGlzIGhpZGRlblxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGJpZ0NvbnNvbGU6IGtvLm9ic2VydmFibGUoZmFsc2UpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRoZSBoZWlnaHQgdG8gdXNlIGZvciB0aGUgY29uc29sZS5cbiAgICAgICAgICAgICAgICAgKiAgICBJZiBudWxsLCB0aGVuIGxldCB0aGUgaGVpZ2h0IHJlbWFpbiB1bmNoYW5nZWRcbiAgICAgICAgICAgICAgICAgKiAgICBJZiBhIG51bWJlciwgdGhlbiB0aGVcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBwcmV2aW91c0NvbnNvbGVIZWlnaHQ6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgY3VycmVudENvbnNvbGVIZWlnaHQ6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogV2hpY2ggcGFuZWwgdG8gc2hvdyBpbiB0aGUgc2Vjb25kIHJvdydzIHNlY29uZCBjb2x1bW5cbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7U2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zfVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHNlY29uZFJvd1NlY29uZFBhbmVsOiBrby5vYnNlcnZhYmxlKFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucy5GRUVEQkFDSyksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogV2hldGhlciBvciBub3QgdG8gYmUgdHJhY2luZyB0aGUgY29kZSByaWdodCBub3dcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB0cmFjZUV4ZWN1dGlvbjoga28ub2JzZXJ2YWJsZShmYWxzZSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGhlIGxpc3Qgb2YgcHJvbWlzZXMgdG8gc3RpbGwgcmVzb2x2ZSB3aGlsZSBsb2FkaW5nIGRhdGFzZXRzXG4gICAgICAgICAgICAgICAgICogQHR5cGUge0FycmF5PFByb21pc2U+fVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGxvYWRpbmdEYXRhc2V0czoga28ub2JzZXJ2YWJsZUFycmF5KFtdKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUaGUgdGVtcG9yYXJ5IGNoYW5nZWQgdmFsdWUgb2YgdGhlIGluc3RydWN0aW9ucyBoYXZlIGJlZW4gY2hhbmdlZCBmcm9tIHdoYXQgaXMgaW4gdGhlIGFzc2lnbm1lbnRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjaGFuZ2VkSW5zdHJ1Y3Rpb25zOiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEEgaG9sZGVyIGZvciB0aGUgdGltZXIgdG8gdHJpZ2dlciBvbi1jaGFuZ2VzXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdHJpZ2dlck9uQ2hhbmdlOiBudWxsLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoZXRoZXIgdGhlIGN1cnJlbnQgZmVlZGJhY2sgYW5kIG91dHB1dCBjb3JyZXNwb25kcyB0byB0aGUgY3VycmVudCBzdWJtaXNzaW9uLlxuICAgICAgICAgICAgICAgICAqIFRoaXMgd291bGQgYmUgZmFsc2UgaWYgdGhlcmUgaXMgbm8gZmVlZGJhY2svb3V0cHV0IChpLmUuLCBjb2RlIGhhcyBub3QgYmVlbiBydW4pLFxuICAgICAgICAgICAgICAgICAqIG9yIGlmIHRoZSB1c2VyIGhhcyBtb2RpZmllZCB0aGUgc3VibWlzc2lvbiBhZnRlciB0aGUgbGFzdCBydW4gKGUuZy4sIGJ5IGVkaXRpbmdcbiAgICAgICAgICAgICAgICAgKiB0aGUgdGV4dCkuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZGlydHlTdWJtaXNzaW9uOiBrby5vYnNlcnZhYmxlKHRydWUpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqICBXaGV0aGVyIG9yIG5vdCB0byBtYWtlIHRoZSBCbG9ja1B5IGVsZW1lbnQgaW4gRlVMTCBTQ1JFRU4gbW9kZS4gU2FkbHksIG5vdCBmdWxsc2NyZWVuXG4gICAgICAgICAgICAgICAgICogIHdpdGhpbiB0aGUgd2luZG93LCBidXQgRlVMTCBTQ1JFRU4uIFZlcnkgYWdncmVzc2l2ZS5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdWxsc2NyZWVuOiBrby5vYnNlcnZhYmxlKGZhbHNlKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBVc2VyLXN1cHBsaWVkIHBhc3Njb2RlIHRvIGNvbXBhcmUgb24gdGhlIHNlcnZlciBhZ2FpbnN0IHRoZSBjdXJyZW50IHBhc3Njb2RlLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHBhc3Njb2RlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGNsZWFyIG91dCBpbnB1dHMgYWZ0ZXIgYSBydW4vb25fcnVuIGN5Y2xlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY2xlYXJJbnB1dHM6IGtvLm9ic2VydmFibGUodHJ1ZSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIGxvYWRBc3NpZ25tZW50OiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgICAgICBsb2FkQXNzaWdubWVudE1lc3NhZ2U6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgLy8gQHR5cGUge1NlcnZlclN0YXR1c31cbiAgICAgICAgICAgICAgICBsb2FkSGlzdG9yeToga28ub2JzZXJ2YWJsZShTdGF0dXNTdGF0ZS5SRUFEWSksXG4gICAgICAgICAgICAgICAgbG9hZEhpc3RvcnlNZXNzYWdlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8vIEB0eXBlIHtTZXJ2ZXJTdGF0dXN9XG4gICAgICAgICAgICAgICAgbG9hZEZpbGU6IGtvLm9ic2VydmFibGUoU3RhdHVzU3RhdGUuUkVBRFkpLFxuICAgICAgICAgICAgICAgIGxvYWRGaWxlTWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIGxvYWREYXRhc2V0OiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgICAgICBsb2FkRGF0YXNldE1lc3NhZ2U6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgLy8gQHR5cGUge1NlcnZlclN0YXR1c31cbiAgICAgICAgICAgICAgICBsb2dFdmVudDoga28ub2JzZXJ2YWJsZShTdGF0dXNTdGF0ZS5SRUFEWSksXG4gICAgICAgICAgICAgICAgbG9nRXZlbnRNZXNzYWdlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8vIEB0eXBlIHtTZXJ2ZXJTdGF0dXN9XG4gICAgICAgICAgICAgICAgc2F2ZUltYWdlOiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgICAgICBzYXZlSW1hZ2VNZXNzYWdlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8vIEB0eXBlIHtTZXJ2ZXJTdGF0dXN9XG4gICAgICAgICAgICAgICAgc2F2ZUZpbGU6IGtvLm9ic2VydmFibGUoU3RhdHVzU3RhdGUuUkVBRFkpLFxuICAgICAgICAgICAgICAgIHNhdmVGaWxlTWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIHNhdmVBc3NpZ25tZW50OiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgICAgICBzYXZlQXNzaWdubWVudE1lc3NhZ2U6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgLy8gQHR5cGUge1NlcnZlclN0YXR1c31cbiAgICAgICAgICAgICAgICB1cGRhdGVTdWJtaXNzaW9uOiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgICAgICB1cGRhdGVTdWJtaXNzaW9uTWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIHVwZGF0ZVN1Ym1pc3Npb25TdGF0dXM6IGtvLm9ic2VydmFibGUoU3RhdHVzU3RhdGUuUkVBRFkpLFxuICAgICAgICAgICAgICAgIHVwZGF0ZVN1Ym1pc3Npb25TdGF0dXNNZXNzYWdlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8vIEB0eXBlIHtTZXJ2ZXJTdGF0dXN9XG4gICAgICAgICAgICAgICAgb25FeGVjdXRpb246IGtvLm9ic2VydmFibGUoU3RhdHVzU3RhdGUuUkVBRFkpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4ZWN1dGlvbjoge1xuICAgICAgICAgICAgICAgIC8vIEluZm9ybWF0aW9uIGFib3V0IGluLXByb2dyZXNzIGV4ZWN1dGlvbnNcbiAgICAgICAgICAgICAgICByZXBvcnRzOiB7fSxcbiAgICAgICAgICAgICAgICAvLyBsaXN0IG9mIE91dHB1dCBvYmplY3RzXG4gICAgICAgICAgICAgICAgb3V0cHV0OiBrby5vYnNlcnZhYmxlQXJyYXkoW10pLFxuICAgICAgICAgICAgICAgIC8vIExpc3Qgb2YgaW5wdXR0ZWQgc3RyaW5nc1xuICAgICAgICAgICAgICAgIGlucHV0OiBrby5vYnNlcnZhYmxlQXJyYXkoW10pLFxuICAgICAgICAgICAgICAgIGlucHV0SW5kZXg6IGtvLm9ic2VydmFibGUoMCksXG4gICAgICAgICAgICAgICAgLy8gSW5mb3JtYXRpb24gcmVsYXRlZCB0byBhIHN0dWRlbnQgcnVuXG4gICAgICAgICAgICAgICAgc3R1ZGVudDoge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdHI6IHRoZSBmaWxlbmFtZSB0aGF0IHdhcyBsYXN0IGV4ZWN1dGVkIGFuZCBpcyBhc3NvY2lhdGVkIHdpdGggdGhlc2UgcmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZToga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50ZWdlclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RlcDoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50ZWdlclxuICAgICAgICAgICAgICAgICAgICBsYXN0U3RlcDoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50ZWdlclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TGluZToga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgbGFzdExpbmU6IGtvLm9ic2VydmFibGUoMCksXG4gICAgICAgICAgICAgICAgICAgIC8vIGFycmF5IG9mIHNpbXBsZSBvYmplY3RzXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUcmFjZURhdGE6IGtvLm9ic2VydmFibGVBcnJheShbXSksXG4gICAgICAgICAgICAgICAgICAgIC8vIGludGVnZXJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRyYWNlU3RlcDoga28ub2JzZXJ2YWJsZSgwKSxcbiAgICAgICAgICAgICAgICAgICAgLy8gQWN0dWFsIGV4ZWN1dGlvbiByZXN1bHRzXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbHM6IGtvLm9ic2VydmFibGUobnVsbClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluc3RydWN0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgc3lzbW9kdWxlczogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBJbmZvcm1hdGlvbiByZWxhdGVkIHRvIGZlZWRiYWNrIGZyb20gdGhlIGluc3RydWN0b3IgcnVuXG4gICAgICAgICAgICAgICAgZmVlZGJhY2s6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RyIChtYXJrZG93bilcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlJlYWR5XCIpLFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeToga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgICAgIGhpZGRlbjoga28ub2JzZXJ2YWJsZShmYWxzZSksXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzRXJyb3I6IGtvLm9ic2VydmFibGVBcnJheShbXSksXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzVW5jb3ZlcmVkOiBrby5vYnNlcnZhYmxlQXJyYXkoW10pLFxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgcmVzdWx0cyBvZiB0aGUgbGFzdCBleGVjdXRpb25cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogbnVsbCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb246IHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBGdW5jdGlvbnMgdG8gZmlyZSB3aGVuIGNlcnRhaW4gZXZlbnRzIG9jY3VyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBXaGVuIHRoZSBzdHVkZW50IGdldHMgYSBzdWNjZXNzXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogdGhpcy5pbml0aWFsQ29uZmlndXJhdGlvbl9bXCJjYWxsYmFjay5zdWNjZXNzXCJdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogV2hldGhlciBvciBub3QgdGhlIHNlcnZlciBpcyBjb25uZWN0ZWQuXG4gICAgICAgICAgICAgICAgICogQHR5cGUge2Jvb2x9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgc2VydmVyQ29ubmVjdGVkOiBrby5vYnNlcnZhYmxlKHRoaXMuZ2V0U2V0dGluZyhcInNlcnZlci5jb25uZWN0ZWRcIiwgdHJ1ZSkpLFxuICAgICAgICAgICAgICAgIC8vIHN0cmluZ1xuICAgICAgICAgICAgICAgIGJsb2NrbHlQYXRoOiB0aGlzLmluaXRpYWxDb25maWd1cmF0aW9uX1tcImJsb2NrbHkucGF0aFwiXSxcbiAgICAgICAgICAgICAgICAvLyBzdHJpbmdcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50UG9pbnQ6IHRoaXMuaW5pdGlhbENvbmZpZ3VyYXRpb25fW1wiYXR0YWNobWVudC5wb2ludFwiXSxcbiAgICAgICAgICAgICAgICAvLyBKUXVlcnkgb2JqZWN0XG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiBudWxsLFxuICAgICAgICAgICAgICAgIC8vIE1hcHMgY29kZXMgKCdsb2dfZXZlbnQnLCAnc2F2ZV9jb2RlJykgdG8gVVJMc1xuICAgICAgICAgICAgICAgIHVybHM6IHRoaXMuaW5pdGlhbENvbmZpZ3VyYXRpb25fW1widXJsc1wiXSB8fCB7fVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBpbnRlcmZhY2VcbiAgICAgKi9cbiAgICBpbml0SW50ZXJmYWNlKCkge1xuICAgICAgICBsZXQgY29uc3RhbnRzID0gdGhpcy5tb2RlbC5jb25maWd1cmF0aW9uO1xuICAgICAgICBsZXQgZ3VpID0gbWFrZUludGVyZmFjZSh0aGlzKTtcbiAgICAgICAgY29uc3RhbnRzLmNvbnRhaW5lciA9ICQoY29uc3RhbnRzLmF0dGFjaG1lbnRQb2ludCkuaHRtbCgkKGd1aSkpO1xuICAgIH07XG5cbiAgICBsb2FkQXNzaWdubWVudChhc3NpZ25tZW50X2lkKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXJ2ZXIubG9hZEFzc2lnbm1lbnQoYXNzaWdubWVudF9pZCk7XG4gICAgfVxuXG4gICAgbG9hZFRhZ3ModGFncykge1xuICAgICAgICAvLyBBbHJlYWR5IGEgSlNPTiBsaXN0IHJlcHJlc2VudGluZyB0YWdzXG4gICAgfVxuXG4gICAgbG9hZFNhbXBsZVN1Ym1pc3Npb25zKHNhbXBsZXMpIHtcbiAgICAgICAgLy8gQWxyZWFkeSBhIEpTT04gbGlzdCByZXByZXNlbnRpbmcgc2FtcGxlc1xuICAgIH1cblxuICAgIGxvYWROb1N1Ym1pc3Npb24oYXNzaWdubWVudCkge1xuICAgICAgICB0aGlzLm1vZGVsLnN1Ym1pc3Npb24uY29kZShhc3NpZ25tZW50LnN0YXJ0aW5nX2NvZGUpO1xuICAgICAgICBsb2FkQ29uY2F0ZW5hdGVkRmlsZShhc3NpZ25tZW50LmV4dHJhX3N0YXJ0aW5nX2ZpbGVzLCB0aGlzLm1vZGVsLnN1Ym1pc3Npb24uZXh0cmFGaWxlcyk7XG4gICAgfVxuXG4gICAgbG9hZFN1Ym1pc3Npb24oc3VibWlzc2lvbiwgYXNzaWdubWVudCkge1xuICAgICAgICBpZiAoIXN1Ym1pc3Npb24pIHtcbiAgICAgICAgICAgIC8vIFRPRE86IFNjYXJpZXIgXCJZb3UgYXJlIG5vdCBsb2dnZWQgaW4gbWVzc2FnZVwiXG4gICAgICAgICAgICB0aGlzLmxvYWROb1N1Ym1pc3Npb24oYXNzaWdubWVudCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogV2hhdCBpZiBzdWJtaXNzaW9ucycgYXNzaWdubWVudCB2ZXJzaW9uIGFuZCB0aGUgYXNzaWdubWVudHMnIHZlcnNpb24gY29uZmxpY3Q/XG4gICAgICAgIHRoaXMubW9kZWwuc3VibWlzc2lvbi5pZChzdWJtaXNzaW9uLmlkKTtcbiAgICAgICAgdGhpcy5tb2RlbC5zdWJtaXNzaW9uLmNvZGUoc3VibWlzc2lvbi5jb2RlKTtcbiAgICAgICAgdGhpcy5tb2RlbC5zdWJtaXNzaW9uLmNvcnJlY3Qoc3VibWlzc2lvbi5jb3JyZWN0KTtcbiAgICAgICAgdGhpcy5tb2RlbC5zdWJtaXNzaW9uLnNjb3JlKHN1Ym1pc3Npb24uc2NvcmUpO1xuICAgICAgICB0aGlzLm1vZGVsLnN1Ym1pc3Npb24uZW5kcG9pbnQoc3VibWlzc2lvbi5lbmRwb2ludCk7XG4gICAgICAgIHRoaXMubW9kZWwuc3VibWlzc2lvbi51cmwoc3VibWlzc2lvbi51cmwpO1xuICAgICAgICB0aGlzLm1vZGVsLnN1Ym1pc3Npb24udmVyc2lvbihzdWJtaXNzaW9uLnZlcnNpb24pO1xuICAgICAgICB0aGlzLm1vZGVsLnN1Ym1pc3Npb24uZ3JhZGluZ1N0YXR1cyhzdWJtaXNzaW9uLmdyYWRpbmdfc3RhdHVzKTtcbiAgICAgICAgdGhpcy5tb2RlbC5zdWJtaXNzaW9uLnN1Ym1pc3Npb25TdGF0dXMoc3VibWlzc2lvbi5zdWJtaXNzaW9uX3N0YXR1cyk7XG4gICAgICAgIHRoaXMubW9kZWwuc3VibWlzc2lvbi5vd25lcklkKHN1Ym1pc3Npb24udXNlcl9pZCk7XG4gICAgICAgIHRoaXMubW9kZWwudXNlci5jb3Vyc2VJZChzdWJtaXNzaW9uLmNvdXJzZV9pZCk7XG4gICAgICAgIGxvYWRDb25jYXRlbmF0ZWRGaWxlKHN1Ym1pc3Npb24uZXh0cmFfZmlsZXMsIHRoaXMubW9kZWwuc3VibWlzc2lvbi5leHRyYUZpbGVzKTtcbiAgICB9XG5cbiAgICBsb2FkQXNzaWdubWVudERhdGFfKGRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgIHRoaXMucmVzZXRJbnRlcmZhY2UoKTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRzLmZpbGVTeXN0ZW0uZGlzbW91bnRFeHRyYUZpbGVzKCk7XG4gICAgICAgIGxldCB3YXNTZXJ2ZXJDb25uZWN0ZWQgPSB0aGlzLm1vZGVsLmNvbmZpZ3VyYXRpb24uc2VydmVyQ29ubmVjdGVkKCk7XG4gICAgICAgIHRoaXMubW9kZWwuY29uZmlndXJhdGlvbi5zZXJ2ZXJDb25uZWN0ZWQoZmFsc2UpO1xuICAgICAgICBsZXQgYXNzaWdubWVudCA9IGRhdGEuYXNzaWdubWVudDtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50LmlkKGFzc2lnbm1lbnQuaWQpO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQudmVyc2lvbihhc3NpZ25tZW50LnZlcnNpb24pO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQuY291cnNlSWQoYXNzaWdubWVudC5jb3Vyc2VfaWQpO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQuZm9ya2VkSWQoYXNzaWdubWVudC5mb3JrZWRfaWQpO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQuZm9ya2VkVmVyc2lvbihhc3NpZ25tZW50LmZvcmtlZF92ZXJzaW9uKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50LmhpZGRlbihhc3NpZ25tZW50LmhpZGRlbik7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5yZXZpZXdlZChhc3NpZ25tZW50LnJldmlld2VkKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50LnB1YmxpYyhhc3NpZ25tZW50LnB1YmxpYyk7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC50eXBlKGFzc2lnbm1lbnQudHlwZSk7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC51cmwoYXNzaWdubWVudC51cmwpO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQuaXBSYW5nZXMoYXNzaWdubWVudC5pcF9yYW5nZXMpO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQuaW5zdHJ1Y3Rpb25zKGFzc2lnbm1lbnQuaW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50Lm5hbWUoYXNzaWdubWVudC5uYW1lKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50Lm9uQ2hhbmdlKGFzc2lnbm1lbnQub25fY2hhbmdlIHx8IG51bGwpO1xuICAgICAgICBpZiAoYXNzaWdubWVudC5vbl9jaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5maWxlU3lzdGVtLm5ld0ZpbGUoXCIhb25fY2hhbmdlLnB5XCIsIGFzc2lnbm1lbnQub25fY2hhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQub25FdmFsKGFzc2lnbm1lbnQub25fZXZhbCB8fCBudWxsKTtcbiAgICAgICAgaWYgKGFzc2lnbm1lbnQub25fZXZhbCkge1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLmZpbGVTeXN0ZW0ubmV3RmlsZShcIiFvbl9ldmFsLnB5XCIsIGFzc2lnbm1lbnQub25fZXZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50Lm9uUnVuKGFzc2lnbm1lbnQub25fcnVuKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50LnN0YXJ0aW5nQ29kZShhc3NpZ25tZW50LnN0YXJ0aW5nX2NvZGUpO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQub3duZXJJZChhc3NpZ25tZW50Lm93bmVyX2lkKTtcbiAgICAgICAgbG9hZEFzc2lnbm1lbnRTZXR0aW5ncyh0aGlzLm1vZGVsLCBhc3NpZ25tZW50LnNldHRpbmdzKTtcbiAgICAgICAgdGhpcy5sb2FkVGFncyhhc3NpZ25tZW50LnRhZ3MpO1xuICAgICAgICB0aGlzLmxvYWRTYW1wbGVTdWJtaXNzaW9ucyhhc3NpZ25tZW50LnNhbXBsZV9zdWJtaXNzaW9ucyk7XG4gICAgICAgIGxvYWRDb25jYXRlbmF0ZWRGaWxlKGFzc2lnbm1lbnQuZXh0cmFfaW5zdHJ1Y3Rvcl9maWxlcywgdGhpcy5tb2RlbC5hc3NpZ25tZW50LmV4dHJhSW5zdHJ1Y3RvckZpbGVzKTtcbiAgICAgICAgbG9hZENvbmNhdGVuYXRlZEZpbGUoYXNzaWdubWVudC5leHRyYV9zdGFydGluZ19maWxlcywgdGhpcy5tb2RlbC5hc3NpZ25tZW50LmV4dHJhU3RhcnRpbmdGaWxlcyk7XG4gICAgICAgIHRoaXMubG9hZFN1Ym1pc3Npb24oZGF0YS5zdWJtaXNzaW9uLCBhc3NpZ25tZW50KTtcbiAgICAgICAgdGhpcy5tb2RlbC5kaXNwbGF5LmRpcnR5U3VibWlzc2lvbih0cnVlKTtcbiAgICAgICAgdGhpcy5tb2RlbC5kaXNwbGF5LmNoYW5nZWRJbnN0cnVjdGlvbnMobnVsbCk7XG4gICAgICAgIHRoaXMubW9kZWwuY29uZmlndXJhdGlvbi5zZXJ2ZXJDb25uZWN0ZWQod2FzU2VydmVyQ29ubmVjdGVkKTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRzLmNvcmdpcy5sb2FkRGF0YXNldHModHJ1ZSk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5weXRob25FZGl0b3IuYm0ucmVmcmVzaCgpO1xuXG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXJ2ZXIuc2V0U3RhdHVzKFwic2F2ZUZpbGVcIiwgU3RhdHVzU3RhdGUuUkVBRFkpO1xuICAgIH1cblxuICAgIGluaXRNb2RlbE1ldGhvZHMoKSB7XG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgbGV0IG1vZGVsID0gdGhpcy5tb2RlbDtcbiAgICAgICAgbW9kZWwudWkgPSB7XG4gICAgICAgICAgICByb2xlOiB7XG4gICAgICAgICAgICAgICAgaXNHcmFkZXI6IGtvLnB1cmVDb21wdXRlZCgoKT0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnVzZXIucm9sZSgpID09PSBcIm93bmVyXCIgfHwgbW9kZWwudXNlci5yb2xlKCkgPT09IFwiZ3JhZGVyXCIpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiB7XG4gICAgICAgICAgICAgICAgaXNDaGFuZ2VkOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5jaGFuZ2VkSW5zdHJ1Y3Rpb25zKCkgIT09IG51bGxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC51aS5pbnN0cnVjdGlvbnMuaXNDaGFuZ2VkKCkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51dGlsaXRpZXMubWFya2Rvd24obW9kZWwuZGlzcGxheS5jaGFuZ2VkSW5zdHJ1Y3Rpb25zKCkpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXRpbGl0aWVzLm1hcmtkb3duKG1vZGVsLmFzc2lnbm1lbnQuaW5zdHJ1Y3Rpb25zKCkpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICByZXNldDogKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5jaGFuZ2VkSW5zdHJ1Y3Rpb25zKG51bGwpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWVudToge1xuICAgICAgICAgICAgICAgIHRleHRGdWxsc2NyZWVuOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgKG1vZGVsLmRpc3BsYXkuZnVsbHNjcmVlbigpKSA/IFwiZmEtY29tcHJlc3MtYXJyb3dzLWFsdFwiIDogXCJmYS1leHBhbmQtYXJyb3dzLWFsdFwiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBjbGlja0Z1bGxzY3JlZW46ICgpID0+e1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5LmZ1bGxzY3JlZW4oIW1vZGVsLmRpc3BsYXkuZnVsbHNjcmVlbigpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVkaXRJbnB1dHM6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLmRpYWxvZy5FRElUX0lOUFVUUygpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FuTWFya1N1Ym1pdHRlZDoga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmFzc2lnbm1lbnQuaGlkZGVuKCkgfHwgbW9kZWwuYXNzaWdubWVudC5yZXZpZXdlZCgpIHx8XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuY2FuQ2xvc2UoKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgdGV4dE1hcmtTdWJtaXR0ZWQ6IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC51aS5tZW51LmlzQ29tcGxldGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbC51c2VyLmdyb3VwSWQoKSA/IFwiUHJvYmxlbSBjbG9zZWRcIiA6IFwiQXNzaWdubWVudCBjbG9zZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb2RlbC51aS5tZW51LmlzU3VibWl0dGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlJlb3BlbiBmb3IgZWRpdGluZ1wiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vZGVsLmRpc3BsYXkuZGlydHlTdWJtaXNzaW9uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlJ1blwiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtb2RlbC5hc3NpZ25tZW50LmhpZGRlbigpICYmIG1vZGVsLnN1Ym1pc3Npb24uY29ycmVjdCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiU3VibWl0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlN1Ym1pdCBlYXJseVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgY2xpY2tNYXJrU3VibWl0dGVkOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC51aS5tZW51LmlzQ29tcGxldGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiWW91IGNhbm5vdCByZW9wZW4gY2xvc2VkIGFzc2lnbm1lbnRzLiBDb250YWN0IGEgZ3JhZGVyIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb2RlbC51aS5tZW51LmlzU3VibWl0dGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5zZXJ2ZXIudXBkYXRlU3VibWlzc2lvblN0YXR1cyhcImluUHJvZ3Jlc3NcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kZWwuZGlzcGxheS5kaXJ0eVN1Ym1pc3Npb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmVuZ2luZS5kZWxheWVkUnVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuc2VydmVyLnVwZGF0ZVN1Ym1pc3Npb25TdGF0dXMoXCJTdWJtaXR0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGlzU3VibWl0dGVkOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgKG1vZGVsLmFzc2lnbm1lbnQucmV2aWV3ZWQoKSB8fCBtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmNhbkNsb3NlKCkpICYmXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnN1Ym1pc3Npb24uc3VibWlzc2lvblN0YXR1cygpLnRvTG93ZXJDYXNlKCkgPT09IFwic3VibWl0dGVkXCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGlzQ29tcGxldGVkOiBrby5wdXJlQ29tcHV0ZWQoKCk9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdWJtaXNzaW9uLnN1Ym1pc3Npb25TdGF0dXMoKS50b0xvd2VyQ2FzZSgpID09PSBcImNvbXBsZXRlZFwiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBzaG93UXVldWVkSW5wdXRzOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgIW1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuaGlkZVF1ZXVlZElucHV0cygpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlY29uZFJvdzoge1xuICAgICAgICAgICAgICAgIGlzQWxsVmlzaWJsZToga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgICFtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmhpZGVNaWRkbGVQYW5lbCgpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBpc0ZlZWRiYWNrVmlzaWJsZToga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuc2Vjb25kUm93U2Vjb25kUGFuZWwoKSA9PT0gU2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zLkZFRURCQUNLXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBpc1RyYWNlVmlzaWJsZToga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuc2Vjb25kUm93U2Vjb25kUGFuZWwoKSA9PT0gU2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zLlRSQUNFXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBpc0NvbnNvbGVTaG93VmlzaWJsZToga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnVpLnNlY29uZFJvdy5pc0ZlZWRiYWNrVmlzaWJsZSgpIHx8IG1vZGVsLnVpLnNlY29uZFJvdy5pc1RyYWNlVmlzaWJsZSgpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBzd2l0Y2hMYWJlbDoga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50Lmxhc3RTdGVwKCkgIT09IG51bGwgP1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJWaWV3IFRyYWNlXCIgOiBcIlwiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBhZHZhbmNlU3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRQYW5lbCA9IG1vZGVsLmRpc3BsYXkuc2Vjb25kUm93U2Vjb25kUGFuZWw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UGFuZWwoKSA9PT0gU2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zLk5PTkUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYW5lbChTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnMuRkVFREJBQ0spO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRQYW5lbCgpID09PSBTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnMuVFJBQ0UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYW5lbChTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnMuTk9ORSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQubGFzdFN0ZXAoKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhbmVsKFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucy5UUkFDRSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFuZWwoU2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zLk5PTkUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25zb2xlOiB7XG4gICAgICAgICAgICAgICAgc2l6ZToga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuc2Vjb25kUm93U2Vjb25kUGFuZWwoKSA9PT0gU2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zLk5PTkUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2wtbWQtMTJcIiA6XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbC1tZC02XCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGhpZGVFdmFsdWF0ZToga28ucHVyZUNvbXB1dGVkKCAoKT0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuaGlkZUV2YWx1YXRlKCkgfHwgIW1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50Lmdsb2JhbHMoKSB8fFxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMub25FeGVjdXRpb24oKSA9PT0gU3RhdHVzU3RhdGUuQUNUSVZFXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZlZWRiYWNrOiB7XG4gICAgICAgICAgICAgICAgYmFkZ2U6IGtvLnB1cmVDb21wdXRlZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC5leGVjdXRpb24uZmVlZGJhY2suY2F0ZWdvcnkoKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGFiZWwtbm9uZVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAobW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLmNhdGVnb3J5KCkudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJub25lXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGFiZWwtbm9uZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJ1bnRpbWVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsYWJlbC1ydW50aW1lLWVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3ludGF4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGFiZWwtc3ludGF4LWVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZWRpdG9yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGFiZWwtc3ludGF4LWVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW50ZXJuYWxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsYWJlbC1pbnRlcm5hbC1lcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNlbWFudGljXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYW5hbHl6ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsYWJlbC1zZW1hbnRpYy1lcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZlZWRiYWNrXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW5zdHJ1Y3RvclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxhYmVsLWZlZWRiYWNrLWVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29tcGxldGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsYWJlbC1wcm9ibGVtLWNvbXBsZXRlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW5zdHJ1Y3Rpb25zXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGFiZWwtaW5zdHJ1Y3Rpb25zXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm8gZXJyb3JzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGFiZWwtbm8tZXJyb3JzXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeToga28ucHVyZUNvbXB1dGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5jYXRlZ29yeSgpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5jYXRlZ29yeSgpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJ1bnRpbWVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJSdW50aW1lIEVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3ludGF4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiU3ludGF4IEVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZWRpdG9yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRWRpdG9yIEVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW50ZXJuYWxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJbnRlcm5hbCBFcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNlbWFudGljXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYW5hbHl6ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJBbGdvcml0aG0gRXJyb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmZWVkYmFja1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImluc3RydWN0aW9uc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkluc3RydWN0aW9uc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImluc3RydWN0b3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJbmNvcnJlY3QgQW5zd2VyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29tcGxldGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJDb21wbGV0ZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vIGVycm9yc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIk5vIGVycm9yc1wiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmFjZToge1xuICAgICAgICAgICAgICAgIGhhczoga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZURhdGEoKSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgbGluZToga28ucHVyZUNvbXB1dGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0ZXAgPSBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VTdGVwKCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsYXN0U3RlcCA9IG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50Lmxhc3RTdGVwKCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0cmFjZURhdGEgPSBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VEYXRhKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJhY2VEYXRhIHx8IHN0ZXAgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIk5vIHRyYWNlXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0ZXAgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkJlZm9yZSBydW5cIjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGVwID09PSBsYXN0U3RlcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRmluaXNoZWQgcnVuXCI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiB3aHkgYXJlIHRoZXNlIG51bWJlcnMgd29ua3k/XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJMaW5lIFwiKyh0cmFjZURhdGFbc3RlcF0ubGluZS0xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGZpcnN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAoMCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBiYWNrd2FyZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJldmlvdXMgPSBNYXRoLm1heCgwLCBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VTdGVwKCkgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlU3RlcChwcmV2aW91cyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmb3J3YXJkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gTWF0aC5taW4obW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQubGFzdFN0ZXAoKSwgbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlU3RlcCgpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAobmV4dCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBsYXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAobW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQubGFzdFN0ZXAoKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkYXRhOiBrby5wdXJlQ29tcHV0ZWQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3RlcCA9IG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhc3RTdGVwID0gbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQubGFzdFN0ZXAoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRyYWNlRGF0YSA9IG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZURhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFjZURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0ZXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGxhc3RTdGVwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFjZURhdGFbc3RlcCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhY2VEYXRhW3N0ZXBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlsZXM6IHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkgfHwgIW1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuaGlkZUZpbGVzKClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGhhc0NvbnRlbnRzOiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFuc3dlci5weVwiOiByZXR1cm4gbW9kZWwuc3VibWlzc2lvbi5jb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIWluc3RydWN0aW9ucy5tZFwiOiByZXR1cm4gbW9kZWwuYXNzaWdubWVudC5pbnN0cnVjdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIhb25fY2hhbmdlLnB5XCI6IHJldHVybiBtb2RlbC5hc3NpZ25tZW50Lm9uQ2hhbmdlKCkgIT09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIW9uX2V2YWwucHlcIjogcmV0dXJuIG1vZGVsLmFzc2lnbm1lbnQub25FdmFsKCkgIT09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiP21vY2tfdXJscy5ibG9ja3B5XCI6IHJldHVybiBtb2RlbC5hc3NpZ25tZW50LmV4dHJhSW5zdHJ1Y3RvckZpbGVzKCkuc29tZShmaWxlID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5maWxlbmFtZSgpID09PSBcIj9tb2NrX3VybHMuYmxvY2tweVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIhdGFncy5ibG9ja3B5XCI6IHJldHVybiBtb2RlbC5hc3NpZ25tZW50LnRhZ3MoKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIXNhbXBsZV9zdWJtaXNzaW9ucy5ibG9ja3B5XCI6IHJldHVybiBtb2RlbC5hc3NpZ25tZW50LnNhbXBsZVN1Ym1pc3Npb25zKCkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhZGQ6IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChwYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiP21vY2tfdXJscy5ibG9ja3B5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiP3RhZ3MuYmxvY2tweVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIj9zZXR0aW5ncy5ibG9ja3B5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmZpbGVTeXN0ZW0ubmV3RmlsZShwYXRoKTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIW9uX2NoYW5nZS5weVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmFzc2lnbm1lbnQub25DaGFuZ2UoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmZpbGVTeXN0ZW0ubmV3RmlsZShwYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGZpeCBleHRyYWZpbGVzIGZvciBpbnN0cnVjdG9yIGFuZCBzdHVkZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIW9uX2V2YWwucHlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5hc3NpZ25tZW50Lm9uRXZhbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5uZXdGaWxlKHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImluc3RydWN0b3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5uZXdGaWxlRGlhbG9nKFwiaW5zdHJ1Y3RvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3R1ZGVudFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5maWxlU3lzdGVtLm5ld0ZpbGVEaWFsb2coXCJzdHVkZW50XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdGFydGluZ1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5maWxlU3lzdGVtLm5ld0ZpbGVEaWFsb2coXCJzdGFydGluZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5maWxlbmFtZShwYXRoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5kZWxldGVGaWxlKG1vZGVsLmRpc3BsYXkuZmlsZW5hbWUoKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHRyYVN0dWRlbnRGaWxlczogb2JzZXJ2ZUNvbmNhdGVuYXRlZEZpbGUobW9kZWwuc3VibWlzc2lvbi5leHRyYUZpbGVzKSxcbiAgICAgICAgICAgICAgICBleHRyYUluc3RydWN0b3JGaWxlczogb2JzZXJ2ZUNvbmNhdGVuYXRlZEZpbGUobW9kZWwuYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlcyksXG4gICAgICAgICAgICAgICAgZXh0cmFTdGFydGluZ0ZpbGVzOiBvYnNlcnZlQ29uY2F0ZW5hdGVkRmlsZShtb2RlbC5hc3NpZ25tZW50LmV4dHJhU3RhcnRpbmdGaWxlcyksXG4gICAgICAgICAgICAgICAgZGlzcGxheUZpbGVuYW1lOiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoID09PSBcIj9tb2NrX3VybHMuYmxvY2tweVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJVUkwgRGF0YVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoLnN0YXJ0c1dpdGgoXCImXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGF0aC5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVkaXRvcnM6IHtcbiAgICAgICAgICAgICAgICBjdXJyZW50OiBrby5wdXJlQ29tcHV0ZWQoICgpPT5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmVkaXRvcnMuZ2V0RWRpdG9yKG1vZGVsLmRpc3BsYXkuZmlsZW5hbWUoKSlcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHZpZXc6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICAoIW1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3RvcigpICYmIG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuaGlkZUVkaXRvcnMoKSkgPyBcIk5vbmVcIiA6XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuZmlsZW5hbWUoKSA/IG1vZGVsLnVpLmVkaXRvcnMuY3VycmVudCgpIDogXCJOb25lXCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRmlsZS5SZXNldFwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcImFuc3dlci5weVwiKTtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3VibWlzc2lvbi5jb2RlKG1vZGVsLmFzc2lnbm1lbnQuc3RhcnRpbmdDb2RlKCkpO1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdWJtaXNzaW9uLmV4dHJhRmlsZXMobW9kZWwuYXNzaWdubWVudC5leHRyYVN0YXJ0aW5nRmlsZXMoKS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZW5hbWUgPSBmaWxlLmZpbGVuYW1lKCkuc3Vic3RyKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYWtlTW9kZWxGaWxlKGZpbGVuYW1lLCBmaWxlLmNvbnRlbnRzKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhblNhdmU6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICAhbW9kZWwuZGlzcGxheS5hdXRvU2F2ZSgpKSxcbiAgICAgICAgICAgICAgICBjYW5EZWxldGU6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICAoIW1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuaGlkZUZpbGVzKCkgfHwgbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkpICYmXG4gICAgICAgICAgICAgICAgICAgIFVOREVMRVRBQkxFX0ZJTEVTLmluZGV4T2YobW9kZWwuZGlzcGxheS5maWxlbmFtZSgpKSA9PT0gLTEpLFxuICAgICAgICAgICAgICAgIGNhblJlbmFtZToga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgICghbW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5oaWRlRmlsZXMoKSB8fCBtb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgVU5SRU5BTUFCTEVfRklMRVMuaW5kZXhPZihtb2RlbC5kaXNwbGF5LmZpbGVuYW1lKCkpID09PSAtMSksXG4gICAgICAgICAgICAgICAgdXBsb2FkOiB1cGxvYWRGaWxlLmJpbmQoc2VsZiksXG4gICAgICAgICAgICAgICAgZG93bmxvYWQ6IGRvd25sb2FkRmlsZS5iaW5kKHNlbGYpLFxuICAgICAgICAgICAgICAgIGltcG9ydERhdGFzZXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmNvcmdpcy5vcGVuRGlhbG9nKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBweXRob246IHtcbiAgICAgICAgICAgICAgICAgICAgZnVsbHNjcmVlbjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvZGVNaXJyb3IgPSBzZWxmLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLmJtLnRleHRFZGl0b3IuY29kZU1pcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2RlTWlycm9yLnNldE9wdGlvbihcImZ1bGxTY3JlZW5cIiwgIWNvZGVNaXJyb3IuZ2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1vZGU6IChuZXdNb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiWC1WaWV3LkNoYW5nZVwiLCBcIlwiLCBcIlwiLCBuZXdNb2RlLCBtb2RlbC5kaXNwbGF5LmZpbGVuYW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5weXRob25Nb2RlKG5ld01vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLmRpc3BsYXkuZmlsZW5hbWUoKSA9PT0gXCJhbnN3ZXIucHlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5weXRob25FZGl0b3Iub2xkUHl0aG9uTW9kZSA9IG5ld01vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGlzSGlzdG9yeUF2YWlsYWJsZToga28ucHVyZUNvbXB1dGVkKCgpPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnVpLnNlcnZlci5pc0VuZHBvaW50Q29ubmVjdGVkKFwibG9hZEhpc3RvcnlcIikpLFxuICAgICAgICAgICAgICAgICAgICB0dXJuT2ZmSGlzdG9yeU1vZGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5weXRob25FZGl0b3IudXBkYXRlRWRpdG9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLnNldFJlYWRPbmx5KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuaGlzdG9yeU1vZGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0dXJuT25IaXN0b3J5TW9kZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLnNlcnZlci5sb2FkSGlzdG9yeSgocmVzcG9uc2UpID0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5oaXN0b3J5LmxvYWQocmVzcG9uc2UuaGlzdG9yeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuaGlzdG9yeU1vZGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5weXRob25FZGl0b3Iuc2V0UmVhZE9ubHkodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmRpYWxvZy5FUlJPUl9MT0FESU5HX0hJU1RPUlkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlSGlzdG9yeU1vZGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC5kaXNwbGF5Lmhpc3RvcnlNb2RlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC51aS5lZGl0b3JzLnB5dGhvbi50dXJuT2ZmSGlzdG9yeU1vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwudWkuZWRpdG9ycy5weXRob24udHVybk9uSGlzdG9yeU1vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6ICgpPT57IHNlbGYuY29tcG9uZW50cy5oaXN0b3J5Lm1vdmVUb1N0YXJ0KCk7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91czogKCk9Pnsgc2VsZi5jb21wb25lbnRzLmhpc3RvcnkubW92ZVByZXZpb3VzKCk7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0OiAoKT0+eyBzZWxmLmNvbXBvbmVudHMuaGlzdG9yeS5tb3ZlTmV4dCgpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9zdFJlY2VudDogKCk9Pnsgc2VsZi5jb21wb25lbnRzLmhpc3RvcnkubW92ZVRvTW9zdFJlY2VudCgpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlOiAoKT0+eyBzZWxmLmNvbXBvbmVudHMuaGlzdG9yeS51c2UoKTsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgICBzYXZlOiAoKSA9PiBzZWxmLmNvbXBvbmVudHMuc2VydmVyLnNhdmVBc3NpZ25tZW50KClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhlY3V0ZToge1xuICAgICAgICAgICAgICAgIGlzUnVubmluZzoga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbigpID09PSBTdGF0dXNTdGF0ZS5BQ1RJVkVcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHJ1bjogKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmVuZ2luZS5kZWxheWVkUnVuKCksXG4gICAgICAgICAgICAgICAgZXZhbHVhdGU6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5lbmdpbmUuZXZhbHVhdGUoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlcnZlcjoge1xuICAgICAgICAgICAgICAgIHN0YXR1czogKGVuZHBvaW50ID0+XG4gICAgICAgICAgICAgICAgICAgIFwic2VydmVyLXN0YXR1cy1cIiArIG1vZGVsLnN0YXR1c1tlbmRwb2ludF0oKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgaXNFbmRwb2ludENvbm5lY3RlZDogKGVuZHBvaW50KSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5jb25maWd1cmF0aW9uLnNlcnZlckNvbm5lY3RlZCgpICYmXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmNvbmZpZ3VyYXRpb24udXJscyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmNvbmZpZ3VyYXRpb24udXJsc1tlbmRwb2ludF0gIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlczoga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIGNhcGl0YWxpemUobW9kZWwuc3RhdHVzLmxvYWRBc3NpZ25tZW50TWVzc2FnZSgpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMuc2F2ZUFzc2lnbm1lbnRNZXNzYWdlKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnN0YXR1cy5sb2FkSGlzdG9yeU1lc3NhZ2UoKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3RhdHVzLmxvYWRGaWxlTWVzc2FnZSgpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMuc2F2ZUZpbGVNZXNzYWdlKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnN0YXR1cy5sb2FkRGF0YXNldE1lc3NhZ2UoKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3RhdHVzLmxvZ0V2ZW50TWVzc2FnZSgpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMuc2F2ZUltYWdlKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnN0YXR1cy51cGRhdGVTdWJtaXNzaW9uTWVzc2FnZSgpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMudXBkYXRlU3VibWlzc2lvblN0YXR1c01lc3NhZ2UoKSB8fCBcIlwiKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgZm9yY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3VibWlzc2lvbjogKGRhdGEsIGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuc2VydmVyLnVwZGF0ZVN1Ym1pc3Npb24oc2VsZi5tb2RlbC5zdWJtaXNzaW9uLnNjb3JlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tb2RlbC5zdWJtaXNzaW9uLmNvcnJlY3QoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKGV2ZW50LnRhcmdldCkuZmFkZU91dCgxMDApLmZhZGVJbigxMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgbWFrZUV4dHJhSW50ZXJmYWNlU3Vic2NyaXB0aW9ucyhzZWxmLCBtb2RlbCk7XG4gICAgfVxuXG4gICAgdHVybk9uSGFja3MoKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJUT0RPXCIpO1xuICAgICAgICBTay5idWlsdGluRmlsZXMuZmlsZXNbXCJzcmMvbGliL2ltYWdlLmpzXCJdID0gJGJ1aWx0aW5tb2R1bGUudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBseXMgdGhlIEtub2Nrb3V0SlMgYmluZGluZ3MgdG8gdGhlIG1vZGVsLCBpbnN0YW50aWF0aW5nIHRoZSB2YWx1ZXMgaW50byB0aGVcbiAgICAgKiBIVE1MLlxuICAgICAqL1xuICAgIGFwcGx5TW9kZWwoKSB7XG4gICAgICAgIGtvLmFwcGx5QmluZGluZ3ModGhpcy5tb2RlbCk7XG4gICAgfVxuXG4gICAgaW5pdFV0aWxpdGllcygpIHtcbiAgICAgICAgbGV0IG1haW4gPSB0aGlzO1xuICAgICAgICB0aGlzLnV0aWxpdGllcyA9IHtcbiAgICAgICAgICAgIG1hcmtkb3duOiAodGV4dCkgPT4gdGV4dCA/IEVhc3lNREUucHJvdG90eXBlLm1hcmtkb3duKHRleHQpIDogXCI8cD48L3A+XCJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpbml0Q29tcG9uZW50cygpIHtcbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IHRoaXMubW9kZWwuY29uZmlndXJhdGlvbi5jb250YWluZXI7XG4gICAgICAgIGxldCBjb21wb25lbnRzID0gdGhpcy5jb21wb25lbnRzID0ge307XG4gICAgICAgIGxldCBtYWluID0gdGhpcztcbiAgICAgICAgLy8gRWFjaCBvZiB0aGVzZSBjb21wb25lbnRzIHdpbGwgdGFrZSB0aGUgQmxvY2tQeSBpbnN0YW5jZSwgYW5kIHBvc3NpYmx5IGFcbiAgICAgICAgLy8gcmVmZXJlbmNlIHRvIHRoZSByZWxldmFudCBIVE1MIGxvY2F0aW9uIHdoZXJlIGl0IHdpbGwgYmUgZW1iZWRkZWQuXG4gICAgICAgIGNvbXBvbmVudHMuZGlhbG9nID0gbmV3IEJsb2NrUHlEaWFsb2cobWFpbiwgY29udGFpbmVyLmZpbmQoXCIuYmxvY2tweS1kaWFsb2dcIikpO1xuICAgICAgICBjb21wb25lbnRzLmZlZWRiYWNrID0gbmV3IEJsb2NrUHlGZWVkYmFjayhtYWluLCBjb250YWluZXIuZmluZChcIi5ibG9ja3B5LWZlZWRiYWNrXCIpKTtcbiAgICAgICAgY29tcG9uZW50cy50cmFjZSA9IG5ldyBCbG9ja1B5VHJhY2UobWFpbik7XG4gICAgICAgIGNvbXBvbmVudHMuY29uc29sZSA9IG5ldyBCbG9ja1B5Q29uc29sZShtYWluLCBjb250YWluZXIuZmluZChcIi5ibG9ja3B5LWNvbnNvbGVcIikpO1xuICAgICAgICBjb21wb25lbnRzLmVuZ2luZSA9IG5ldyBCbG9ja1B5RW5naW5lKG1haW4pO1xuICAgICAgICBjb21wb25lbnRzLmZpbGVTeXN0ZW0gPSBuZXcgQmxvY2tQeUZpbGVTeXN0ZW0obWFpbik7XG4gICAgICAgIGNvbXBvbmVudHMuZWRpdG9ycyA9IG5ldyBFZGl0b3JzKG1haW4sIGNvbnRhaW5lci5maW5kKFwiLmJsb2NrcHktZWRpdG9yXCIpKTtcbiAgICAgICAgLy8gQ29udmVuaWVudCBzaG9ydGN1dCBkaXJlY3RseSB0byBQeXRob25FZGl0b3JcbiAgICAgICAgY29tcG9uZW50cy5weXRob25FZGl0b3IgPSB0aGlzLmNvbXBvbmVudHMuZWRpdG9ycy5ieU5hbWUoXCJweXRob25cIik7XG4gICAgICAgIGNvbXBvbmVudHMuc2VydmVyID0gbmV3IEJsb2NrUHlTZXJ2ZXIobWFpbik7XG4gICAgICAgIGNvbXBvbmVudHMuY29yZ2lzID0gbmV3IEJsb2NrUHlDb3JnaXMobWFpbik7XG4gICAgICAgIGNvbXBvbmVudHMuaGlzdG9yeSA9IG5ldyBCbG9ja1B5SGlzdG9yeShtYWluLCBjb250YWluZXIuZmluZChcIi5ibG9ja3B5LWhpc3RvcnktdG9vbGJhclwiKSk7XG4gICAgfVxuXG4gICAgbWFrZUV4dHJhU3Vic2NyaXB0aW9ucygpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5kaXNwbGF5LmNoYW5nZWRJbnN0cnVjdGlvbnMuc3Vic2NyaWJlKChjaGFuZ2VkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiWC1JbnN0cnVjdGlvbnMuQ2hhbmdlXCIsIFwiXCIsIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWQsIFwiaW5zdHJ1Y3Rpb25zLm1kXCIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5kaXNwbGF5LmZpbGVuYW1lKFwiYW5zd2VyLnB5XCIpO1xuICAgIH1cblxuICAgIHJlc2V0SW50ZXJmYWNlKCkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudHMuZW5naW5lLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgcmVxdWVzdFBhc3Njb2RlKCkge1xuICAgICAgICBsZXQgdXNlclN1cHBsaWVkUGFzc2NvZGUgPSBwcm9tcHQoXCJQbGVhc2UgZW50ZXIgdGhlIHBhc3Njb2RlLlwiKTtcbiAgICAgICAgdGhpcy5tb2RlbC5kaXNwbGF5LnBhc3Njb2RlKHVzZXJTdXBwbGllZFBhc3Njb2RlKTtcbiAgICB9XG5cbn1cblxuIiwiaW1wb3J0IHtlbmNvZGVIVE1MfSBmcm9tIFwiLi91dGlsaXRpZXNcIjtcblxuLyoqXG4gKiBFdmFsdWF0ZSBidXR0b24gSFRNTCB0ZW1wbGF0ZVxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgU1RBUlRfRVZBTF9IVE1MID0gYFxuPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1vdXRsaW5lIGZsb2F0LXJpZ2h0IGJsb2NrcHktYnRuLWV2YWxcIj5cbiAgICBFdmFsdWF0ZVxuPC9idXR0b24+YDtcblxuLyoqXG4gKiBIVE1MIHRlbXBsYXRlIGZvciBhIG5ldyBsaW5lIGluIHRoZSBjb25zb2xlLlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgTkVXX0NPTlNPTEVfTElORV9IVE1MID0gXCI8ZGl2PjwvZGl2PlwiO1xuXG4vKipcbiAqIEhUTUwgdGVtcGxhdGUgZm9yIHRoZSBlbnRpcmUgY29uc29sZSBhcmVhXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgQ09OU09MRV9IVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9J2NvbC1tZC02IGJsb2NrcHktcGFuZWwgYmxvY2tweS1jb25zb2xlJ1xuICAgICAgICAgIHJvbGU9XCJyZWdpb25cIiBhcmlhLWxhYmVsPVwiQ29uc29sZVwiXG4gICAgICAgICAgZGF0YS1iaW5kPVwiY2xhc3M6IHVpLmNvbnNvbGUuc2l6ZVwiPlxuICAgICAgICAgIFxuICAgICAgICA8IS0tIEZlZWRiYWNrL1RyYWNlIFZpc2liaWxpdHkgQ29udHJvbCAtLT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPSdidXR0b24nXG4gICAgICAgICAgICAgICAgY2xhc3M9J2J0biBidG4tc20gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGZsb2F0LXJpZ2h0IGJsb2NrcHktc2hvdy1mZWVkYmFjaydcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJoaWRkZW46IHVpLnNlY29uZFJvdy5pc0NvbnNvbGVTaG93VmlzaWJsZSwgY2xpY2s6IHVpLnNlY29uZFJvdy5hZHZhbmNlU3RhdGVcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtZXllJz48L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIFxuICAgICAgICA8c3Ryb25nPkNvbnNvbGU6PC9zdHJvbmc+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPSdibG9ja3B5LXByaW50ZXIgYmxvY2tweS1wcmludGVyLWRlZmF1bHQnPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQWxsIHRoZSBwb3NzaWJsZSB0eXBlcyBmb3IgYSBsaW5lIGluIHRoZSBjb25zb2xlLlxuICogQGVudW1cbiAqL1xuZXhwb3J0IGxldCBDb25zb2xlTGluZVR5cGUgPSB7XG4gICAgVEVYVDogXCJ0ZXh0XCIsXG4gICAgSFRNTDogXCJodG1sXCIsXG4gICAgUExPVDogXCJwbG90XCIsXG4gICAgSU1BR0U6IFwiaW1hZ2VcIixcbiAgICBUVVJUTEU6IFwidHVydGxlXCIsXG4gICAgRVZBTDogXCJldmFsXCIsXG4gICAgU1RBUlRfRVZBTDogXCJzdGFydF9ldmFsXCIsXG4gICAgVkFMVUU6IFwidmFsdWVcIixcbiAgICBJTlBVVDogXCJpbnB1dFwiLFxuICAgIFRFU1RfQ0FTRTogXCJ0ZXN0X2Nhc2VcIlxufTtcblxuLyoqXG4gKiBBYnN0cmFjdCB2ZXJzaW9uIG9mIGEgbGluZSBpbiB0aGUgY29uc29sZS4gQWxsIG90aGVyIGNvbnNvbGUgbGluZXNcbiAqIHNob3VsZCBleHRlbmQgdGhpcyBjbGFzcy4gQ3JpdGljYWxseSwgdGhleSBuZWVkIHRvIGltcGxlbWVudCBhIHJlbmRlciBmdW5jdGlvbi5cbiAqL1xuY2xhc3MgQ29uc29sZUxpbmUge1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIHR5cGUsIGNvbnRlbnQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSBiYWNrIHRvIHRoZSBtYWluIEJsb2NrUHkgaW5zdGFuY2UuXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAdHlwZSB7QmxvY2tQeX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFpbiA9IG1haW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYXRlZ29yaXplcyB3aGF0IGtpbmQgb2YgbGluZSB0aGlzIGlzICh0ZXh0L2h0bWwvcGxvdC9ldGMuKVxuICAgICAgICAgKiBAdHlwZSB7Q29uc29sZUxpbmVUeXBlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhY3R1YWwgZGF0YSBzdG9yZWQgb24gdGhpcyBsaW5lLlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1ldGFkYXRhIGFib3V0IHdoZXJlIHRoZSBsaW5lIG9yaWdpbmF0ZWQgZnJvbSBpbiB0aGUgY29kZS5cbiAgICAgICAgICogQHR5cGUge3tmaWxlbmFtZTogc3RyaW5nLCBsaW5lOiBudW1iZXIsIHN0ZXA6IG51bWJlcn19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9yaWdpbiA9IHtcbiAgICAgICAgICAgIGZpbGVuYW1lOiBTay5jdXJyRmlsZW5hbWUsXG4gICAgICAgICAgICBzdGVwOiBtYWluLmNvbXBvbmVudHMuZW5naW5lLmV4ZWN1dGlvbkJ1ZmZlci5zdGVwLFxuICAgICAgICAgICAgbGluZTogbWFpbi5jb21wb25lbnRzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIubGluZVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIEhUTUwgY29udGVudCBzdG9yZWQgb24gdGhpcyBsaW5lLCBtZWFudCB0byBiZSByZW5kZXJlZFxuICAgICAgICAgKiB0byB0aGUgdXNlci5cbiAgICAgICAgICogQHR5cGUgeyp8alF1ZXJ5LmZuLmluaXR8alF1ZXJ5fEhUTUxFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5odG1sID0gJChcIjxkaXY+PC9kaXY+XCIsIHtcbiAgICAgICAgICAgIFwiY2xhc3NcIjogIFwiYmxvY2tweS1wcmludGVyLW91dHB1dFwiLFxuICAgICAgICAgICAgXCJkYXRhLWNvbnRhaW5lclwiOiBtYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uYXR0YWNobWVudFBvaW50LFxuICAgICAgICAgICAgXCJkYXRhLXRvZ2dsZVwiOiBcInRvb2x0aXBcIixcbiAgICAgICAgICAgIFwiZGF0YS1wbGFjZW1lbnRcIjogXCJhdXRvXCIsXG4gICAgICAgICAgICBcImRhdGEtc3RlcFwiOiB0aGlzLm9yaWdpbi5zdGVwLFxuICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIlN0ZXAgXCIgKyB0aGlzLm9yaWdpbi5zdGVwICsgXCIsIExpbmUgXCIgKyB0aGlzLm9yaWdpbi5saW5lXG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhpcyBsaW5lIHNob3VsZCBiZSB2aXNpYmxlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52aXNpYmxlID0gIW1haW4ubW9kZWwuZGlzcGxheS5tdXRlUHJpbnRlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIFNrdWxwdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGNvbnNvbGUgbGluZSdzIGNvbnRlbnQuXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgdG9Ta3VscHQoKSB7XG4gICAgICAgIHJldHVybiBTay5mZmkucmVtYXBUb1B5KHRoaXMuY29udGVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoaXMgY29uc29sZSBsaW5lIGJ5IGRlbGV0aW5nIGl0cyBIVE1MIHJlcHJlc2VudGF0aW9uLlxuICAgICAqL1xuICAgIGRlbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5odG1sLnJlbW92ZSgpO1xuICAgIH1cbn1cblxuY2xhc3MgQ29uc29sZUxpbmVUdXJ0bGUgZXh0ZW5kcyBDb25zb2xlTGluZSB7XG4gICAgLy8gVE9ETzogQ2FwdHVyZSB0dXJ0bGUgY29tbWFuZHMgZm9yIHRyYWNpbmcgcHVycG9zZXNcbiAgICBjb25zdHJ1Y3RvcihtYWluKSB7XG4gICAgICAgIHN1cGVyKG1haW4sIENvbnNvbGVMaW5lVHlwZS5UVVJUTEUpO1xuICAgICAgICB0aGlzLmh0bWwuYWRkQ2xhc3MoXCJibG9ja3B5LWNvbnNvbGUtdHVydGxlLW91dHB1dFwiKTtcbiAgICB9XG5cbiAgICByZW5kZXIod2hlcmUpIHtcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xuICAgICAgICAgICAgd2hlcmUucHJlcGVuZCh0aGlzLmh0bWwpO1xuICAgICAgICAgICAgLy90aGlzLmh0bWxbMF0uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogXCJzbW9vdGhcIiB9KTtcbiAgICAgICAgICAgIHZhciB0b3AgPSB0aGlzLmh0bWwucG9zaXRpb24oKS50b3A7XG4gICAgICAgICAgICAvLyQoJ2h0bWwnKS5zY3JvbGxUb3AodG9wKTtcbiAgICAgICAgICAgICQoXCJodG1sXCIpLnNjcm9sbFRvcCgwKTtcbiAgICAgICAgICAgIC8vdGhpcy5odG1sLnRvb2x0aXAoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgQ29uc29sZUxpbmVJbWFnZSBleHRlbmRzIENvbnNvbGVMaW5lIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCBjb250ZW50KSB7XG4gICAgICAgIHN1cGVyKG1haW4sIENvbnNvbGVMaW5lVHlwZS5JTUFHRSwgY29udGVudCk7XG4gICAgICAgIHRoaXMuaHRtbC5hZGRDbGFzcyhcImJsb2NrcHktY29uc29sZS1pbWFnZS1vdXRwdXRcIik7XG4gICAgfVxuXG4gICAgcmVuZGVyKHdoZXJlKSB7XG4gICAgICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29udGVudCk7XG4gICAgICAgICAgICB0aGlzLmh0bWwuYXBwZW5kKHRoaXMuY29udGVudCk7XG4gICAgICAgICAgICB3aGVyZS5hcHBlbmQodGhpcy5odG1sKTtcbiAgICAgICAgICAgIC8vdGhpcy5odG1sLnRvb2x0aXAoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgQ29uc29sZUxpbmVQbG90IGV4dGVuZHMgQ29uc29sZUxpbmUge1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIGNvbnRlbnQpIHtcbiAgICAgICAgc3VwZXIobWFpbiwgQ29uc29sZUxpbmVUeXBlLlBMT1QsIGNvbnRlbnQpO1xuICAgICAgICB0aGlzLmh0bWwuYWRkQ2xhc3MoXCJibG9ja3B5LWNvbnNvbGUtcGxvdC1vdXRwdXRcIik7XG4gICAgfVxuXG4gICAgcmVuZGVyKHdoZXJlKSB7XG4gICAgICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHdoZXJlLmFwcGVuZCh0aGlzLmh0bWwpO1xuICAgICAgICAgICAgLy90aGlzLmh0bWwudG9vbHRpcCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBDb25zb2xlTGluZVRleHQgZXh0ZW5kcyBDb25zb2xlTGluZSB7XG5cbiAgICBhZGRDb250ZW50KGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gdGhpcy5jb250ZW50ICsgY29udGVudDtcbiAgICB9XG5cbiAgICByZW5kZXIod2hlcmUpIHtcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xuICAgICAgICAgICAgbGV0IGVuY29kZWRUZXh0ID0gZW5jb2RlSFRNTCh0aGlzLmNvbnRlbnQpO1xuICAgICAgICAgICAgaWYgKCFlbmNvZGVkVGV4dCB8fCBlbmNvZGVkVGV4dC50cmltKCkubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgICAgICBlbmNvZGVkVGV4dCA9IFwiXFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbGluZURhdGEgPSAkKFwiPHNhbXA+PC9zYW1wPlwiLCB7IFwiaHRtbFwiOiBlbmNvZGVkVGV4dCB9KTtcbiAgICAgICAgICAgIHRoaXMuaHRtbC5hcHBlbmQobGluZURhdGEpO1xuICAgICAgICAgICAgd2hlcmUuYXBwZW5kKHRoaXMuaHRtbCk7XG4gICAgICAgICAgICB0aGlzLmh0bWwudG9vbHRpcCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBDb25zb2xlTGluZVZhbHVlIGV4dGVuZHMgQ29uc29sZUxpbmUge1xuXG4gICAgY29uc3RydWN0b3IobWFpbiwgY29udGVudCkge1xuICAgICAgICBzdXBlcihtYWluLCBDb25zb2xlTGluZVR5cGUuVkFMVUUsIGNvbnRlbnQpO1xuICAgIH1cblxuICAgIHJlbmRlcih3aGVyZSkge1xuICAgICAgICBpZiAodGhpcy52aXNpYmxlKSB7XG4gICAgICAgICAgICBsZXQgZW5jb2RlZFRleHQgPSBlbmNvZGVIVE1MKHRoaXMuY29udGVudCk7XG4gICAgICAgICAgICBsZXQgbGluZURhdGEgPSAkKFwiPGNvZGU+PC9jb2RlPlwiLCB7IFwiaHRtbFwiOiBlbmNvZGVkVGV4dCB9KTtcbiAgICAgICAgICAgIHRoaXMuaHRtbC5hcHBlbmQobGluZURhdGEpO1xuICAgICAgICAgICAgd2hlcmUuYXBwZW5kKHRoaXMuaHRtbCk7XG4gICAgICAgICAgICB0aGlzLmh0bWwudG9vbHRpcCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBDb25zb2xlTGluZUlucHV0IGV4dGVuZHMgQ29uc29sZUxpbmUge1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIHByb21wdE1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWFpbiwgQ29uc29sZUxpbmVUeXBlLklOUFVULCBwcm9tcHRNZXNzYWdlKTtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIElucHV0IGJveCBmb3IgcmVjZWl2aW5nIGlucHV0KCkgZnJvbSB0aGUgdXNlci5cbiAgICAgKlxuICAgICAqL1xuICAgIHJlbmRlcih3aGVyZSkge1xuICAgICAgICAvLyBQZXJmb3JtIGFueSBuZWNlc3NhcnkgY2xlYW5pbmdcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xuICAgICAgICAgICAgLy8gSW5wdXQgZm9ybVxuICAgICAgICAgICAgbGV0IGlucHV0Rm9ybSA9ICQoXCI8aW5wdXQgdHlwZT0ndGV4dCcgLz5cIik7XG4gICAgICAgICAgICAvLyBFbnRlciBidXR0b25cbiAgICAgICAgICAgIGxldCBpbnB1dEJ0biA9ICQoXCI8YnV0dG9uPjwvYnV0dG9uPlwiLCB7XCJodG1sXCI6IFwiRW50ZXJcIn0pO1xuICAgICAgICAgICAgLy8gR3JvdXAgZm9ybSBhbmQgYnV0dG9uXG4gICAgICAgICAgICBsZXQgaW5wdXRHcm91cCA9ICQoXCI8ZGl2PjwvZGl2PlwiLCB7XCJjbGFzc1wiOiBcImJsb2NrcHktY29uc29sZS1pbnB1dFwifSk7XG4gICAgICAgICAgICBpbnB1dEdyb3VwLmFwcGVuZChpbnB1dEZvcm0pO1xuICAgICAgICAgICAgaW5wdXRHcm91cC5hcHBlbmQoaW5wdXRCdG4pO1xuICAgICAgICAgICAgLy8gUHJvbXB0IGJveCwgbmV3IGxpbmUsIGlucHV0IGdyb3VwXG4gICAgICAgICAgICBsZXQgaW5wdXRCb3ggPSAkKFwiPGRpdj48L2Rpdj5cIik7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZW50ICE9PSBcIlxcblwiKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVuY29kZWRUZXh0ID0gZW5jb2RlSFRNTCh0aGlzLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGxldCBpbnB1dE1zZyA9ICQoXCI8c2FtcD48L3NhbXA+XCIsICB7XCJodG1sXCI6IGVuY29kZWRUZXh0fSk7XG4gICAgICAgICAgICAgICAgaW5wdXRCb3guYXBwZW5kKGlucHV0TXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlucHV0Qm94LmFwcGVuZCgkKFwiPGJyPlwiKSlcbiAgICAgICAgICAgICAgICAuYXBwZW5kKGlucHV0R3JvdXApO1xuICAgICAgICAgICAgLy8gUmVuZGVyXG4gICAgICAgICAgICB0aGlzLmh0bWwuYXBwZW5kKGlucHV0Qm94KTtcbiAgICAgICAgICAgIHdoZXJlLmFwcGVuZCh0aGlzLmh0bWwpO1xuICAgICAgICAgICAgLy8gTWFrZSBpdCBpbnRlcmFjdGl2ZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFrZUludGVyYWN0aXZlKGlucHV0Rm9ybSwgaW5wdXRCdG4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH07XG5cbiAgICBtYWtlSW50ZXJhY3RpdmUoaW5wdXQsIGJ1dHRvbikge1xuICAgICAgICBsZXQgcmVzb2x2ZU9uQ2xpY2s7XG4gICAgICAgIGxldCBzdWJtaXR0ZWRQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmVPbkNsaWNrID0gcmVzb2x2ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBpbnB1dEluZGV4ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dEluZGV4KCk7XG4gICAgICAgIGxldCBzdWJtaXRGb3JtID0gKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHVzZXJJbnB1dHRlZFZhbHVlID0gaW5wdXQudmFsKCk7XG4gICAgICAgICAgICBTay5xdWV1ZWRJbnB1dC5wdXNoKHVzZXJJbnB1dHRlZFZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXRJbmRleChpbnB1dEluZGV4KzEpO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dCgpLnB1c2godXNlcklucHV0dGVkVmFsdWUpO1xuICAgICAgICAgICAgcmVzb2x2ZU9uQ2xpY2sodXNlcklucHV0dGVkVmFsdWUpO1xuICAgICAgICAgICAgaW5wdXQucHJvcChcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgICAgICAgYnV0dG9uLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaHRtbC50b29sdGlwKCk7XG4gICAgICAgIH07XG4gICAgICAgIGJ1dHRvbi5jbGljayhzdWJtaXRGb3JtKTtcbiAgICAgICAgaW5wdXQua2V5dXAoKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgICAgICAgICAgc3VibWl0Rm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgaWYgKGlucHV0SW5kZXggPCB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0KCkubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgdXNlcklucHV0dGVkVmFsdWUgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0KClbaW5wdXRJbmRleF07XG4gICAgICAgICAgICBpbnB1dC52YWwodXNlcklucHV0dGVkVmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dEluZGV4KGlucHV0SW5kZXgrMSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICBpbnB1dC5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnV0dG9uLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmh0bWwudG9vbHRpcCgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodXNlcklucHV0dGVkVmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1Ym1pdHRlZFByb21pc2U7XG4gICAgfVxufVxuXG5jbGFzcyBDb25zb2xlTGluZUV2YWx1YXRlIGV4dGVuZHMgQ29uc29sZUxpbmVJbnB1dCB7XG4gICAgY29uc3RydWN0b3IobWFpbikge1xuICAgICAgICBzdXBlcihtYWluLCBcIkV2YWx1YXRlOlwiKTtcbiAgICB9XG59XG5cbmNsYXNzIENvbnNvbGVMaW5lU3RhcnRFdmFsdWF0ZSBleHRlbmRzIENvbnNvbGVMaW5lIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluKSB7XG4gICAgICAgIHN1cGVyKG1haW4sIENvbnNvbGVMaW5lVHlwZS5TVEFSVF9FVkFMKTtcbiAgICAgICAgdGhpcy5odG1sLmFwcGVuZCgkKFNUQVJUX0VWQUxfSFRNTCkpO1xuICAgICAgICB0aGlzLmh0bWwuY2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLnVpLmV4ZWN1dGUuZXZhbHVhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlcih3aGVyZSkge1xuICAgICAgICB3aGVyZS5hcHBlbmQodGhpcy5odG1sKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCbG9ja1B5Q29uc29sZSB7XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgZm9yIG1hbmFnaW5nIHRoZSBjb25zb2xlLCB3aXRoIGZlYXR1cmVzIGZvciB0aGluZ3MgbGlrZSBwcmludGluZywgcGxvdHRpbmcsIGV2YWxpbmcsIGlucHV0aW5nLlxuICAgICAqIFRoZSBcInByaW50ZXJcIiBpcyB0aGUgcmVnaW9uIHdoZXJlIHdlIHB1dCB0aGluZ3MsIGFzIG9wcG9zZWQgdG8gdGhlIGNvbnNvbGUgYXMgYSB3aG9sZS5cbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYWluIC0gVGhlIG1haW4gQmxvY2tQeSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhZyAtIFRoZSBIVE1MIG9iamVjdCB0aGlzIGlzIGF0dGFjaGVkIHRvLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yIChtYWluLCB0YWcpIHtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgdGhpcy50YWcgPSB0YWc7XG4gICAgICAgIHRoaXMucHJpbnRlclRhZyA9IHRhZy5maW5kKFwiLmJsb2NrcHktcHJpbnRlclwiKTtcblxuICAgICAgICB0aGlzLk1JTklNVU1fV0lEVEggPSAyMDA7XG4gICAgICAgIHRoaXMuTUlOSU1VTV9IRUlHSFQgPSAyMDA7XG4gICAgICAgIHRoaXMuREVGQVVMVF9IRUlHSFQgPSB0aGlzLnByaW50ZXJUYWcuaGVpZ2h0KCk7IC8vIExldCBDU1MgZGVmaW5lIHRoaXNcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucHJldmlvdXNDb25zb2xlSGVpZ2h0KHRoaXMuREVGQVVMVF9IRUlHSFQpO1xuXG4gICAgICAgIHRoaXMub3V0cHV0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5vdXRwdXQ7XG4gICAgICAgIC8vdGhpcy5pbnB1dCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXQ7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSB7fTtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuXG4gICAgICAgIC8vIFRPRE86IElmIHRoZSB1c2VyIG1vZGlmaWVzIGEgZmlsZSwgdGhlbiBtYWtlIHRoZSBjb25zb2xlIGxvb2sgZmFkZWQgYSBsaXR0bGVcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIHN0YXR1cyBvZiB0aGUgcHJpbnRlciwgaW5jbHVkaW5nIHJlbW92aW5nIGFueSB0ZXh0IGluIGl0IGFuZFxuICAgICAqIGZpeGluZyBpdHMgc2l6ZS5cbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5vdXRwdXQucmVtb3ZlQWxsKCk7XG5cbiAgICAgICAgdGhpcy5saW5lQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5wbG90QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcmludGVyVGFnLmVtcHR5KCk7XG4gICAgICAgIC8vIElmIHRoZSB1c2VyIGhhc24ndCBjaGFuZ2VkIHRoZSBjb25zb2xlIHNpemUsIHdlJ2xsIHJlc2V0IGl0XG4gICAgICAgIGlmICh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5wcmV2aW91c0NvbnNvbGVIZWlnaHQoKSA9PT0gdGhpcy5wcmludGVyVGFnLmhlaWdodCgpKSB7XG4gICAgICAgICAgICB0aGlzLnByaW50ZXJUYWcuaGVpZ2h0KHRoaXMuREVGQVVMVF9IRUlHSFQpO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucHJldmlvdXNDb25zb2xlSGVpZ2h0KHRoaXMucHJpbnRlclRhZy5oZWlnaHQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnR1cnRsZUxpbmUgPSBudWxsO1xuICAgICAgICBTay5UdXJ0bGVHcmFwaGljcyA9IHtcbiAgICAgICAgICAgIHRhcmdldDogdGhpcy5nZXRUdXJ0bGVMaW5lLmJpbmQodGhpcyksXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5nZXRXaWR0aCgpLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmdldEhlaWdodCgpLFxuICAgICAgICAgICAgYXNzZXRzOiB0aGlzLmxvYWRBc3NldC5iaW5kKHRoaXMpXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGxvYWRBc3NldChuYW1lKSB7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cblxuICAgIGdldFR1cnRsZUxpbmUoKSB7XG4gICAgICAgIGlmICh0aGlzLnR1cnRsZUxpbmUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudHVydGxlTGluZSA9IG5ldyBDb25zb2xlTGluZVR1cnRsZSh0aGlzLm1haW4pO1xuICAgICAgICAgICAgdGhpcy50dXJ0bGVMaW5lLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgaGFzbid0IGNoYW5nZWQgdGhlIGNvbnNvbGUgc2l6ZSwgd2UnbGwgZG8gc29cbiAgICAgICAgICAgIGlmICh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5wcmV2aW91c0NvbnNvbGVIZWlnaHQoKSA9PT0gdGhpcy5wcmludGVyVGFnLmhlaWdodCgpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRQcmludGVyRGltZW5zaW9uID0gdGhpcy5wcmludGVyVGFnLndpZHRoKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmludGVyVGFnLmhlaWdodChjdXJyZW50UHJpbnRlckRpbWVuc2lvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucHJldmlvdXNDb25zb2xlSGVpZ2h0KHRoaXMucHJpbnRlclRhZy5oZWlnaHQoKSk7XG4gICAgICAgICAgICAgICAgU2suVHVydGxlR3JhcGhpY3MuaGVpZ2h0ID0gY3VycmVudFByaW50ZXJEaW1lbnNpb24tNDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudHVydGxlTGluZS5odG1sWzBdO1xuICAgIH1cblxuICAgIGZpbmlzaFR1cnRsZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5zYXZlVHVydGxlT3V0cHV0KCkpIHtcbiAgICAgICAgICAgIGxldCBjYW52YXMgPSB0aGlzLnR1cnRsZUxpbmUuaHRtbC5maW5kKFwiY2FudmFzXCIpLmxhc3QoKVswXTtcbiAgICAgICAgICAgIGxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICAgICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgbGV0IGRhdGFVcmwgPSBjYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLnNhdmVJbWFnZShcInR1cnRsZV9vdXRwdXRcIiwgZGF0YVVybCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPOiB0dXJ0bGVzIHNob3VsZCBiZSBiYXNlZCBvbiB0aGUgY3VycmVudCB3aWR0aFxuICAgIG5ld1R1cnRsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0V2lkdGgoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLk1JTklNVU1fV0lEVEgsIHRoaXMucHJpbnRlclRhZy53aWR0aCgpLTQwKTtcbiAgICB9XG5cbiAgICBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLk1JTklNVU1fSEVJR0hULCB0aGlzLnByaW50ZXJUYWcuaGVpZ2h0KCkrNDApO1xuICAgIH1cblxuICAgIGlzTXV0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5tdXRlUHJpbnRlcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgZWFjaCBwcmludGVkIGVsZW1lbnQgaW4gdGhlIHByaW50ZXIgYW5kIG1ha2VzIGl0IGhpZGRlblxuICAgICAqIG9yIHZpc2libGUsIGRlcGVuZGluZyBvbiB3aGF0IHN0ZXAgd2UncmUgb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RlcCAtIFRoZSBjdXJyZW50IHN0ZXAgb2YgdGhlIGV4ZWN1dGVkIHByb2dyYW0gdGhhdCB3ZSdyZSBvbjsgZWFjaCBlbGVtZW50IGluIHRoZSBwcmludGVyIG11c3QgYmUgbWFya2VkIHdpdGggYSBcImRhdGEtc3RlcFwiIHByb3BlcnR5IHRvIHJlc29sdmUgdGhpcy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcGFnZSAtIERlcHJlY2F0ZWQsIG5vdCBzdXJlIHdoYXQgdGhpcyBldmVuIGRvZXMuXG4gICAgICovXG4gICAgc3RlcFByaW50ZXIoc3RlcCwgcGFnZSkge1xuICAgICAgICB0aGlzLnByaW50ZXJUYWcuZmluZChcIi5ibG9ja3B5LXByaW50ZXItb3V0cHV0XCIpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKFwiZGF0YS1zdGVwXCIpIDw9IHN0ZXApIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnNob3coKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcmludCBhIGxpbmUgdG8gdGhlIG9uLXNjcmVlbiBwcmludGVyLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBsaW5lVGV4dCAtIEEgbGluZSBvZiB0ZXh0IHRvIGJlIHByaW50ZWQgb3V0LlxuICAgICAqL1xuICAgIHByaW50KGxpbmVUZXh0KSB7XG4gICAgICAgIC8vIEVtcHR5IHN0cmluZ3MgbWVhbnMgZG8gbm90aGluZy5cbiAgICAgICAgLy8gcHJpbnQoXCJcIiwgZW5kPVwiXCIpXG4gICAgICAgIGlmICghbGluZVRleHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZmx1c2ggPSBmYWxzZTtcbiAgICAgICAgaWYgKGxpbmVUZXh0LmNoYXJBdChsaW5lVGV4dC5sZW5ndGgtMSkgPT09IFwiXFxuXCIpIHtcbiAgICAgICAgICAgIGZsdXNoID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3BsaXRMaW5lcyA9IGxpbmVUZXh0LnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICBpZiAodGhpcy5saW5lQnVmZmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVCdWZmZXIgPSBuZXcgQ29uc29sZUxpbmVUZXh0KHRoaXMubWFpbiwgQ29uc29sZUxpbmVUeXBlLlRFWFQsIHNwbGl0TGluZXNbMF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5saW5lQnVmZmVyLmFkZENvbnRlbnQoc3BsaXRMaW5lc1swXSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaT0xOyBpIDwgc3BsaXRMaW5lcy5sZW5ndGgtMTsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLm91dHB1dC5wdXNoKHRoaXMubGluZUJ1ZmZlcik7XG4gICAgICAgICAgICB0aGlzLmxpbmVCdWZmZXIucmVuZGVyKHRoaXMucHJpbnRlclRhZyk7XG4gICAgICAgICAgICB0aGlzLmxpbmVCdWZmZXIgPSBuZXcgQ29uc29sZUxpbmVUZXh0KHRoaXMubWFpbiwgQ29uc29sZUxpbmVUeXBlLlRFWFQsIHNwbGl0TGluZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmbHVzaCkge1xuICAgICAgICAgICAgdGhpcy5vdXRwdXQucHVzaCh0aGlzLmxpbmVCdWZmZXIpO1xuICAgICAgICAgICAgdGhpcy5saW5lQnVmZmVyLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgICAgICAgICAgdGhpcy5saW5lQnVmZmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cblxuICAgIHBsb3QocGxvdHMpIHtcbiAgICAgICAgdGhpcy5wbG90QnVmZmVyID0gbmV3IENvbnNvbGVMaW5lUGxvdCh0aGlzLm1haW4sIHBsb3RzKTtcbiAgICAgICAgdGhpcy5wbG90QnVmZmVyLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgICAgICByZXR1cm4gdGhpcy5wbG90QnVmZmVyO1xuICAgIH1cblxuICAgIHByaW50UElMSW1hZ2UoaW1hZ2VEYXRhKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVEVTVFwiLCBpbWFnZURhdGEuaW1hZ2UpO1xuICAgICAgICB0aGlzLmltYWdlQnVmZmVyID0gbmV3IENvbnNvbGVMaW5lSW1hZ2UodGhpcy5tYWluLCBpbWFnZURhdGEuaW1hZ2UpO1xuICAgICAgICB0aGlzLmltYWdlQnVmZmVyLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZUJ1ZmZlcjtcbiAgICB9XG5cbiAgICBwcmludFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGxldCBwcmludGVkVmFsdWUgPSBuZXcgQ29uc29sZUxpbmVWYWx1ZSh0aGlzLm1haW4sIHZhbHVlKTtcbiAgICAgICAgcHJpbnRlZFZhbHVlLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgICAgICByZXR1cm4gcHJpbnRlZFZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW5kIHJlZ2lzdGVycyBhIFByb21pc2UgZnJvbSB0aGUgSW5wdXQgYm94XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb21wdE1lc3NhZ2UgLSBNZXNzYWdlIHRvIGRpc3BsYXkgdG8gdGhlIHVzZXIuXG4gICAgICpcbiAgICAgKi9cbiAgICBpbnB1dChwcm9tcHRNZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuaW5wdXRCdWZmZXIgPSBuZXcgQ29uc29sZUxpbmVJbnB1dCh0aGlzLm1haW4sIHByb21wdE1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbnB1dEJ1ZmZlci5yZW5kZXIodGhpcy5wcmludGVyVGFnKTtcbiAgICB9O1xuXG5cbiAgICBldmFsdWF0ZSgpIHtcbiAgICAgICAgdGhpcy5pbnB1dEJ1ZmZlciA9IG5ldyBDb25zb2xlTGluZUV2YWx1YXRlKHRoaXMubWFpbik7XG4gICAgICAgIHJldHVybiB0aGlzLmlucHV0QnVmZmVyLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgIH1cblxuICAgIGJlZ2luRXZhbCgpIHtcbiAgICAgICAgbGV0IHN0YXJ0RXZhbHVhdGlvbiA9IG5ldyBDb25zb2xlTGluZVN0YXJ0RXZhbHVhdGUodGhpcy5tYWluKTtcbiAgICAgICAgcmV0dXJuIHN0YXJ0RXZhbHVhdGlvbi5yZW5kZXIodGhpcy5wcmludGVyVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVbmNvbmRpdGlvbmFsbHkgc2Nyb2xsIHRvIHRoZSBib3R0b20gb2YgdGhlIHdpbmRvdy5cbiAgICAgKlxuICAgICAqL1xuICAgIHNjcm9sbFRvQm90dG9tKCkge1xuICAgICAgICB0aGlzLnRhZy5hbmltYXRlKHtcbiAgICAgICAgICAgIHNjcm9sbFRvcDogdGhpcy50YWcucHJvcChcInNjcm9sbEhlaWdodFwiKSAtIHRoaXMudGFnLnByb3AoXCJjbGllbnRIZWlnaHRcIilcbiAgICAgICAgfSwgNTAwKTtcbiAgICB9O1xuXG59IiwiaW1wb3J0IHtzbHVnfSBmcm9tIFwiLi91dGlsaXRpZXNcIjtcblxuLy8gVE9ETzogZWRpdG9yLmJtLmJsb2NrRWRpdG9yLmV4dHJhVG9vbHNbXVxuXG5leHBvcnQgbGV0IF9JTVBPUlRFRF9EQVRBU0VUUyA9IHt9O1xuZXhwb3J0IGxldCBfSU1QT1JURURfQ09NUExFVEVfREFUQVNFVFMgPSB7fTtcblxuLyoqXG4gKiBUaGlzIGlzIGEgdmVyeSBzaW1wbGlzdGljIGhlbHBlciBmdW5jdGlvbiB0aGF0IHdpbGwgdHJhbnNmb3JtXG4gKiBhIGdpdmVuIGJ1dHRvbiBpbnRvIGEgXCJMb2FkZWRcIiBzdGF0ZSAoZGlzYWJsZWQsIHByZXNzZWQgc3RhdGUsIGV0Yy4pLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGJ0biAtIEFuIEhUTUwgZWxlbWVudCB0byBjaGFuZ2UgdGhlIHRleHQgb2YuXG4gKi9cbmxldCBzZXRCdXR0b25Mb2FkZWQgPSBmdW5jdGlvbiAoYnRuKSB7XG4gICAgYnRuLmFkZENsYXNzKFwiYWN0aXZlXCIpXG4gICAgICAgIC5hZGRDbGFzcyhcImJ0bi1zdWNjZXNzXCIpXG4gICAgICAgIC5yZW1vdmVDbGFzcyhcImJ0bi1wcmltYXJ5XCIpXG4gICAgICAgIC5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSlcbiAgICAgICAgLnRleHQoXCJMb2FkZWRcIilcbiAgICAgICAgLmF0dHIoXCJhcmlhLXByZXNzZWRcIiwgXCJ0cnVlXCIpO1xufTtcblxuXG4vKipcbiAqIE1vZHVsZSB0aGF0IGNvbm5lY3RzIHRvIHRoZSBDT1JHSVMgZGF0YXNldHMgYW5kIG1hbmFnZXMgaW50ZXJhY3Rpb25zXG4gKiB3aXRoIHRoZW0uIFRoaXMgaW5jbHVkZXMgbG9hZGluZyBpbiBkYXRhc2V0cyBhdCBsYXVuY2ggYW5kIG9uLXRoZS1mbHkuXG4gKiBOb3RlIHRoYXQgdGhpcyBoYXMgbm8gcHJlc2VuY2Ugb24gc2NyZWVuLCBzbyBpdCBkb2VzIG5vdCBoYXZlIGEgdGFnLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHRoaXMge0Jsb2NrUHlDb3JnaXN9XG4gKiBAcGFyYW0ge09iamVjdH0gbWFpbiAtIFRoZSBtYWluIEJsb2NrUHkgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEJsb2NrUHlDb3JnaXMobWFpbikge1xuICAgIHRoaXMubWFpbiA9IG1haW47XG5cbiAgICB0aGlzLmxvYWRlZERhdGFzZXRzID0gW107XG4gICAgdGhpcy5sb2FkRGF0YXNldHMoKTtcbn1cblxuQmxvY2tQeUNvcmdpcy5wcm90b3R5cGUubG9hZERhdGFzZXRzID0gZnVuY3Rpb24gKHNpbGVudGx5KSB7XG4gICAgLy8gTG9hZCBpbiBlYWNoIHRoZSBkYXRhc2V0c1xuICAgIGxldCBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbCxcbiAgICAgICAgZWRpdG9yID0gdGhpcy5tYWluLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLFxuICAgICAgICBzZXJ2ZXIgPSB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXI7XG4gICAgbGV0IGltcG9ydHMgPSBbXTtcbiAgICBtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRhdGFzZXRzKCkuc3BsaXQoXCIsXCIpLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgaWYgKG5hbWUgJiYgIShuYW1lIGluIEJsb2NrTWlycm9yQmxvY2tFZGl0b3IuRVhUUkFfVE9PTFMpKSB7XG4gICAgICAgICAgICBpbXBvcnRzLnB1c2guYXBwbHkoaW1wb3J0cywgdGhpcy5pbXBvcnREYXRhc2V0KHNsdWcobmFtZSksIG5hbWUsIHNpbGVudGx5KSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFdoZW4gZGF0YXNldHMgYXJlIGxvYWRlZCwgdXBkYXRlIHRoZSB0b29sYm94LlxuICAgICQud2hlbi5hcHBseSgkLCBpbXBvcnRzKS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIlRSSUdHRVJFRFwiKTtcbiAgICAgICAgZWRpdG9yLmJtLmZvcmNlQmxvY2tSZWZyZXNoKCk7XG4gICAgICAgIGVkaXRvci5ibS5ibG9ja0VkaXRvci5yZW1ha2VUb29sYm94KCk7XG4gICAgfSkuZmFpbChmdW5jdGlvbiAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH0pLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlcnZlci5maW5hbGl6ZVN1YnNjcmlwdGlvbnMoKTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogTG9hZHMgdGhlIGRlZmluaXRpb25zIGZvciBhIGRhdGFzZXQgaW50byB0aGUgZW52aXJvbm1lbnQsIGluY2x1ZGluZ1xuICogdGhlIGRhdGFzZXQgKGFzIGEgSlMgZmlsZSksIHRoZSBza3VscHQgYmluZGluZ3MsIGFuZCB0aGUgYmxvY2tseVxuICogYmluZGluZ3MuIFRoaXMgcmVxdWlyZXMgYWNjZXNzIHRvIGEgQ09SR0lTIHNlcnZlciwgYW5kIG9jY3Vyc1xuICogYXN5bmNocm9ub3VzbHkuIFRoZSByZXF1ZXN0cyBhcmUgZmlyZWQgYW5kIHRoZWlyIGRlZmVycmVkIG9iamVjdHNcbiAqIGFyZSByZXR1cm5lZCAtIGNhbGxlcnMgY2FuIHVzZSB0aGlzIGluZm9ybWF0aW9uIHRvIHBlcmZvcm0gYW4gYWN0aW9uXG4gKiBvbiBjb21wbGV0aW9uIG9mIHRoZSBpbXBvcnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHNsdWcgLSBUaGUgVVJMIHNhZmUgdmVyc2lvbiBvZiB0aGUgZGF0YXNldCBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIFRoZSB1c2VyLWZyaWVuZGx5IHZlcnNpb24gb2YgdGhlIGRhdGFzZXQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheS48RGVmZXJyZWQ+fSAtIFJldHVybnMgdGhlIGFzeW5jIHJlcXVlc3RzIGFzIGRlZmVycmVkIG9iamVjdHMuXG4gKi9cbkJsb2NrUHlDb3JnaXMucHJvdG90eXBlLmltcG9ydERhdGFzZXQgPSBmdW5jdGlvbiAoc2x1ZywgbmFtZSkge1xuICAgIGxldCB1cmxfcmV0cmlldmFscyA9IFtdO1xuICAgIGlmICh0aGlzLm1haW4ubW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJpbXBvcnREYXRhc2V0c1wiKSkge1xuICAgICAgICBsZXQgcm9vdCA9IHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLnVybHMuaW1wb3J0RGF0YXNldHMgKyBcImJsb2NrcHkvXCIgKyBzbHVnICsgXCIvXCIgKyBzbHVnO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5sb2FkaW5nRGF0YXNldHMucHVzaChuYW1lKTtcbiAgICAgICAgLy8gQWN0dWFsbHkgZ2V0IGRhdGFcbiAgICAgICAgbGV0IGdldERhdGFzZXQgPSAkLmdldFNjcmlwdChyb290ICsgXCJfZGF0YXNldC5qc1wiKTtcbiAgICAgICAgLy8gTG9hZCBnZXRDb21wbGV0ZSBzaWxlbnRseSBpbiB0aGUgYmFja2dyb3VuZCBiZWNhdXNlIGl0cyBiaWcgOihcbiAgICAgICAgbGV0IGdldENvbXBsZXRlID0gJC5nZXRTY3JpcHQocm9vdCArIFwiX2NvbXBsZXRlLmpzXCIpO1xuICAgICAgICBsZXQgZ2V0U2t1bHB0ID0gJC5nZXQocm9vdCArIFwiX3NrdWxwdC5qc1wiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgU2suYnVpbHRpbkZpbGVzW1wiZmlsZXNcIl1bXCJzcmMvbGliL1wiICsgc2x1ZyArIFwiL19faW5pdF9fLmpzXCJdID0gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBnZXRCbG9ja2x5ID0gJC5nZXRTY3JpcHQocm9vdCArIFwiX2Jsb2NrbHkuanNcIik7XG4gICAgICAgIC8vIE9uIGNvbXBsZXRpb24sIHVwZGF0ZSBtZW51cy5cbiAgICAgICAgJC53aGVuKGdldERhdGFzZXQsIGdldFNrdWxwdCwgZ2V0QmxvY2tseSkuZG9uZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvYWRlZERhdGFzZXRzLnB1c2goc2x1Zyk7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5weXRob25FZGl0b3IuYm0udGV4dFRvQmxvY2tzLmhpZGRlbkltcG9ydHMucHVzaChzbHVnKTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnB5dGhvbkVkaXRvci5ibS5mb3JjZUJsb2NrUmVmcmVzaCgpO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLmJtLmJsb2NrRWRpdG9yLnJlbWFrZVRvb2xib3goKTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LmxvYWRpbmdEYXRhc2V0cy5yZW1vdmUobmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB1cmxfcmV0cmlldmFscy5wdXNoKGdldERhdGFzZXQsIGdldFNrdWxwdCwgZ2V0QmxvY2tseSk7XG4gICAgfVxuICAgIHJldHVybiB1cmxfcmV0cmlldmFscztcbn07XG5cbi8qKlxuICogT3BlbnMgYSBkaWFsb2cgYm94IHRvIHByZXNlbnQgdGhlIHVzZXIgd2l0aCB0aGUgZGF0YXNldHMgYXZhaWxhYmxlXG4gKiB0aHJvdWdoIHRoZSBDT1JHSVMgc2VydmVyLiBUaGlzIHJlcXVpcmVzIGEgY2FsbCwgc28gdGhpcyBtZXRob2RcbiAqIGNvbXBsZXRlcyBhc3luY2hyb25vdXNseS4gVGhlIGRpYWxvZyBpcyBjb21wb3NlZCBvZiBhIHRhYmxlIHdpdGhcbiAqIGJ1dHRvbnMgdG8gbG9hZCB0aGUgZGF0YXNldHMgKE1vcmUgdGhhbiBvbmUgZGF0YXNldCBjYW4gYmUgbG9hZGVkXG4gKiBmcm9tIHdpdGhpbiB0aGUgZGlhbG9nIGF0IGEgdGltZSkuXG4gKi9cbkJsb2NrUHlDb3JnaXMucHJvdG90eXBlLm9wZW5EaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubWFpbi5tb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcImltcG9ydERhdGFzZXRzXCIpKSB7XG4gICAgICAgIGxldCByb290ID0gdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24udXJscy5pbXBvcnREYXRhc2V0cztcbiAgICAgICAgJC5nZXRKU09OKHJvb3QgKyBcImluZGV4Lmpzb25cIiwgIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAvLyBNYWtlIHVwIHRoZSBCb2R5XG4gICAgICAgICAgICBsZXQgZGF0YXNldHMgPSBkYXRhLmJsb2NrcHk7XG4gICAgICAgICAgICBsZXQgZG9jdW1lbnRhdGlvbiA9IHJvb3QrXCJibG9ja3B5L2luZGV4Lmh0bWxcIjtcbiAgICAgICAgICAgIGxldCBzdGFydCA9ICQoYDxwPkRvY3VtZW50YXRpb24gaXMgYXZhaWxhYmxlIGF0IDxhIGhyZWY9JyR7ZG9jdW1lbnRhdGlvbn0nIHRhcmdldD1fYmxhbms+dXJsPC9hPjwvcD5gKTtcbiAgICAgICAgICAgIGxldCBib2R5ID0gJChcIjx0YWJsZT48L3RhYmxlPlwiLCB7XCJjbGFzc1wiOiBcInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLXNtIHRhYmxlLXN0cmlwZWRcIn0pO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZGF0YXNldHMpLnNvcnQoKS5tYXAoKG5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgc2x1Z2dlZE5hbWUgPSBzbHVnKGRhdGFzZXRzW25hbWVdLm5hbWUpO1xuICAgICAgICAgICAgICAgIGxldCB0aXRsZU5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgICAgIGxldCBidG4gPSAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIGRhdGEtdG9nZ2xlPVwiYnV0dG9uXCIgYXJpYS1wcmVzc2VkPVwiZmFsc2VcIiBhdXRvY29tcGxldGU9XCJvZmZcIj5Mb2FkPC9idXR0b24+Jyk7XG4gICAgICAgICAgICAgICAgbGV0IGltZ1NyYyA9IHJvb3QrXCIuLi9pbWFnZXMvZGF0YXNldHMvXCIrbmFtZStcIi1pY29uLnBuZ1wiO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxvYWRlZERhdGFzZXRzLmluZGV4T2Yoc2x1Z2dlZE5hbWUpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0QnV0dG9uTG9hZGVkKGJ0bik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnRuLmNsaWNrKCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmltcG9ydERhdGFzZXQoc2x1Z2dlZE5hbWUsIFwiRGF0YSAtIFwiICsgZGF0YXNldHNbbmFtZV0udGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnV0dG9uTG9hZGVkKGJ0bik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL2xldCBpbWcgPSBgPGltZyBzcmM9JyR7aW1nU3JjfScgY2xhc3M9XCJjb3JnaXMtaWNvblwiPmA7XG4gICAgICAgICAgICAgICAgJChcIjx0cj48L3RyPlwiKVxuICAgICAgICAgICAgICAgICAgICAvLy5hcHBlbmQoJChcIjx0ZD5cIiArIGltZyArIFwiPC90ZD5cIikpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJChcIjx0ZD5cIiArIGRhdGFzZXRzW25hbWVdLnRpdGxlICsgXCI8L3RkPlwiKSlcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKFwiPHRkPlwiICsgZGF0YXNldHNbbmFtZV0ub3ZlcnZpZXcgKyBcIjwvdGQ+XCIpKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoXCI8dGQ+PC90ZD5cIikuYXBwZW5kKGJ0bikpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhib2R5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYm9keS5hcHBlbmRUbyhzdGFydCk7XG4gICAgICAgICAgICAvLyBTaG93IHRoZSBhY3R1YWwgZGlhbG9nXG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuc2hvdyhcIkltcG9ydCBEYXRhc2V0c1wiLCBzdGFydCwgbnVsbCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbiIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuICAgIGlmKG1vZHVsZS5ob3QpIHtcbiAgICAgIC8vIDE2NjY5NDgwNzIzOTlcbiAgICAgIHZhciBjc3NSZWxvYWQgPSByZXF1aXJlKFwiL2hvbWUva2hpbmcvRGVza3RvcC9jb3JnaXMtYmxvY2tseS9ibG9ja3B5LWVkdS9ibG9ja3B5L25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2htci9ob3RNb2R1bGVSZXBsYWNlbWVudC5qc1wiKShtb2R1bGUuaWQsIHtcInB1YmxpY1BhdGhcIjpcIi4uL1wiLFwiaG1yXCI6dHJ1ZSxcImxvY2Fsc1wiOmZhbHNlfSk7XG4gICAgICBtb2R1bGUuaG90LmRpc3Bvc2UoY3NzUmVsb2FkKTtcbiAgICAgIG1vZHVsZS5ob3QuYWNjZXB0KHVuZGVmaW5lZCwgY3NzUmVsb2FkKTtcbiAgICB9XG4gICIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuICAgIGlmKG1vZHVsZS5ob3QpIHtcbiAgICAgIC8vIDE2NjY5NDgwNzI0MDlcbiAgICAgIHZhciBjc3NSZWxvYWQgPSByZXF1aXJlKFwiL2hvbWUva2hpbmcvRGVza3RvcC9jb3JnaXMtYmxvY2tseS9ibG9ja3B5LWVkdS9ibG9ja3B5L25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2htci9ob3RNb2R1bGVSZXBsYWNlbWVudC5qc1wiKShtb2R1bGUuaWQsIHtcInB1YmxpY1BhdGhcIjpcIi4uL1wiLFwiaG1yXCI6dHJ1ZSxcImxvY2Fsc1wiOmZhbHNlfSk7XG4gICAgICBtb2R1bGUuaG90LmRpc3Bvc2UoY3NzUmVsb2FkKTtcbiAgICAgIG1vZHVsZS5ob3QuYWNjZXB0KHVuZGVmaW5lZCwgY3NzUmVsb2FkKTtcbiAgICB9XG4gICIsIi8vIFRPRE86IER5YW5taWNhbGx5IHBvcHVsYXRlIGFyaWEtbGFiZWxsZWRieSBpbiB0aGlzIGFuZCBvdGhlciBwbGFjZXNcblxuZXhwb3J0IGxldCBESUFMT0dfSFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPSdibG9ja3B5LWRpYWxvZyBtb2RhbCBoaWRkZW4nXG4gICAgICAgICByb2xlPVwiZGlhbG9nXCJcbiAgICAgICAgIGFyaWEtbGFiZWw9J0RpYWxvZydcbiAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgICAgICBhcmlhLW1vZGFsPVwidHJ1ZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPSdtb2RhbC1kaWFsb2cgbW9kYWwtbGcnIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0nbW9kYWwtY29udGVudCcgcm9sZT0ncmVnaW9uJyBhcmlhLWxhYmVsPSdEaWFsb2cgY29udGVudCc+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nbW9kYWwtaGVhZGVyJz5cbiAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPSdtb2RhbC10aXRsZSc+RHluYW1pYyBDb250ZW50PC9oND5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdjbG9zZScgZGF0YS1kaXNtaXNzPSdtb2RhbCcgYXJpYS1oaWRkZW49J3RydWUnPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nbW9kYWwtYm9keScgc3R5bGU9J21heC13aWR0aDoxMDAlOyBtYXgtaGVpZ2h0OjQwMHB4Jz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdtb2RhbC1mb290ZXInPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2J0biBidG4td2hpdGUgbW9kYWwtY2xvc2UnIGRhdGEtZGlzbWlzcz0nbW9kYWwnPkNsb3NlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0nYnRuIGJ0bi1zdWNjZXNzIG1vZGFsLW9rYXknIGRhdGEtZGlzbWlzcz0nbW9kYWwnPk9rYXk8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj4gICAgXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5gO1xuXG4vKipcbiAqIEEgdXRpbGl0eSBvYmplY3QgZm9yIHF1aWNrbHkgYW5kIGNvbnZlbmllbnRseSBnZW5lcmF0aW5nIGRpYWxvZyBib3hlcy5cbiAqIFVuZm9ydHVuYXRlbHksIHRoaXMgZG9lc24ndCBkeW5hbWljYWxseSBjcmVhdGUgbmV3IGJveGVzOyBpdCByZXVzZXMgdGhlIHNhbWUgb25lXG4gKiBvdmVyIGFuZCBvdmVyIGFnYWluLiBJdCB0dXJucyBvdXQgZHluYW1pY2FsbHkgZ2VuZXJhdGluZyBuZXcgZGlhbG9nIGJveGVzXG4gKiBpcyBhIHBhaW4hIFNvIHdlIGNhbid0IHN0YWNrIHRoZW0uXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAdGhpcyB7QmxvY2tQeURpYWxvZ31cbiAqIEBwYXJhbSB7T2JqZWN0fSBtYWluIC0gVGhlIG1haW4gQmxvY2tQeSBpbnN0YW5jZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFnIC0gVGhlIEhUTUwgb2JqZWN0IHRoaXMgaXMgYXR0YWNoZWQgdG8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBCbG9ja1B5RGlhbG9nKG1haW4sIHRhZykge1xuICAgIHRoaXMubWFpbiA9IG1haW47XG4gICAgdGhpcy50YWcgPSB0YWc7XG5cbiAgICB0aGlzLnRpdGxlVGFnID0gdGFnLmZpbmQoXCIubW9kYWwtdGl0bGVcIik7XG4gICAgdGhpcy5ib2R5VGFnID0gdGFnLmZpbmQoXCIubW9kYWwtYm9keVwiKTtcbiAgICB0aGlzLmZvb3RlclRhZyA9IHRhZy5maW5kKFwiLm1vZGFsLWZvb3RlclwiKTtcbiAgICB0aGlzLm9rYXlCdXR0b24gPSB0YWcuZmluZChcIi5tb2RhbC1va2F5XCIpO1xuICAgIHRoaXMuY2xvc2VCdXR0b24gPSB0YWcuZmluZChcIi5tb2RhbC1jbG9zZVwiKTtcblxuICAgIHRoaXMueWVzID0gKCkgPT4ge307XG4gICAgdGhpcy5ubyA9ICgpID0+IHt9O1xuICAgIHRoaXMub2theUJ1dHRvbi5jbGljaygoKSA9PiB7XG4gICAgICAgIHRoaXMueWVzKCk7XG4gICAgICAgIHRoaXMudGFnLm1vZGFsKFwiaGlkZVwiKTtcbiAgICB9KTtcbiAgICB0aGlzLmNsb3NlQnV0dG9uLmNsaWNrKCgpID0+IHtcbiAgICAgICAgdGhpcy5ubygpO1xuICAgICAgICAvL3RoaXMudGFnLm1vZGFsKFwiaGlkZVwiKTtcbiAgICB9KTtcbn1cblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy50YWcubW9kYWwoXCJoaWRlXCIpO1xufTtcblxuLyoqXG4gKiBBIHNpbXBsZSBleHRlcm5hbGx5IGF2YWlsYWJsZSBmdW5jdGlvbiBmb3IgcG9wcGluZyB1cCBhIGRpYWxvZ1xuICogbWVzc2FnZS4gVGhpcyBtZW51IHdpbGwgYmUgZHJhZ2dhYmxlIGJ5IGl0cyB0aXRsZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdGl0bGUgLSBUaGUgdGl0bGUgb2YgdGhlIG1lc3NhZ2UgZGlhbG9nLiBDYW4gaGF2ZSBIVE1MLlxuICogQHBhcmFtIHtTdHJpbmd9IGJvZHkgLSBUaGUgYm9keSBvZiB0aGUgbWVzc2FnZSBkaWFsb2cuIENhbiBoYXZlIEhUTUwuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBvbmNsb3NlIC0gQSBmdW5jdGlvbiB0byBiZSBydW4gd2hlbiB0aGUgdXNlciBjbG9zZXMgdGhlIGRpYWxvZy5cbiAqL1xuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICh0aXRsZSwgYm9keSwgb25jbG9zZSkge1xuICAgIHRoaXMudGl0bGVUYWcuaHRtbCh0aXRsZSk7XG4gICAgdGhpcy5ib2R5VGFnLmh0bWwoYm9keSk7XG4gICAgdGhpcy50YWcubW9kYWwoXCJzaG93XCIpO1xuICAgIHRoaXMub2theUJ1dHRvbi5oaWRlKCk7XG4gICAgdGhpcy50YWcuZHJhZ2dhYmxlKHtcbiAgICAgICAgXCJoYW5kbGVcIjogXCIubW9kYWwtdGl0bGVcIlxuICAgIH0pO1xuXG4gICAgdGhpcy50YWcub24oXCJoaWRkZW4uYnMubW9kYWxcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKG9uY2xvc2UgIT09IHVuZGVmaW5lZCAmJiBvbmNsb3NlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBvbmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLmNvbmZpcm0gPSBmdW5jdGlvbiAodGl0bGUsIGJvZHksIHllcywgbm8sIHllc1RleHQpIHtcbiAgICBpZiAoeWVzVGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHllc1RleHQgPSBcIk9rYXlcIjtcbiAgICB9XG4gICAgdGhpcy5zaG93KHRpdGxlLCBib2R5LCBubyk7XG4gICAgdGhpcy55ZXMgPSB5ZXM7XG4gICAgdGhpcy5ubyA9IG5vO1xuICAgIHRoaXMub2theUJ1dHRvbi5zaG93KCkuaHRtbCh5ZXNUZXh0KTtcbiAgICAvLyBUT0RPOiBhZGQgb2theSBidXR0b24gYW5kIGNhbmNlbCBidXR0b25cbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLkFTU0lHTk1FTlRfVkVSU0lPTl9DSEFOR0VEID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuY29uZmlybShcIkFzc2lnbm1lbnQgQ2hhbmdlZFwiLCBcIllvdXIgaW5zdHJ1Y3RvciBoYXMgbWFkZSBjaGFuZ2VzIHRvIHRoaXMgYXNzaWdubWVudC4gV291bGQgeW91IGxpa2UgdG8gcmVsb2FkPyBBbGwgeW91ciB3b3JrIGhhcyBiZWVuIHNhdmVkLlwiLCk7XG59O1xuXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5FUlJPUl9MT0FESU5HX0FTU0lHTk1ORU5UID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRoaXMuc2hvdyhcIkVycm9yIExvYWRpbmcgQXNzaWdubWVudFwiLCBgQmxvY2tQeSBlbmNvdW50ZXJlZCBhbiBlcnJvciB3aGlsZSBsb2FkaW5nIHRoZSBhc3NpZ25tZW50Ljxicj5cblBsZWFzZSByZWxvYWQgdGhlIHBhZ2UgYW5kIHRyeSBhZ2Fpbi48YnI+UmVzcG9uc2UgZnJvbSBzZXJ2ZXIgd2FzOjxicj48cHJlPiR7cmVhc29ufTwvcHJlPmAsKTtcbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLkVSUk9SX1NIT1dfU1RVREVOVF9FUlJPUiA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIHRoaXMuc2hvdyhcIk9yaWdpbmFsIEVycm9yXCIsIGBXaGVuIEkgcmFuIHlvdXIgY29kZSwgSSBlbmNvdW50ZXJlZCBhbiBlcnJvcjpcXG5cXG48ZGl2IGNsYXNzPVwiYmxvY2tweS1kaWFsb2ctc3R1ZGVudC1lcnJvci1tZXNzYWdlXCI+JHtlcnJvcn08L2Rpdj5gKTtcbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLlBPU0lUSVZFX0ZFRURCQUNLX0ZVTEwgPSBmdW5jdGlvbiAodGl0bGUsIG1lc3NhZ2UpIHtcbiAgICB0aGlzLnNob3codGl0bGUsIG1lc3NhZ2UpO1xufTtcblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuU0NSRUVOU0hPVF9CTE9DS1MgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVE9ET1xufTtcblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuRVJST1JfVVBEQVRJTkdfU1VCTUlTU0lPTl9TVEFUVVMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zaG93KFwiRXJyb3IgVXBkYXRpbmcgU3VibWlzc2lvbiBTdGF0dXNcIiwgYEJsb2NrUHkgZW5jb3VudGVyZWQgYW4gZXJyb3Igd2hpbGUgdXBkYXRpbmcgeW91ciBzdWJtaXNzaW9uIHN0YXR1cy48YnI+XG5QbGVhc2UgcmVsb2FkIHRoZSBwYWdlIGFuZCB0cnkgYWdhaW4uYCk7XG59O1xuXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5FUlJPUl9MT0FESU5HX0hJU1RPUlkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zaG93KFwiRXJyb3IgTG9hZGluZyBIaXN0b3J5XCIsIGBCbG9ja1B5IGVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIGxvYWRpbmcgeW91ciBoaXN0b3J5Ljxicj5cblBsZWFzZSByZWxvYWQgdGhlIHBhZ2UgYW5kIHRyeSBhZ2Fpbi5gKTtcbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLkVESVRfSU5QVVRTID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBpbnB1dFRleHQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0KCkuam9pbihcIlxcblwiKTtcbiAgICBsZXQgY2xlYXJJbnB1dHMgPSB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5jbGVhcklucHV0cygpID8gXCJcIiA6IFwiY2hlY2tlZFwiO1xuICAgIGxldCB5ZXMgPSAoKSA9PiB7XG4gICAgICAgIGxldCBjaGVja2VkID0gdGhpcy50YWcuZmluZChcIi5ibG9ja3B5LXJlbWVtYmVyLWlucHV0c1wiKS5wcm9wKFwiY2hlY2tlZFwiKTtcbiAgICAgICAgbGV0IGlucHV0cyA9IHRoaXMudGFnLmZpbmQoXCIuYmxvY2tweS1pbnB1dC1saXN0XCIpLnZhbCgpLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5jbGVhcklucHV0cyghY2hlY2tlZCk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXQoaW5wdXRzKTtcbiAgICB9O1xuICAgIHRoaXMuY29uZmlybShcIkVkaXQgUmVtZW1iZXJlZCBJbnB1dHNcIiwgYFxuXG48ZGl2IGNsYXNzPVwiZm9ybS1jaGVja1wiPlxuPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwiYmxvY2tweS1yZW1lbWJlci1pbnB1dHMgZm9ybS1jaGVjay1pbnB1dFwiXG4gICAgICAgIG5hbWU9XCJibG9ja3B5LXJlbWVtYmVyLWlucHV0c1wiICR7Y2xlYXJJbnB1dHN9PlxuPGxhYmVsIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbFwiIGZvcj1cImJsb2NrcHktcmVtZW1iZXItaW5wdXRzXCI+UmV1c2UgaW5wdXRzIGZvciBuZXh0IGV4ZWN1dGlvbjwvbGFiZWw+XG48L2Rpdj5cblxuPHRleHRhcmVhIGNsYXNzPVwiYmxvY2tweS1pbnB1dC1saXN0IGZvcm0tY29udHJvbFwiIHJvd3M9XCI0XCI+JHtpbnB1dFRleHR9PC90ZXh0YXJlYT48YnI+XG5FZGl0IHRoZSBpbnB1dHMgYWJvdmUgdG8gc3RvcmUgYW5kIHJldXNlIHRoZW0gYWNyb3NzIG11bHRpcGxlIGV4ZWN1dGlvbnMuXG5FYWNoIGlucHV0IHNob3VsZCBiZSBwdXQgb24gaXRzIG93biBsaW5lLlxuWW91IGRvIG5vdCBuZWVkIHF1b3RlczsgdGhlIHRleHQgd2lsbCBiZSBlbnRlcmVkIGxpdGVyYWxseS5cbiBcbmAsIHllcywgdGhpcy5ubywgXCJTYXZlXCIpO1xuICAgIC8vIFRPRE86IEFsbG93IHVzZXIgdG8gc3BlY2lmeSB0aGUgaW5maW5pdGUgc3RyaW5nIHRvIGtlZXAgZ2l2aW5nIHdoZW4gdGhlIG90aGVycyBydW4gb3V0XG59OyIsImltcG9ydCB7RWRpdG9yc30gZnJvbSBcIi4uL2VkaXRvcnNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHVwbG9hZEZpbGUobW9kZWwsIGV2ZW50KSB7XG4gICAgbGV0IGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIGxldCBmaWxlcyA9IGV2ZW50LnRhcmdldC5maWxlcztcbiAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IChlID0+XG4gICAgICAgIG1vZGVsLnVpLmVkaXRvcnMuY3VycmVudCgpLnVwbG9hZEZpbGUoZSlcbiAgICApO1xuICAgIGZpbGVSZWFkZXIuZmlsZU5hbWUgPSBmaWxlc1swXS5uYW1lO1xuICAgIGZpbGVSZWFkZXIucmVhZEFzVGV4dChmaWxlc1swXSk7XG4gICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gXCJcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNsdWdnaWZ5KHRleHQpIHtcbiAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9bXmEtejAtOV0vZ2ksIFwiX1wiKS50b0xvd2VyQ2FzZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG93bmxvYWRGaWxlKG1vZGVsLCBldmVudCkge1xuICAgIGxldCB7bmFtZSwgZXh0ZW5zaW9uLCBjb250ZW50cywgbWltZXR5cGV9ID0gbW9kZWwudWkuZWRpdG9ycy5jdXJyZW50KCkuZG93bmxvYWRGaWxlKCk7XG4gICAgLy8gTWFrZSBzYWZlXG4gICAgbmFtZSA9IHNsdWdnaWZ5KG5hbWUpO1xuICAgIG5hbWUgPSBuYW1lICsgZXh0ZW5zaW9uO1xuICAgIC8vIE1ha2UgdGhlIGRhdGEgZG93bmxvYWQgYXMgYSBmaWxlXG4gICAgbGV0IGJsb2IgPSBuZXcgQmxvYihbY29udGVudHNdLCB7dHlwZTogbWltZXR5cGV9KTtcbiAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKSB7XG4gICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCBuYW1lKTtcbiAgICB9IGVsc2V7XG4gICAgICAgIGxldCB0ZW1wb3JhcnlEb3dubG9hZExpbmsgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgIHRlbXBvcmFyeURvd25sb2FkTGluay5ocmVmID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIHRlbXBvcmFyeURvd25sb2FkTGluay5kb3dubG9hZCA9IG5hbWU7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGVtcG9yYXJ5RG93bmxvYWRMaW5rKTtcbiAgICAgICAgdGVtcG9yYXJ5RG93bmxvYWRMaW5rLmNsaWNrKCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGVtcG9yYXJ5RG93bmxvYWRMaW5rKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBYnN0cmFjdEVkaXRvciB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgdGFnKSB7XG4gICAgICAgIHRoaXMubWFpbiA9IG1haW47XG4gICAgICAgIHRoaXMudGFnID0gdGFnO1xuXG4gICAgICAgIHRoaXMuZmlsZVN5c3RlbSA9IG1haW4uY29tcG9uZW50cy5maWxlU3lzdGVtO1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWxlID0gbnVsbDtcbiAgICB9XG5cbiAgICBkZWxldGVGaWxlKCkge1xuICAgICAgICB0aGlzLmZpbGVTeXN0ZW0uZGVsZXRlRmlsZSh0aGlzLmZpbGVuYW1lKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuZmlsZW5hbWUoXCJhbnN3ZXIucHlcIik7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmVkaXRvcnMuY2hhbmdlRWRpdG9yKFwiYW5zd2VyLnB5XCIpO1xuICAgIH1cblxuICAgIG9uRmlsZURlbGV0ZWQoKSB7XG4gICAgICAgIC8vIFRPRE86IFN3aXRjaCB0byB0aGUgcHJldmlvdXMgZmlsZSBpbnN0ZWFkIG9mIGEgZGVmYXVsdCBmaWxlXG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LmZpbGVuYW1lKFwiYW5zd2VyLnB5XCIpO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5lZGl0b3JzLmNoYW5nZUVkaXRvcihcImFuc3dlci5weVwiKTtcbiAgICB9XG5cbiAgICBvbkZpbGVVcGRhdGVkKGZpbGUpIHtcbiAgICAgICAgaWYgKGZpbGUuZmlsZW5hbWUgPT09IHRoaXMuZmlsZW5hbWUpIHtcbiAgICAgICAgICAgIC8vdGhpcy5maWxlID0gZmlsZTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmVkaXRvcnMuY2hhbmdlRWRpdG9yKHRoaXMuZmlsZW5hbWUpO1xuICAgICAgICAgICAgLy90aGlzLmZpbGVTeXN0ZW0uc3RvcFdhdGNoaW5nRmlsZSh0aGlzLmZpbGVuYW1lKTtcbiAgICAgICAgICAgIC8vdGhpcy50cmFja0N1cnJlbnRGaWxlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0cmFja0N1cnJlbnRGaWxlKCkge1xuICAgICAgICB0aGlzLmZpbGVTeXN0ZW0ud2F0Y2hGaWxlKHRoaXMuZmlsZW5hbWUsIHtcbiAgICAgICAgICAgIHVwZGF0ZWQ6IHRoaXMub25GaWxlVXBkYXRlZC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZGVsZXRlZDogdGhpcy5vbkZpbGVEZWxldGVkLmJpbmQodGhpcylcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcikge1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gbmV3RmlsZW5hbWU7XG4gICAgICAgIHRoaXMuZmlsZSA9IHRoaXMuZmlsZVN5c3RlbS5nZXRGaWxlKG5ld0ZpbGVuYW1lKTtcbiAgICAgICAgdGhpcy50cmFja0N1cnJlbnRGaWxlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmV3RmlsZW5hbWUgLSB0aGUgZmlsZW5hbWUgdGhhdCB0aGUgb3RoZXIgZWRpdG9yIHdpbGwgYmUgc3dpdGNoaW5nIHRvXG4gICAgICogQHBhcmFtIG9sZEVkaXRvclxuICAgICAqIEBwYXJhbSBuZXdFZGl0b3JcbiAgICAgKi9cbiAgICBleGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IsIG5ld0VkaXRvcikge1xuICAgICAgICB0aGlzLmZpbGVTeXN0ZW0uc3RvcFdhdGNoaW5nRmlsZSh0aGlzLmZpbGVuYW1lKTtcbiAgICAgICAgdGhpcy5maWxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWxlbmFtZSA9IG51bGw7XG4gICAgfVxuXG4gICAgdXBsb2FkRmlsZShldmVudCkge1xuICAgICAgICBsZXQgZmlsZW5hbWUgPSBldmVudC50YXJnZXQuZmlsZU5hbWU7XG4gICAgICAgIGxldCBjb250ZW50cyA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIHRoaXMuZmlsZS5oYW5kbGUoY29udGVudHMpO1xuICAgIH1cblxuICAgIGRvd25sb2FkRmlsZSgpIHtcbiAgICAgICAgbGV0IGZpbGVuYW1lID0gRWRpdG9ycy5wYXJzZUZpbGVuYW1lKHRoaXMuZmlsZW5hbWUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogZmlsZW5hbWUubmFtZSxcbiAgICAgICAgICAgIGV4dGVuc2lvbjogZmlsZW5hbWUudHlwZSxcbiAgICAgICAgICAgIGNvbnRlbnRzOiB0aGlzLmZpbGUuaGFuZGxlKCksXG4gICAgICAgICAgICBtaW1ldHlwZTogXCJ0ZXh0L3BsYWluXCJcbiAgICAgICAgfTtcbiAgICB9XG59IiwiaW1wb3J0IHtBYnN0cmFjdEVkaXRvcn0gZnJvbSBcIi4vYWJzdHJhY3RfZWRpdG9yXCI7XG5pbXBvcnQge0Rpc3BsYXlNb2Rlc30gZnJvbSBcIi4vcHl0aG9uXCI7XG5cbmNvbnN0IEFTU0lHTk1FTlRfU0VUVElOR1MgPSBbXG4gICAgW1widG9vbGJveFwiLCBcInRvb2xib3hcIiwgXCJub3JtYWxcIiwgXCJ0b29sYm94XCIsIFwiV2hpY2ggdmVyc2lvbiBvZiB0aGUgdG9vbGJveCB0byBwcmVzZW50IHRvIHRoZSB1c2VyLlwiXSxcbiAgICBbXCJwYXNzY29kZVwiLCBcInBhc3Njb2RlXCIsIFwiXCIsIFwic3RyaW5nXCIsIFwiQSBzdHJpbmcgdGhhdCB0aGUgdXNlciBtdXN0IGVudGVyIHRvIGFjY2VzcyB0aGUgcHJvYmxlbS4gSWYgYmxhbmssIHRoZW4gbm8gcGFzc2NvZGUgaXMgcHJvbXB0ZWQuXCJdLFxuICAgIC8vW1widG9vbGJveExldmVsXCIsIFwidG9vbGJveF9sZXZlbFwiLCBcIm5vcm1hbFwiLCBcInRvb2xib3hcIiwgXCJJTkNPTVBMRVRFOiBXaGF0IGxldmVsIG9mIHRvb2xib3ggdG8gcHJlc2VudCB0byB0aGUgdXNlciAoaGlkaW5nIGFuZCBzaG93aW5nIGNhdGVnb3JpZXMpLlwiXSxcbiAgICBbXCJzdGFydFZpZXdcIiwgXCJzdGFydF92aWV3XCIsIERpc3BsYXlNb2Rlcy5TUExJVCwgRGlzcGxheU1vZGVzLCBcIlRoZSBQeXRob24gZWRpdG9yIG1vZGUgdG8gc3RhcnQgaW4gd2hlbiB0aGUgc3R1ZGVudCBzdGFydHMgdGhlIHByb2JsZW0uXCJdLFxuICAgIFtcImRhdGFzZXRzXCIsIFwiZGF0YXNldHNcIiwgXCJcIiwgXCJzdHJpbmdcIiwgXCJUaGUgY3VycmVudCBsaXN0IG9mIGRhdGFzZXRzIGF2YWlsYWJsZSBvbiBsb2FkIGFzIGEgY29tbWEtc2VwYXJhdGVkIHN0cmluZy5cIl0sXG4gICAgW1wiZGlzYWJsZVRpbWVvdXRcIiwgXCJkaXNhYmxlX3RpbWVvdXRcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gc3R1ZGVudHMgY29kZSBpcyBhbGxvd2VkIHRvIHJ1biB3aXRob3V0IHRpbWVvdXRzIChwb3RlbnRpYWxseSBhbGxvd2luZyBpbmZpbml0ZSBsb29wcykuXCJdLFxuICAgIFtcImlzUGFyc29uc1wiLCBcImlzX3BhcnNvbnNcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdGhpcyBpcyBhIHBhcnNvbidzIHN0eWxlIHF1ZXN0aW9uIChqdW1ibGVkKS5cIl0sXG4gICAgW1wiZGlzYWJsZUZlZWRiYWNrXCIsIFwiZGlzYWJsZV9mZWVkYmFja1wiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiBubyBpbnN0cnVjdG9yIHNjcmlwdHMgYXJlIHJ1biAoZS5nLiwgb25fcnVuIGFuZCBvbl9ldmFsKS5cIl0sXG4gICAgW1wiZGlzYWJsZUluc3RydWN0b3JSdW5cIiwgXCJkaXNhYmxlX2luc3RydWN0b3JfcnVuXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHRoZSBpbnN0cnVjdG9yIG9uX3J1biB3aWxsIG5vdCBhdXRvbWF0aWNhbGx5IHJ1biB0aGUgc3R1ZGVudHMnIGNvZGUuIFRoaXMgc3RpbGwgcnVucyB0aGUgc3R1ZGVudHMnIGNvZGUuXCJdLFxuICAgIFtcImRpc2FibGVTdHVkZW50UnVuXCIsIFwiZGlzYWJsZV9zdHVkZW50X3J1blwiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0aGUgcnVuIGJ1dHRvbiBubyBsb25nZXIgcnVuIHRoZSBzdHVkZW50cycgY29kZS4gVGhpcyBzdGlsbCBydW5zIHRoZSBpbnN0cnVjdG9yJ3MgZmVlZGJhY2sgb25fcnVuIHNjcmlwdC5cIl0sXG4gICAgW1wiZGlzYWJsZVRpZmFcIiwgXCJkaXNhYmxlX3RpZmFcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gZG8gbm90IGF1dG9tYXRpY2FsbHkgcnVuIFRpZmEgKHdoaWNoIGNhbiBiZSBzbG93KS5cIl0sXG4gICAgW1wiZGlzYWJsZVRyYWNlXCIsIFwiZGlzYWJsZV90cmFjZVwiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0aGUgc3R1ZGVudHMgY29kZSB3aWxsIG5vdCBoYXZlIGl0cyBleGVjdXRpb24gdHJhY2VkIChubyB2YXJpYWJsZXMgcmVjb3JkZWQsIG5vIGNvdmVyYWdlIHRyYWNrZWQpLlwiXSxcbiAgICBbXCJkaXNhYmxlRWRpdFwiLCBcImRpc2FibGVfZWRpdFwiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0aGUgc3R1ZGVudHMnIGZpbGUgd2lsbCBub3QgYmUgZWRpdGFibGUuXCJdLFxuICAgIFtcImVuYWJsZUltYWdlc1wiLCBcImNhbl9pbWFnZVwiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB1c2VycyBjYW4gY29weS9wYXN0ZSBpbWFnZXMgZGlyZWN0bHkgaW50byB0aGUgdGV4dCBlZGl0b3IuXCJdLFxuICAgIFtcImVuYWJsZUJsb2Nrc1wiLCBcImNhbl9ibG9ja3NcIiwgdHJ1ZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0aGUgc3R1ZGVudCBjYW4gZWRpdCB0aGUgYmxvY2sgaW50ZXJmYWNlIChpZiBub3QsIHRoZW4gaXQgaXMgdmlzaWJsZSBidXQgbm90IGVkaXRhYmxlKS5cIl0sXG4gICAgW1wiY2FuQ2xvc2VcIiwgXCJjYW5fY2xvc2VcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdGhlIHN0dWRlbnQgc2hvdWxkIG1hcmsgdGhlaXIgc3VibWlzc2lvbiBjbG9zZWQgd2hlbiB0aGV5IGFyZSBkb25lLiBUaGVyZSBpcyBubyB3YXkgdG8gZm9yY2UgYSBzdHVkZW50IHRvIGRvIHNvLiBVbmxpa2UgUmV2aWV3ZWQsIHRoaXMgc3RpbGwgc3VibWl0cyB0aGUgY29ycmVjdG5lc3MuXCJdLFxuICAgIFtcIm9ubHlJbnRlcmFjdGl2ZVwiLCBcIm9ubHlfaW50ZXJhY3RpdmVcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZSBlZGl0b3JzIGFyZSBoaWRkZW4sIHRoZSBwcm9ncmFtIGlzIGF1dG9tYXRpY2FsbHkgcnVuLCBhbmQgdGhlbiB0aGUgY29uc29sZSBlbnRlcnMgRXZhbCBtb2RlIChpbnRlcmFjdGl2ZSkuXCJdLFxuICAgIFtcIm9ubHlVcGxvYWRzXCIsIFwib25seV91cGxvYWRzXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHRoZSBzdHVkZW50cycgZmlsZSB3aWxsIG5vdCBiZSBkaXJlY3RseSBlZGl0YWJsZSAodGhleSB3aWxsIGhhdmUgdG8gdXBsb2FkIHN1Ym1pc3Npb25zKS5cIl0sXG4gICAgLy8gV2hhdCBtZW51cy9mZWVkYmFjayB0byBzaG93IGFuZCBoaWRlXG4gICAgW1wiaGlkZVN1Ym1pc3Npb25cIiwgXCJoaWRlX3N1Ym1pc3Npb25cIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gc3R1ZGVudHMgd2lsbCBub3QgYmUgYWJsZSB0byBzZWUgdGhlaXIgc3VibWlzc2lvbidzIGNvZGUgb3IgaGlzdG9yeSBvbiBDYW52YXMuXCJdLFxuICAgIFtcImhpZGVGaWxlc1wiLCBcImhpZGVfZmlsZXNcIiwgdHJ1ZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiBzdHVkZW50cyB3aWxsIG5vdCBzZWUgdGhlIFZpZXcgRmlsZXMgdG9vbGJhci5cIl0sXG4gICAgW1wiaGlkZVF1ZXVlZElucHV0c1wiLCBcImhpZGVfcXVldWVkX2lucHV0c1wiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0aGUgc3R1ZGVudHMgY2Fubm90IGFjY2VzcyB0aGUgcXVldWVkIGlucHV0cyBib3ggKG1ha2VzIHJlcGVhdGVkIGRlYnVnZ2luZyBlYXNpZXIgZm9yIHRoZSBpbnB1dCBmdW5jdGlvbikuXCJdLFxuICAgIFtcImhpZGVFZGl0b3JzXCIsIFwiaGlkZV9lZGl0b3JzXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIGFsbCBvZiB0aGUgZWRpdG9ycyBhcmUgaGlkZGVuLlwiXSxcbiAgICBbXCJoaWRlTWlkZGxlUGFuZWxcIiwgXCJoaWRlX21pZGRsZV9wYW5lbFwiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0aGUgY29uc29sZSBhbmQgZmVlZGJhY2sgYXJlYXMgaXMgaGlkZGVuLlwiXSxcbiAgICBbXCJoaWRlQWxsXCIsIFwiaGlkZV9hbGxcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklOQ09NUExFVEU6IElmIGNoZWNrZWQsIHRoZW4gdGhlIGVudGlyZSBpbnRlcmZhY2UgaXMgaGlkZGVuLlwiXSxcbiAgICBbXCJoaWRlRXZhbHVhdGVcIiwgXCJoaWRlX2V2YWx1YXRlXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHRoZSBFdmFsdWF0ZSBidXR0b24gaXMgbm90IHNob3duIG9uIHRoZSBjb25zb2xlLlwiXSxcbiAgICBbXCJoaWRlSW1wb3J0RGF0YXNldHNCdXR0b25cIiwgXCJoaWRlX2ltcG9ydF9kYXRhc2V0c19idXR0b25cIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gc3R1ZGVudHMgY2Fubm90IHNlZSB0aGUgaW1wb3J0IGRhdGFzZXRzIGJ1dHRvbi5cIl0sXG4gICAgLy8gVE9ETzogRml4IHRoaXMgb25lIHRvIGJlIHNldHRhYmxlXG4gICAgW1wiaGlkZUltcG9ydFN0YXRlbWVudHNcIiwgXCJoaWRlX2ltcG9ydF9zdGF0ZW1lbnRzXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJTkNPTVBMRVRFOiBJZiBjaGVja2VkLCBjZXJ0YWluIGtpbmRzIG9mIGltcG9ydCBzdGF0ZW1lbnRzIChtYXRwbG90bGliLCB0dXJ0bGUsIGRhdGFzZXRzKSBhcmUgbm90IHNob3duIGluIHRoZSBibG9jayBpbnRlcmZhY2UuXCJdLFxuICAgIFtcImhpZGVDb3ZlcmFnZUJ1dHRvblwiLCBcImhpZGVfY292ZXJhZ2VfYnV0dG9uXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJTkNPTVBMRVRFOiBJZiBjaGVja2VkLCB0aGUgY292ZXJhZ2UgYnV0dG9uIGlzIG5vdCBzaG93bi5cIl0sXG4gICAgW1wic2F2ZVR1cnRsZU91dHB1dFwiLCBcInNhdmVfdHVydGxlX291dHB1dFwiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0dXJ0bGUgb3V0cHV0IGlzIHNhdmVkIHdoZW5ldmVyIHRoZSBwcm9ncmFtIHVzZXMgaXQuXCJdLFxuXTtcblxuZnVuY3Rpb24gZ2V0RG9jdW1lbnRhdGlvbihuYW1lKSB7XG4gICAgZm9yIChsZXQgaT0wOyBpIDwgQVNTSUdOTUVOVF9TRVRUSU5HUy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoQVNTSUdOTUVOVF9TRVRUSU5HU1tpXVswXSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIEFTU0lHTk1FTlRfU0VUVElOR1NbaV1bNF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFwiRG9jdW1lbnRhdGlvbiBub3QgZm91bmQgZm9yIGZpZWxkXCI7XG59XG5cbmZ1bmN0aW9uIG1ha2VTdGFydFZpZXdUYWIobmFtZSwgaWNvbiwgbW9kZSkge1xuICAgIHJldHVybiBgPGxhYmVsIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBibG9ja3B5LW1vZGUtc2V0LWJsb2Nrc1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY3NzOiB7YWN0aXZlOiBhc3NpZ25tZW50LnNldHRpbmdzLnN0YXJ0VmlldygpID09PSAnJHttb2RlfSd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGFzc2lnbm1lbnQuc2V0dGluZ3Muc3RhcnRWaWV3LmJpbmQoJGRhdGEsICcke21vZGV9JylcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLSR7aWNvbn0nPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImJsb2NrcHktc3RhcnQtdmlldy1zZXRcIiBhdXRvY29tcGxldGU9XCJvZmZcIiBjaGVja2VkPiAke25hbWV9XG4gICAgICAgICAgICA8L2xhYmVsPmA7XG59XG5cbmNvbnN0IEFTU0lHTk1FTlRfU0VUVElOR1NfQk9PTEVBTl9DT01QT05FTlRTX0hUTUwgPSBBU1NJR05NRU5UX1NFVFRJTkdTXG4gICAgLy8gT25seSBoYW5kbGUgdGhlIHNpbXBsZSBib29sZWFucyB0aGlzIHdheVxuICAgIC5maWx0ZXIoKHNldHRpbmcpID0+IHNldHRpbmdbM10gPT09IFwiYm9vbFwiKVxuICAgIC5tYXAoKHNldHRpbmcpID0+IHtcbiAgICAgICAgbGV0IHByZXR0eU5hbWUgPSBzZXR0aW5nWzFdLnNwbGl0KFwiX1wiKS5tYXAod29yZD0+KHdvcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrd29yZC5zbGljZSgxKSkpLmpvaW4oXCIgXCIpO1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMiB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbFwiIGZvcj1cImJsb2NrcHktc2V0dGluZ3MtJHtzZXR0aW5nWzBdfVwiPiR7cHJldHR5TmFtZX08L2xhYmVsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTFcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVja1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCIgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJibG9ja3B5LXNldHRpbmdzLSR7c2V0dGluZ1swXX1cIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjaGVja2VkOiBhc3NpZ25tZW50LnNldHRpbmdzLiR7c2V0dGluZ1swXX1cIj5cbiAgICAgICAgICAgICAgICA8L2Rpdj4gIFxuICAgICAgICAgICAgPC9kaXY+ICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj5cbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICAke3NldHRpbmdbNF19XG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICB9KS5qb2luKFwiXFxuXFxuXCIpO1xuXG5leHBvcnQgY29uc3QgQVNTSUdOTUVOVF9TRVRUSU5HU19FRElUT1JfSFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwiYmxvY2tweS12aWV3LXNldHRpbmdzXCI+XG4gICAgXG4gICAgPGZvcm0+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEyIG14LWF1dG9cIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tc3VjY2Vzc1wiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5lZGl0b3JzLnNldHRpbmdzLnNhdmVcIj5TYXZlIGNoYW5nZXM8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy1uYW1lXCIgY2xhc3M9XCJjb2wtc20tMiBjb2wtZm9ybS1sYWJlbCB0ZXh0LXJpZ2h0XCI+TmFtZTo8L2xhYmVsPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJibG9ja3B5LXNldHRpbmdzLW5hbWVcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cInZhbHVlOiBhc3NpZ25tZW50Lm5hbWVcIj5cbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICBUaGUgc3R1ZGVudC1mYWNpbmcgbmFtZSBvZiB0aGUgYXNzaWdubWVudC4gQXNzaWdubWVudHMgd2l0aGluIGEgZ3JvdXAgYXJlIG9yZGVyZWQgYWxwaGFiZXRpY2FsbHlcbiAgICAgICAgICAgICAgICAgICAgYnkgdGhlaXIgbmFtZSwgc28geW91IG1heSB3YW50IHRvIHVzZSBhIG5hbWluZyBzY2hlbWUgbGlrZSBcIiM0My41KSBXaGF0ZXZlclwiLlxuICAgICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJibG9ja3B5LXNldHRpbmdzLXVybFwiIGNsYXNzPVwiY29sLXNtLTIgY29sLWZvcm0tbGFiZWwgdGV4dC1yaWdodFwiPlVSTDo8L2xhYmVsPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJibG9ja3B5LXNldHRpbmdzLXVybFwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwidmFsdWU6IGFzc2lnbm1lbnQudXJsXCI+XG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgVGhlIGNvdXJzZS11bmlxdWUgVVJMIHRoYXQgY2FuIGJlIHVzZWQgdG8gY29uc2lzdGVudGx5IHJlZmVyIHRvIHRoaXMgYXNzaWdubWVudC4gXG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0yIHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWNoZWNrLWxhYmVsXCIgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy1wdWJsaWNcIj5QdWJsaWM6PC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tY2hlY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jaGVjay1pbnB1dFwiIHR5cGU9XCJjaGVja2JveFwiIGlkPVwiYmxvY2tweS1zZXR0aW5ncy1wdWJsaWNcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjaGVja2VkOiBhc3NpZ25tZW50LnB1YmxpY1wiPlxuICAgICAgICAgICAgICAgIDwvZGl2PiAgXG4gICAgICAgICAgICA8L2Rpdj4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgIElmIG5vdCBwdWJsaWMsIHVzZXJzIG91dHNpZGUgb2YgdGhlIGNvdXJzZSB3aWxsIG5vdCBiZSBhYmxlIHRvIHNlZSB0aGUgYXNzaWdubWVudCBpbiBjb3Vyc2UgbGlzdGluZ3MuXG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0yIHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWNoZWNrLWxhYmVsXCIgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy1oaWRkZW5cIj5IaWRkZW46PC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tY2hlY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jaGVjay1pbnB1dFwiIHR5cGU9XCJjaGVja2JveFwiIGlkPVwiYmxvY2tweS1zZXR0aW5ncy1oaWRkZW5cIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjaGVja2VkOiBhc3NpZ25tZW50LmhpZGRlblwiPlxuICAgICAgICAgICAgICAgIDwvZGl2PiAgXG4gICAgICAgICAgICA8L2Rpdj4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgIElmIGhpZGRlbiwgc3R1ZGVudHMgd2lsbCBub3QgYmUgYWJsZSB0byBzZWUgdGhlaXIgZ3JhZGUgd2hpbGUgd29ya2luZyBvbiB0aGUgYXNzaWdubWVudC5cbiAgICAgICAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTIgdGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tY2hlY2stbGFiZWxcIiBmb3I9XCJibG9ja3B5LXNldHRpbmdzLXJldmlld2VkXCI+UmV2aWV3ZWQ6PC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tY2hlY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jaGVjay1pbnB1dFwiIHR5cGU9XCJjaGVja2JveFwiIGlkPVwiYmxvY2tweS1zZXR0aW5ncy1yZXZpZXdlZFwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNoZWNrZWQ6IGFzc2lnbm1lbnQucmV2aWV3ZWRcIj5cbiAgICAgICAgICAgICAgICA8L2Rpdj4gIFxuICAgICAgICAgICAgPC9kaXY+ICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj5cbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICBJZiByZXZpZXdlZCwgdGhlIGFzc2lnbm1lbnQgbmVlZCB0byBiZSBjb21tZW50ZWQgdXBvbiBhbmQgcmVncmFkZWQgYnkgdGhlIHN0YWZmIGFmdGVyIHN1Ym1pc3Npb24uXG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0yIHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWNoZWNrLWxhYmVsXCIgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy1yZXZpZXdlZFwiPlN0YXJ0aW5nIFZpZXc6PC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0zXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBidG4tZ3JvdXAtdG9nZ2xlIG1yLTJcIiBkYXRhLXRvZ2dsZT1cImJ1dHRvbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgJHttYWtlU3RhcnRWaWV3VGFiKFwiQmxvY2tzXCIsIFwidGgtbGFyZ2VcIiwgRGlzcGxheU1vZGVzLkJMT0NLKX1cbiAgICAgICAgICAgICAgICAgICAgJHttYWtlU3RhcnRWaWV3VGFiKFwiU3BsaXRcIiwgXCJjb2x1bW5zXCIsIERpc3BsYXlNb2Rlcy5TUExJVCl9XG4gICAgICAgICAgICAgICAgICAgICR7bWFrZVN0YXJ0Vmlld1RhYihcIlRleHRcIiwgXCJhbGlnbi1sZWZ0XCIsIERpc3BsYXlNb2Rlcy5URVhUKX1cbiAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tN1wiPlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICR7Z2V0RG9jdW1lbnRhdGlvbihcInN0YXJ0Vmlld1wiKX1cbiAgICAgICAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy1pcC1yYW5nZXNcIiBjbGFzcz1cImNvbC1zbS0yIGNvbC1mb3JtLWxhYmVsIHRleHQtcmlnaHRcIj5JUCBSYW5nZXM6PC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTBcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiYmxvY2tweS1zZXR0aW5ncy1pcC1yYW5nZXNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cInZhbHVlOiBhc3NpZ25tZW50LmlwUmFuZ2VzXCI+XG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgUHJvdmlkZSBhIGNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIElQIEFkZHJlc3NlcyB0aGF0IHdpbGwgYmUgZXhwbGljaXRseSBhbGxvd2VkLiBJZiBibGFuayxcbiAgICAgICAgICAgICAgICAgICAgdGhlbiBhbGwgYWRkcmVzc2VzIGFyZSBhbGxvd2VkLiBJZiBhbiBhZGRyZXNzIHN0YXJ0cyB3aXRoIDxjb2RlPl48L2NvZGU+IHRoZW4gaXQgaXQgaXMgZXhwbGljaXRseVxuICAgICAgICAgICAgICAgICAgICBibGFja2xpc3RlZCwgYnV0IHRoYXQgY2FuIGJlIG92ZXJyaWRkZW4gaW4gdHVybiB3aXRoIGEgPGNvZGU+ITwvY29kZT4uIEFkZHJlc3NlcyBjYW4gYWxzb1xuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlIGEgYml0IG1hc2sgdG8gYWxsb3cgYSByYW5nZSBvZiBhZGRyZXNzZXMuXG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImJsb2NrcHktc2V0dGluZ3MtcGFzc2NvZGVcIiBjbGFzcz1cImNvbC1zbS0yIGNvbC1mb3JtLWxhYmVsIHRleHQtcmlnaHRcIj5QYXNzY29kZTo8L2xhYmVsPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJibG9ja3B5LXNldHRpbmdzLXBhc3Njb2RlXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2YWx1ZTogYXNzaWdubWVudC5zZXR0aW5ncy5wYXNzY29kZVwiPlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICR7Z2V0RG9jdW1lbnRhdGlvbihcInBhc3Njb2RlXCIpfVxuICAgICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJibG9ja3B5LXNldHRpbmdzLWRhdGFzZXRzXCIgY2xhc3M9XCJjb2wtc20tMiBjb2wtZm9ybS1sYWJlbCB0ZXh0LXJpZ2h0XCI+UHJlbG9hZGVkIERhdGFzZXRzOjwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImJsb2NrcHktc2V0dGluZ3MtZGF0YXNldHNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cInZhbHVlOiBhc3NpZ25tZW50LnNldHRpbmdzLmRhdGFzZXRzXCI+XG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgJHtnZXREb2N1bWVudGF0aW9uKFwiZGF0YXNldHNcIil9XG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImJsb2NrcHktc2V0dGluZ3MtdG9vbGJveFwiIGNsYXNzPVwiY29sLXNtLTIgY29sLWZvcm0tbGFiZWwgdGV4dC1yaWdodFwiPkJsb2NrIFRvb2xib3g6PC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTBcIj5cbiAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJibG9ja3B5LXNldHRpbmdzLXRvb2xib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2YWx1ZTogYXNzaWdubWVudC5zZXR0aW5ncy50b29sYm94XCI+XG4gICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm5vcm1hbFwiPk5vcm1hbCBUb29sYm94PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImN0XCI+Q1RAVlQgVG9vbGJveDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJjdDJcIj5DVEBWVCBUb29sYm94IFYyPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm1pbmltYWxcIj5NaW5pbWFsIFNldDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJmdWxsXCI+QWxsIEJsb2Nrczwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICR7Z2V0RG9jdW1lbnRhdGlvbihcInRvb2xib3hcIil9XG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgICR7QVNTSUdOTUVOVF9TRVRUSU5HU19CT09MRUFOX0NPTVBPTkVOVFNfSFRNTH1cbiAgICA8L2Zvcm0+XG4gICAgXG4gICAgPC9kaXY+XG5gO1xuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZUFzc2lnbm1lbnRTZXR0aW5ncyhtb2RlbCkge1xuICAgIGxldCBzZXR0aW5ncyA9IHt9O1xuICAgIEFTU0lHTk1FTlRfU0VUVElOR1MuZm9yRWFjaChzZXR0aW5nID0+IHtcbiAgICAgICAgbGV0IGNsaWVudE5hbWUgPSBzZXR0aW5nWzBdLCBzZXJ2ZXJOYW1lID0gc2V0dGluZ1sxXSwgZGVmYXVsdFZhbHVlID0gc2V0dGluZ1syXTtcbiAgICAgICAgbGV0IHZhbHVlID0gbW9kZWwuYXNzaWdubWVudC5zZXR0aW5nc1tjbGllbnROYW1lXSgpO1xuICAgICAgICAvLyBPbmx5IHN0b3JlIHRoaXMgc2V0dGluZyBpZiBpdHMgZGlmZmVyZW50IGZyb20gdGhlIGRlZmF1bHRcbiAgICAgICAgaWYgKHZhbHVlICE9PSBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICAgIHNldHRpbmdzW3NlcnZlck5hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEFzc2lnbm1lbnRTZXR0aW5ncyhtb2RlbCwgc2V0dGluZ3MpIHtcbiAgICBpZiAoc2V0dGluZ3MpIHtcbiAgICAgICAgc2V0dGluZ3MgPSBKU09OLnBhcnNlKHNldHRpbmdzKTtcbiAgICAgICAgQVNTSUdOTUVOVF9TRVRUSU5HUy5mb3JFYWNoKHNldHRpbmcgPT4ge1xuICAgICAgICAgICAgbGV0IGNsaWVudE5hbWUgPSBzZXR0aW5nWzBdLCBzZXJ2ZXJOYW1lID0gc2V0dGluZ1sxXTtcbiAgICAgICAgICAgIGlmIChzZXJ2ZXJOYW1lIGluIHNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgbW9kZWwuYXNzaWdubWVudC5zZXR0aW5nc1tjbGllbnROYW1lXShzZXR0aW5nc1tzZXJ2ZXJOYW1lXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3NbY2xpZW50TmFtZV0oc2V0dGluZ1syXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5zdGFydF92aWV3KSB7XG4gICAgICAgICAgICBtb2RlbC5kaXNwbGF5LnB5dGhvbk1vZGUoc2V0dGluZ3Muc3RhcnRfdmlldyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlQXNzaWdubWVudFNldHRpbmdzTW9kZWwoY29uZmlndXJhdGlvbikge1xuICAgIGxldCBzZXR0aW5ncyA9IHt9O1xuICAgIEFTU0lHTk1FTlRfU0VUVElOR1MuZm9yRWFjaChzZXR0aW5nID0+IHtcbiAgICAgICAgbGV0IGNsaWVudE5hbWUgPSBzZXR0aW5nWzBdLCBzZXJ2ZXJOYW1lID0gc2V0dGluZ1sxXSwgZGVmYXVsdFZhbHVlID0gc2V0dGluZ1syXSxcbiAgICAgICAgICAgIGZpZWxkVHlwZSA9IHNldHRpbmdbM107XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uW1wiYXNzaWdubWVudC5zZXR0aW5ncy5cIitzZXJ2ZXJOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzZXR0aW5nc1tjbGllbnROYW1lXSA9IGtvLm9ic2VydmFibGUoZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBjb25maWdWYWx1ZSA9IGNvbmZpZ3VyYXRpb25bXCJhc3NpZ25tZW50LnNldHRpbmdzLlwiK3NlcnZlck5hbWVdO1xuICAgICAgICAgICAgaWYgKGZpZWxkVHlwZSA9PT0gXCJib29sXCIpIHtcbiAgICAgICAgICAgICAgICBjb25maWdWYWx1ZSA9IGNvbmZpZ1ZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0dGluZ3NbY2xpZW50TmFtZV0gPSBrby5vYnNlcnZhYmxlKGNvbmZpZ1ZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNldHRpbmdzO1xufVxuXG5jbGFzcyBBc3NpZ25tZW50U2V0dGluZ3NWaWV3IGV4dGVuZHMgQWJzdHJhY3RFZGl0b3Ige1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIHRhZykge1xuICAgICAgICBzdXBlcihtYWluLCB0YWcpO1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcikge1xuICAgICAgICBzdXBlci5lbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5maWxlKTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICAvL1RPRE86IHRoaXMudXBkYXRlRWRpdG9yKHRoaXMuZmlsZS5oYW5kbGUoKSk7XG4gICAgICAgIC8vIFN1YnNjcmliZSB0byB0aGUgcmVsZXZhbnQgRmlsZVxuICAgICAgICAvLyB0aGlzLmN1cnJlbnRTdWJzY3JpcHRpb24gPSB0aGlzLmZpbGUuaGFuZGxlLnN1YnNjcmliZSh0aGlzLnVwZGF0ZUVkaXRvci5iaW5kKHRoaXMpKTtcbiAgICAgICAgLy8gTm90aWZ5IHJlbGV2YW50IGZpbGUgb2YgY2hhbmdlcyB0byBCTVxuICAgICAgICB0aGlzLmN1cnJlbnRMaXN0ZW5lciA9IHRoaXMudXBkYXRlSGFuZGxlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy9UT0RPOiB0aGlzLmNvZGVNaXJyb3Iub24oXCJjaGFuZ2VcIiwgdGhpcy5jdXJyZW50TGlzdGVuZXIpO1xuICAgIH1cblxuICAgIHVwZGF0ZUVkaXRvcihuZXdDb250ZW50cykge1xuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIFRPRE86IERvIHVwZGF0ZVxuXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVIYW5kbGUoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9ICF0aGlzLmRpcnR5O1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAvL3RoaXMuZmlsZS5oYW5kbGUodGhpcy5jb2RlTWlycm9yLnZhbHVlKCkpO1xuICAgICAgICAgICAgLy8gVE9ETzogVXBkYXRlXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IsIG5ld0VkaXRvcikge1xuICAgICAgICAvLyBSZW1vdmUgc3Vic2NyaWJlclxuICAgICAgICAvL3RoaXMuY3VycmVudFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIC8vIFRPRE86IHVwZGF0ZVxuICAgICAgICAvL3RoaXMuY29kZU1pcnJvci5vZmYoXCJjaGFuZ2VcIiwgdGhpcy5jdXJyZW50TGlzdGVuZXIpO1xuICAgICAgICBzdXBlci5leGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IEFzc2lnbm1lbnRTZXR0aW5ncyA9IHtcbiAgICBuYW1lOiBcIkFzc2lnbm1lbnQgU2V0dGluZ3NcIixcbiAgICBleHRlbnNpb25zOiBbXCIhYXNzaWdubWVudF9zZXR0aW5ncy5ibG9ja3B5XCJdLFxuICAgIGNvbnN0cnVjdG9yOiBBc3NpZ25tZW50U2V0dGluZ3NWaWV3LFxuICAgIHRlbXBsYXRlOiBBU1NJR05NRU5UX1NFVFRJTkdTX0VESVRPUl9IVE1MXG59OyIsImltcG9ydCB7QWJzdHJhY3RFZGl0b3J9IGZyb20gXCIuL2Fic3RyYWN0X2VkaXRvclwiO1xuXG5leHBvcnQgY29uc3QgTUFSS0RPV05fRURJVE9SX0hUTUwgPSBgXG4gICAgPHRleHRhcmVhIGNsYXNzPVwiYmxvY2tweS1lZGl0b3ItbWFya2Rvd25cIj48L3RleHRhcmVhPiAgICBcbmA7XG5cblxuY2xhc3MgTWFya2Rvd25FZGl0b3JWaWV3IGV4dGVuZHMgQWJzdHJhY3RFZGl0b3Ige1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIHRhZykge1xuICAgICAgICBzdXBlcihtYWluLCB0YWcpO1xuICAgICAgICB0aGlzLm1kZSA9IG5ldyBFYXN5TURFKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHRhZy5maW5kKFwiLmJsb2NrcHktZWRpdG9yLW1hcmtkb3duXCIpWzBdLFxuICAgICAgICAgICAgYXV0b0Rvd25sb2FkRm9udEF3ZXNvbWU6IGZhbHNlLFxuICAgICAgICAgICAgZm9yY2VTeW5jOiB0cnVlLFxuICAgICAgICAgICAgbWluSGVpZ2h0OiBcIjUwMHB4XCIsXG4gICAgICAgICAgICAvLyBUT0RPOiBpbWFnZVVwbG9hZEZ1bmN0aW9uXG4gICAgICAgICAgICByZW5kZXJpbmdDb25maWc6IHtcbiAgICAgICAgICAgICAgICBjb2RlU3ludGF4SGlnaGxpZ2h0aW5nOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluZGVudFdpdGhUYWJzOiBmYWxzZSxcbiAgICAgICAgICAgIHRhYlNpemU6IDQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcikge1xuICAgICAgICBzdXBlci5lbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnVwZGF0ZUVkaXRvcih0aGlzLmZpbGUuaGFuZGxlKCkpO1xuICAgICAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIHJlbGV2YW50IEZpbGVcbiAgICAgICAgdGhpcy5jdXJyZW50U3Vic2NyaXB0aW9uID0gdGhpcy5maWxlLmhhbmRsZS5zdWJzY3JpYmUodGhpcy51cGRhdGVFZGl0b3IuYmluZCh0aGlzKSk7XG4gICAgICAgIC8vIE5vdGlmeSByZWxldmFudCBmaWxlIG9mIGNoYW5nZXMgdG8gQk1cbiAgICAgICAgdGhpcy5jdXJyZW50TGlzdGVuZXIgPSB0aGlzLnVwZGF0ZUhhbmRsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm1kZS5jb2RlbWlycm9yLm9uKFwiY2hhbmdlXCIsIHRoaXMuY3VycmVudExpc3RlbmVyKTtcbiAgICAgICAgaWYgKG9sZEVkaXRvciAhPT0gdGhpcykge1xuICAgICAgICAgICAgLy8gRGVsYXkgc28gdGhhdCBldmVyeXRoaW5nIGlzIHJlbmRlcmVkXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMubWRlLmNvZGVtaXJyb3IucmVmcmVzaC5iaW5kKHRoaXMubWRlLmNvZGVtaXJyb3IpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUVkaXRvcihuZXdDb250ZW50cykge1xuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubWRlLnZhbHVlKG5ld0NvbnRlbnRzKTtcbiAgICAgICAgICAgIHRoaXMubWRlLmNvZGVtaXJyb3IucmVmcmVzaCgpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlSGFuZGxlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSAhdGhpcy5kaXJ0eTtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5maWxlLmhhbmRsZSh0aGlzLm1kZS52YWx1ZSgpKTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvciwgbmV3RWRpdG9yKSB7XG4gICAgICAgIC8vIFJlbW92ZSBzdWJzY3JpYmVyXG4gICAgICAgIHRoaXMuY3VycmVudFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMubWRlLmNvZGVtaXJyb3Iub2ZmKFwiY2hhbmdlXCIsIHRoaXMuY3VycmVudExpc3RlbmVyKTtcbiAgICAgICAgc3VwZXIuZXhpdChuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBNYXJrZG93bkVkaXRvciA9IHtcbiAgICBuYW1lOiBcIk1hcmtkb3duXCIsXG4gICAgZXh0ZW5zaW9uczogW1wiLm1kXCJdLFxuICAgIGNvbnN0cnVjdG9yOiBNYXJrZG93bkVkaXRvclZpZXcsXG4gICAgdGVtcGxhdGU6IE1BUktET1dOX0VESVRPUl9IVE1MXG59OyIsIi8qKlxuICogVE9ETzogcmVuYW1lIGZpbGVzLCBtYW51YWwgc2F2ZSwgdGFncywgc2FtcGxlX3N1Ym1pc3Npb25zLCBvbl9ldmFsLCBub24tYnVpbHRpbiBmaWxlc1xuICogVE9ETzogaW1wb3J0IGRhdGEsIGhpc3RvcnksIHJ1biwgdXJsX2RhdGEsIGFzc2lnbm1lbnRfc2V0dGluZ3MsIHBhcnNvbnNfbW9kZVxuICogVE9ETzogZGVsZXRlIGJlY29tZXMgXCJjbGVhclwiIGZvciBpbnN0cnVjdG9yIGZpbGVzXG4gKi9cblxuLyoqXG4gKlxuICogQGVudW0ge3N0cn1cbiAqL1xuaW1wb3J0IHtBYnN0cmFjdEVkaXRvciwgc2x1Z2dpZnl9IGZyb20gXCIuL2Fic3RyYWN0X2VkaXRvclwiO1xuaW1wb3J0IHtISVNUT1JZX1RPT0xCQVJfSFRNTH0gZnJvbSBcIi4uL2hpc3RvcnlcIjtcblxuZXhwb3J0IGxldCBEaXNwbGF5TW9kZXMgPSB7XG4gICAgQkxPQ0s6IFwiYmxvY2tcIixcbiAgICBTUExJVDogXCJzcGxpdFwiLFxuICAgIFRFWFQ6IFwidGV4dFwiXG59O1xuXG5mdW5jdGlvbiBtYWtlVGFiKG5hbWUsIGljb24sIG1vZGUpIHtcbiAgICByZXR1cm4gYDxsYWJlbCBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYmxvY2tweS1tb2RlLXNldC1ibG9ja3NcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNzczoge2FjdGl2ZTogZGlzcGxheS5weXRob25Nb2RlKCkgPT09ICcke21vZGV9J30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogdWkuZWRpdG9ycy5weXRob24udXBkYXRlTW9kZS5iaW5kKCRkYXRhLCAnJHttb2RlfScpXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS0ke2ljb259Jz48L3NwYW4+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJibG9ja3B5LW1vZGUtc2V0XCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgY2hlY2tlZD4gJHtuYW1lfVxuICAgICAgICAgICAgPC9sYWJlbD5gO1xufVxuXG5leHBvcnQgY29uc3QgUFlUSE9OX0VESVRPUl9IVE1MID0gYFxuXG4gICAgPGRpdiBjbGFzcz1cImJsb2NrcHktcHl0aG9uLXRvb2xiYXIgY29sLW1kLTEyIGJ0bi10b29sYmFyXCJcbiAgICAgICAgIHJvbGU9XCJ0b29sYmFyXCIgYXJpYS1sYWJlbD1cIlB5dGhvbiBUb29sYmFyXCI+XG5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXAgbXItMlwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCJSdW4gR3JvdXBcIj4gICAgICAgICBcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJsb2NrcHktcnVuIG5vdHJhbnNpdGlvblwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmV4ZWN1dGUucnVuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzczogeydibG9ja3B5LXJ1bi1ydW5uaW5nJzogdWkuZXhlY3V0ZS5pc1J1bm5pbmd9XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYXMgZmEtcGxheVwiPjwvc3Bhbj4gUnVuXG4gICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIFxuICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBidG4tZ3JvdXAtdG9nZ2xlIG1yLTJcIiBkYXRhLXRvZ2dsZT1cImJ1dHRvbnNcIj5cbiAgICAgICAgICAgIDwhLS0ga28gaWY6ICRyb290LmFzc2lnbm1lbnQuc2V0dGluZ3MuZW5hYmxlQmxvY2tzKCkgLS0+XG4gICAgICAgICAgICAke21ha2VUYWIoXCJCbG9ja3NcIiwgXCJ0aC1sYXJnZVwiLCBEaXNwbGF5TW9kZXMuQkxPQ0spfVxuICAgICAgICAgICAgJHttYWtlVGFiKFwiU3BsaXRcIiwgXCJjb2x1bW5zXCIsIERpc3BsYXlNb2Rlcy5TUExJVCl9XG4gICAgICAgICAgICAke21ha2VUYWIoXCJUZXh0XCIsIFwiYWxpZ24tbGVmdFwiLCBEaXNwbGF5TW9kZXMuVEVYVCl9XG4gICAgICAgICAgICA8IS0tIC9rbyAtLT5cbiAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIG1yLTJcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiUmVzZXQgR3JvdXBcIj5cbiAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZWRpdG9ycy5yZXNldFwiPlxuICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhcyBmYS1zeW5jXCI+PC9zcGFuPiBSZXNldFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgICAgXG4gICAgICAgICA8IS0tIGtvIGlmOiAhYXNzaWdubWVudC5zZXR0aW5ncy5oaWRlSW1wb3J0RGF0YXNldHNCdXR0b24oKSAtLT5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXAgbXItMlwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCJJbXBvcnQgR3JvdXBcIj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmVkaXRvcnMuaW1wb3J0RGF0YXNldFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLWNsb3VkLWRvd25sb2FkLWFsdFwiPjwvc3Bhbj4gSW1wb3J0IGRhdGFzZXRzXG4gICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDwhLS0gL2tvIC0tPlxuICAgICAgICAgXG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIG1yLTJcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLWZpbGUtdXBsb2FkXCI+PC9zcGFuPiBVcGxvYWRcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiYmxvY2tweS10b29sYmFyLXVwbG9hZFwiIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGRlblxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiZXZlbnQ6IHtjaGFuZ2U6IHVpLmVkaXRvcnMudXBsb2FkfVwiPlxuICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGRyb3Bkb3duLXRvZ2dsZSBkcm9wZG93bi10b2dnbGUtc3BsaXRcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjYXJldFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+VG9nZ2xlIERyb3Bkb3duPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9J2Ryb3Bkb3duLWl0ZW0gYmxvY2tweS10b29sYmFyLWRvd25sb2FkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmVkaXRvcnMuZG93bmxvYWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1kb3dubG9hZCc+PC9zcGFuPiBEb3dubG9hZFxuICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgIFxuICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBtci0yXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIkhpc3RvcnkgR3JvdXBcIj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgYXJpYS1wcmVzc2VkPVwiZmFsc2VcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5lZGl0b3JzLnB5dGhvbi50b2dnbGVIaXN0b3J5TW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZTogdWkuZWRpdG9ycy5weXRob24uaXNIaXN0b3J5QXZhaWxhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzOiB7IGFjdGl2ZTogZGlzcGxheS5oaXN0b3J5TW9kZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cjogeyAnYXJpYS1wcmVzc2VkJzogZGlzcGxheS5oaXN0b3J5TW9kZSB9XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYXMgZmEtaGlzdG9yeVwiPjwvc3Bhbj4gSGlzdG9yeVxuICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICBcbiAgICAgICAgIDwhLS0gRnVsbHkgZnVuY3Rpb25hbCwgYnV0IGEgbGl0dGxlIHRvby4uIEludmFzaXZlIFxuICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBtci0yXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIkZ1bGxzY3JlZW4gR3JvdXBcIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwidmlzaWJsZTogZGlzcGxheS5weXRob25Nb2RlKCkgPT09ICd0ZXh0J1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZWRpdG9ycy5weXRob24uZnVsbHNjcmVlblwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLWV4cGFuZC1hcnJvd3MtYWx0XCI+PC9zcGFuPiBGdWxsc2NyZWVuXG4gICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIC0tPlxuICAgICAgICAgXG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIG1yLTJcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiU2F2ZSBHcm91cFwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiB1aS5lZGl0b3JzLmNhblNhdmVcIj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLXNhdmVcIj48L3NwYW4+IFNhdmVcbiAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgICAgXG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIG1yLTJcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiRGVsZXRlIEdyb3VwXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cInZpc2libGU6IHVpLmVkaXRvcnMuY2FuRGVsZXRlXCI+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnlcIixcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZmlsZXMuZGVsZXRlXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYXMgZmEtdHJhc2hcIj48L3NwYW4+IERlbGV0ZVxuICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICBcbiAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXAgbXItMlwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCJSZW5hbWUgR3JvdXBcIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwidmlzaWJsZTogdWkuZWRpdG9ycy5jYW5SZW5hbWVcIj5cbiAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnlcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhcyBmYS1maWxlLXNpZ25hdHVyZVwiPjwvc3Bhbj4gUmVuYW1lXG4gICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIFxuICAgIDwvZGl2PlxuICAgIFxuICAgICR7SElTVE9SWV9UT09MQkFSX0hUTUx9XG5cblxuICAgIDxkaXYgY2xhc3M9XCJibG9ja3B5LXB5dGhvbi1ibG9ja21pcnJvclwiXG4gICAgICAgIGRhdGEtYmluZD1cImhpZGRlbjogdWkubWVudS5pc1N1Ym1pdHRlZFwiPlxuICAgIDwvZGl2PlxuYDtcblxuXG5cbmZ1bmN0aW9uIGNvbnZlcnRJcHluYlRvUHl0aG9uKGNvZGUpIHtcbiAgICBsZXQgaXB5bmIgPSBKU09OLnBhcnNlKGNvZGUpO1xuICAgIGxldCBpc1VzYWJsZSA9IGZ1bmN0aW9uKGNlbGwpIHtcbiAgICAgICAgaWYgKGNlbGwuY2VsbF90eXBlID09PSBcImNvZGVcIikge1xuICAgICAgICAgICAgcmV0dXJuIGNlbGwuc291cmNlLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAhY2VsbC5zb3VyY2VbMF0uc3RhcnRzV2l0aChcIiVcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY2VsbC5jZWxsX3R5cGUgPT09IFwibWFya2Rvd25cIiB8fFxuICAgICAgICAgICAgICAgIGNlbGwuY2VsbF90eXBlID09PSBcInJhd1wiO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBsZXQgbWFrZVB5dGhvbiA9IGZ1bmN0aW9uKGNlbGwpIHtcbiAgICAgICAgaWYgKGNlbGwuY2VsbF90eXBlID09PSBcImNvZGVcIikge1xuICAgICAgICAgICAgcmV0dXJuIGNlbGwuc291cmNlLmpvaW4oXCJcXG5cIik7XG4gICAgICAgIH0gZWxzZSBpZiAoY2VsbC5jZWxsX3R5cGUgPT09IFwibWFya2Rvd25cIiB8fFxuICAgICAgICAgICAgY2VsbC5jZWxsX3R5cGUgPT09IFwicmF3XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBcIicnJ1wiK2NlbGwuc291cmNlLmpvaW4oXCJcXG5cIikrXCInJydcIjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGlweW5iLmNlbGxzLmZpbHRlcihpc1VzYWJsZSkubWFwKG1ha2VQeXRob24pLmpvaW4oXCJcXG5cIik7XG59XG5cbmNsYXNzIFB5dGhvbkVkaXRvclZpZXcgZXh0ZW5kcyBBYnN0cmFjdEVkaXRvciB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgdGFnKSB7XG4gICAgICAgIHN1cGVyKG1haW4sIHRhZy5maW5kKFwiLmJsb2NrcHktcHl0aG9uLWJsb2NrbWlycm9yXCIpKTtcbiAgICAgICAgQmxvY2tseS5zZXRQYXJlbnRDb250YWluZXIobWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmNvbnRhaW5lclswXSk7XG4gICAgICAgIHRoaXMuYm0gPSBuZXcgQmxvY2tNaXJyb3Ioe1xuICAgICAgICAgICAgXCJjb250YWluZXJcIjogdGhpcy50YWdbMF0sXG4gICAgICAgICAgICBcInJ1blwiOiBtYWluLmNvbXBvbmVudHMuZW5naW5lLnJ1bi5iaW5kKG1haW4uY29tcG9uZW50cy5lbmdpbmUpLFxuICAgICAgICAgICAgXCJza2lwU2t1bHB0XCI6IHRydWUsXG4gICAgICAgICAgICBcImJsb2NrbHlNZWRpYVBhdGhcIjogbWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmJsb2NrbHlQYXRoLFxuICAgICAgICAgICAgXCJ0b29sYm94XCI6IG1haW4ubW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy50b29sYm94KCksXG4gICAgICAgICAgICBcImltYWdlTW9kZVwiOiB0cnVlLFxuICAgICAgICAgICAgaW1hZ2VEb3dubG9hZEhPb2s6IChvbGRVcmwpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2xkVXJsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGltYWdlVXBsb2FkSG9vazogKGJsb2IpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFwiSW1hZ2UoXCIrSlNPTi5zdHJpbmdpZnkoVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSkrXCIpXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGltYWdlTGl0ZXJhbEhvb2s6IChvbGRVcmwpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEltYWdlKFwiJHtvbGRVcmx9XCIpYDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLydoZWlnaHQnOiAnMjAwMHB4J1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVhZE9ubHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tYWtlU3Vic2NyaXB0aW9ucygpO1xuICAgICAgICB0aGlzLmxpbmVFcnJvclN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMubGluZVVuY292ZXJlZFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMub2xkUHl0aG9uTW9kZSA9IHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnB5dGhvbk1vZGUoKTtcblxuICAgICAgICB0aGlzLm1ha2VQZXJBc3NpZ25tZW50U3Vic2NyaXB0aW9ucygpO1xuICAgIH1cblxuICAgIGNvbmZpZ3VyZUV4dHJhQmxvY2tseSgpIHtcbiAgICAgICAgdGhpcy5ibS5ibG9ja0VkaXRvci53b3Jrc3BhY2UuY29uZmlndXJlQ29udGV4dE1lbnUgPSAob3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgb3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRleHQ6IFwiU2NyZWVuc2hvdFwiLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuU0NSRUVOU0hPVF9CTE9DS1NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGVudGVyKG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpIHtcbiAgICAgICAgbGV0IG9sZEZpbGVuYW1lID0gdGhpcy5maWxlbmFtZTtcbiAgICAgICAgc3VwZXIuZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcblxuICAgICAgICBpZiAobmV3RmlsZW5hbWUgIT09IFwiYW5zd2VyLnB5XCIpIHtcbiAgICAgICAgICAgIGlmIChvbGRGaWxlbmFtZSA9PT0gXCJhbnN3ZXIucHlcIikge1xuICAgICAgICAgICAgICAgIHRoaXMub2xkUHl0aG9uTW9kZSA9IHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnB5dGhvbk1vZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnB5dGhvbk1vZGUoRGlzcGxheU1vZGVzLlRFWFQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucHl0aG9uTW9kZSh0aGlzLm9sZFB5dGhvbk1vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVFZGl0b3IodGhpcy5maWxlLmhhbmRsZSgpKTtcblxuICAgICAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIHJlbGV2YW50IEZpbGVcbiAgICAgICAgdGhpcy5jdXJyZW50U3Vic2NyaXB0aW9uID0gdGhpcy5maWxlLmhhbmRsZS5zdWJzY3JpYmUodGhpcy51cGRhdGVFZGl0b3IuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgLy8gTm90aWZ5IHJlbGV2YW50IGZpbGUgb2YgY2hhbmdlcyB0byBCTVxuICAgICAgICB0aGlzLmN1cnJlbnRCTUxpc3RlbmVyID0gdGhpcy51cGRhdGVIYW5kbGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5ibS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLmN1cnJlbnRCTUxpc3RlbmVyKTtcblxuICAgICAgICBpZiAobmV3RmlsZW5hbWUgIT09IFwiYW5zd2VyLnB5XCIpIHtcbiAgICAgICAgICAgIHRoaXMuYm0uaXNQYXJzb25zID0gKCkgPT4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJtLmlzUGFyc29ucyA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmlzUGFyc29ucztcblxuICAgICAgICAgICAgdGhpcy5saW5lRXJyb3JTdWJzY3JpcHRpb24gPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLmxpbmVzRXJyb3Iuc3Vic2NyaWJlKChsaW5lcykgPT57XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYm0uc2V0SGlnaGxpZ2h0ZWRMaW5lcyhsaW5lcywgXCJlZGl0b3ItZXJyb3ItbGluZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5saW5lVW5jb3ZlcmVkU3Vic2NyaXB0aW9uID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5saW5lc1VuY292ZXJlZC5zdWJzY3JpYmUoKGxpbmVzKSA9PlxuICAgICAgICAgICAgICAgIHRoaXMuYm0uc2V0SGlnaGxpZ2h0ZWRMaW5lcyhsaW5lcywgXCJlZGl0b3ItdW5jb3ZlcmVkLWxpbmVcIilcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vdGhpcy5ibS5ibG9ja0VkaXRvci53b3Jrc3BhY2UucmVuZGVyKCk7XG4gICAgICAgIC8vdGhpcy5ibS5yZWZyZXNoKCk7XG4gICAgICAgIC8vIFRPRE86IEZpZ3VyZSBvdXQgd2h5IHRoaXMgZG9lc24ndCBlbmQgdXAgbG9va2luZyByaWdodCAoZ28gdG8gYSBkaWZmZXJlbnQgZWRpdG9yLCBjb21lIGJhY2ssIGFuZCBpdCdsbCBiZSBzcXVpc2hlZClcbiAgICAgICAgLy90aGlzLmJtLnJlZnJlc2goKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmJtLnJlZnJlc2goKSwgMCk7XG4gICAgfVxuXG4gICAgdXBkYXRlRWRpdG9yKG5ld0NvbnRlbnRzKSB7XG4gICAgICAgIGlmIChuZXdDb250ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbmV3Q29udGVudHMgPSB0aGlzLmZpbGUuaGFuZGxlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIERvZXNuJ3QgbWF0dGVyLCBmaWxlIHdhcyBhbHJlYWR5IHNodXQgZG93bi5cbiAgICAgICAgICAgICAgICBuZXdDb250ZW50cyA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobmV3Q29udGVudHMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFdlJ3JlIGNsb3NpbmcgdGhpcyBmaWxlXG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5maWxlU3lzdGVtLmRlbGV0ZUZpbGVMb2NhbGx5Xyh0aGlzLmZpbGVuYW1lKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYm0uc2V0Q29kZShuZXdDb250ZW50cyk7XG4gICAgICAgICAgICAvLyBEZWxheSBzbyB0aGF0IGV2ZXJ5dGhpbmcgaXMgcmVuZGVyZWRcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUhhbmRsZShldmVudCkge1xuICAgICAgICB0aGlzLmJtLmNsZWFySGlnaGxpZ2h0ZWRMaW5lcygpO1xuXG4gICAgICAgIHRoaXMuZGlydHkgPSAhdGhpcy5kaXJ0eTtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5oaXN0b3J5TW9kZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWxlLmhhbmRsZSh0aGlzLmJtLmdldENvZGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IsIG5ld0VkaXRvcikge1xuICAgICAgICAvLyBSZW1vdmUgc3Vic2NyaWJlclxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3VycmVudFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuYm0ucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5jdXJyZW50Qk1MaXN0ZW5lcik7XG4gICAgICAgIGlmICh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5oaXN0b3J5TW9kZSgpKSB7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwudWkuZWRpdG9ycy5weXRob24udHVybk9mZkhpc3RvcnlNb2RlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGVhckxpbmVTdWJzY3JpcHRpb25zKCk7XG4gICAgICAgIHN1cGVyLmV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgfVxuXG4gICAgY2xlYXJMaW5lU3Vic2NyaXB0aW9ucygpIHtcbiAgICAgICAgdGhpcy5ibS5jbGVhckhpZ2hsaWdodGVkTGluZXMoKTtcbiAgICAgICAgaWYgKHRoaXMubGluZUVycm9yU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVFcnJvclN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmxpbmVFcnJvclN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGluZVVuY292ZXJlZFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5saW5lVW5jb3ZlcmVkU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMubGluZVVuY292ZXJlZFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtYWtlU3Vic2NyaXB0aW9ucygpIHtcbiAgICAgICAgdGhpcy5ibS5zZXRNb2RlKHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnB5dGhvbk1vZGUoKSk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnB5dGhvbk1vZGUuc3Vic2NyaWJlKG1vZGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5ibS5zZXRNb2RlKG1vZGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuZW5hYmxlQmxvY2tzLnN1YnNjcmliZShlbmFibGVkID0+IHtcbiAgICAgICAgICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm0uc2V0TW9kZShEaXNwbGF5TW9kZXMuVEVYVCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYm0uc2V0TW9kZSh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5weXRob25Nb2RlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MudG9vbGJveC5zdWJzY3JpYmUodG9vbGJveCA9PiB7XG4gICAgICAgICAgICB0aGlzLmJtLmNvbmZpZ3VyYXRpb24udG9vbGJveCA9IHRvb2xib3g7XG4gICAgICAgICAgICB0aGlzLmJtLmJsb2NrRWRpdG9yLnJlbWFrZVRvb2xib3goKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmVuYWJsZUltYWdlcy5zdWJzY3JpYmUoaW1hZ2VNb2RlID0+IHtcbiAgICAgICAgICAgIHRoaXMuYm0uc2V0SW1hZ2VNb2RlKGltYWdlTW9kZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG1ha2VQZXJBc3NpZ25tZW50U3Vic2NyaXB0aW9ucygpIHtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3Rvci5zdWJzY3JpYmUoKGNoYW5nZWQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0UmVhZE9ubHkodGhpcy5kZWNpZGVJZk5vdEVkaXRhYmxlKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3Mub25seVVwbG9hZHMuc3Vic2NyaWJlKChjaGFuZ2VkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFJlYWRPbmx5KHRoaXMuZGVjaWRlSWZOb3RFZGl0YWJsZSgpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGVjaWRlSWZOb3RFZGl0YWJsZSgpIHtcbiAgICAgICAgbGV0IG1vZGVsID0gdGhpcy5tYWluLm1vZGVsO1xuICAgICAgICByZXR1cm4gbW9kZWwuZGlzcGxheS5oaXN0b3J5TW9kZSgpIHx8IChcbiAgICAgICAgICAgIG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3Mub25seVVwbG9hZHMoKSAmJiAhbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzZXRSZWFkT25seShpc1JlYWRPbmx5KSB7XG4gICAgICAgIHRoaXMucmVhZE9ubHkgPSBpc1JlYWRPbmx5O1xuICAgICAgICB0aGlzLmJtLnNldFJlYWRPbmx5KGlzUmVhZE9ubHkpO1xuICAgIH1cblxuICAgIHVwbG9hZEZpbGUoZXZlbnQpIHtcbiAgICAgICAgbGV0IGZpbGVuYW1lID0gZXZlbnQudGFyZ2V0LmZpbGVOYW1lO1xuICAgICAgICBsZXQgY29kZSA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmIChmaWxlbmFtZS5lbmRzV2l0aChcIi5pcHluYlwiKSkge1xuICAgICAgICAgICAgY29kZSA9IGNvbnZlcnRJcHluYlRvUHl0aG9uKGNvZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRmlsZS5VcGxvYWRcIiwgXCJcIiwgXCJcIiwgY29kZSwgdGhpcy5maWxlbmFtZSk7XG4gICAgICAgIHRoaXMuZmlsZS5oYW5kbGUoY29kZSk7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmVuZ2luZS5ydW4oKTtcbiAgICAgICAgLy8gVE9ETzogUnVuIGNvZGVcbiAgICB9XG5cbiAgICBkb3dubG9hZEZpbGUoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBzdXBlci5kb3dubG9hZEZpbGUoKTtcbiAgICAgICAgaWYgKHJlc3VsdC5uYW1lID09PSBcImFuc3dlclwiICYmIHJlc3VsdC5leHRlbnNpb24gPT09IFwiLnB5XCIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5uYW1lID0gc2x1Z2dpZnkodGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQubmFtZSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQubWltZXR5cGUgPSBcInRleHQveC1weXRob25cIjtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiWC1GaWxlLkRvd25sb2FkXCIsIFwiXCIsIFwiXCIsIFwiXCIsIHJlc3VsdC5uYW1lKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IFB5dGhvbkVkaXRvciA9IHtcbiAgICBuYW1lOiBcIlB5dGhvblwiLFxuICAgIGV4dGVuc2lvbnM6IFtcIi5weVwiXSxcbiAgICBjb25zdHJ1Y3RvcjogUHl0aG9uRWRpdG9yVmlldyxcbiAgICB0ZW1wbGF0ZTogUFlUSE9OX0VESVRPUl9IVE1MXG59OyIsImltcG9ydCB7QWJzdHJhY3RFZGl0b3J9IGZyb20gXCIuL2Fic3RyYWN0X2VkaXRvclwiO1xuXG5leHBvcnQgY29uc3QgVEFHU19FRElUT1JfSFRNTCA9IGBcbkNyZWF0ZSBuZXdcbkltcG9ydCBieSBuYW1lXG5GaW5kIGJ5IG93bmVyL2NvdXJzZS9raW5kXG5cblRhZ3M6XG4gICAgRGF0YTpcbiAgICAgICAgTmFtZVxuICAgICAgICBLaW5kXG4gICAgICAgIExldmVsXG4gICAgICAgIFZlcnNpb25cbiAgICAgICAgRGVzY3JpcHRpb25cbiAgICBDb250cm9sczpcbiAgICAgICAgRWRpdFxuICAgICAgICBSZW1vdmVcbiAgICAgICAgRGVsZXRlIFxuYDtcblxuY2xhc3MgVGFnc0VkaXRvclZpZXcgZXh0ZW5kcyBBYnN0cmFjdEVkaXRvciB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgdGFnKSB7XG4gICAgICAgIHN1cGVyKG1haW4sIHRhZy5maW5kKFwiLmJsb2NrcHktZWRpdG9yLXRhZ3NcIikpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFRhZ3NFZGl0b3IgPSB7XG4gICAgbmFtZTogXCJUYWdzXCIsXG4gICAgZXh0ZW5zaW9uczogW1wiIXRhZ3MuYmxvY2tweVwiXSxcbiAgICBjb25zdHJ1Y3RvcjogVGFnc0VkaXRvclZpZXcsXG4gICAgdGVtcGxhdGU6IFRBR1NfRURJVE9SX0hUTUxcbn07IiwiaW1wb3J0IHtBYnN0cmFjdEVkaXRvcn0gZnJvbSBcIi4vYWJzdHJhY3RfZWRpdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBURVhUX0VESVRPUl9IVE1MID0gYFxuICAgIDxkaXY+XG4gICAgPHRleHRhcmVhIGNsYXNzPVwiYmxvY2tweS1lZGl0b3ItdGV4dFwiPjwvdGV4dGFyZWE+XG4gICAgPC9kaXY+XG5gO1xuXG5jbGFzcyBUZXh0RWRpdG9yVmlldyBleHRlbmRzIEFic3RyYWN0RWRpdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCB0YWcpIHtcbiAgICAgICAgc3VwZXIobWFpbiwgdGFnKTtcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yID0gQ29kZU1pcnJvci5mcm9tVGV4dEFyZWEodGFnLmZpbmQoXCIuYmxvY2tweS1lZGl0b3ItdGV4dFwiKVswXSwge1xuICAgICAgICAgICAgc2hvd0N1cnNvcldoZW5TZWxlY3Rpbmc6IHRydWUsXG4gICAgICAgICAgICBsaW5lTnVtYmVyczogdHJ1ZSxcbiAgICAgICAgICAgIGZpcnN0TGluZU51bWJlcjogMSxcbiAgICAgICAgICAgIGluZGVudFVuaXQ6IDQsXG4gICAgICAgICAgICB0YWJTaXplOiA0LFxuICAgICAgICAgICAgaW5kZW50V2l0aFRhYnM6IGZhbHNlLFxuICAgICAgICAgICAgZXh0cmFLZXlzOiB7XG4gICAgICAgICAgICAgICAgXCJUYWJcIjogXCJpbmRlbnRNb3JlXCIsXG4gICAgICAgICAgICAgICAgXCJTaGlmdC1UYWJcIjogXCJpbmRlbnRMZXNzXCIsXG4gICAgICAgICAgICAgICAgXCJFc2NcIjogZnVuY3Rpb24gKGNtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbS5nZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbS5zZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtLmRpc3BsYXkuaW5wdXQuYmx1cigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcIkYxMVwiOiBmdW5jdGlvbiAoY20pIHtcbiAgICAgICAgICAgICAgICAgICAgY20uc2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiLCAhY20uZ2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGVudGVyKG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpIHtcbiAgICAgICAgc3VwZXIuZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51cGRhdGVFZGl0b3IodGhpcy5maWxlLmhhbmRsZSgpKTtcbiAgICAgICAgLy8gU3Vic2NyaWJlIHRvIHRoZSByZWxldmFudCBGaWxlXG4gICAgICAgIHRoaXMuY3VycmVudFN1YnNjcmlwdGlvbiA9IHRoaXMuZmlsZS5oYW5kbGUuc3Vic2NyaWJlKHRoaXMudXBkYXRlRWRpdG9yLmJpbmQodGhpcykpO1xuICAgICAgICAvLyBOb3RpZnkgcmVsZXZhbnQgZmlsZSBvZiBjaGFuZ2VzIHRvIEJNXG4gICAgICAgIHRoaXMuY3VycmVudExpc3RlbmVyID0gdGhpcy51cGRhdGVIYW5kbGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yLm9uKFwiY2hhbmdlXCIsIHRoaXMuY3VycmVudExpc3RlbmVyKTtcbiAgICAgICAgaWYgKG9sZEVkaXRvciAhPT0gdGhpcykge1xuICAgICAgICAgICAgLy8gRGVsYXkgc28gdGhhdCBldmVyeXRoaW5nIGlzIHJlbmRlcmVkXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuY29kZU1pcnJvci5yZWZyZXNoLmJpbmQodGhpcy5jb2RlTWlycm9yKSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogdXBkYXRlIGR5bmFtaWNhbGx5IHdoZW4gY2hhbmdpbmcgaW5zdHJ1Y3RvciBzdGF0dXNcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yLnNldE9wdGlvbihcInJlYWRPbmx5XCIsIG5ld0ZpbGVuYW1lLnN0YXJ0c1dpdGgoXCImXCIpICYmICF0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkpO1xuICAgIH1cblxuICAgIHVwZGF0ZUVkaXRvcihuZXdDb250ZW50cykge1xuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY29kZU1pcnJvci5zZXRWYWx1ZShuZXdDb250ZW50cyk7XG4gICAgICAgICAgICB0aGlzLmNvZGVNaXJyb3IucmVmcmVzaCgpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlSGFuZGxlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSAhdGhpcy5kaXJ0eTtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5maWxlLmhhbmRsZSh0aGlzLmNvZGVNaXJyb3IuZ2V0VmFsdWUoKSk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IsIG5ld0VkaXRvcikge1xuICAgICAgICAvLyBSZW1vdmUgc3Vic2NyaWJlclxuICAgICAgICB0aGlzLmN1cnJlbnRTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmNvZGVNaXJyb3Iub2ZmKFwiY2hhbmdlXCIsIHRoaXMuY3VycmVudExpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yLnNldE9wdGlvbihcInJlYWRPbmx5XCIsIGZhbHNlKTtcbiAgICAgICAgc3VwZXIuZXhpdChuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBUZXh0RWRpdG9yID0ge1xuICAgIG5hbWU6IFwiVGV4dFwiLFxuICAgIGV4dGVuc2lvbnM6IFtcIi50eHRcIl0sXG4gICAgY29uc3RydWN0b3I6IFRleHRFZGl0b3JWaWV3LFxuICAgIHRlbXBsYXRlOiBURVhUX0VESVRPUl9IVE1MXG59OyIsIi8qKlxuICogRWRpdG9ycyBhcmUgaW5mZXJyZWQgZnJvbSBGaWxlbmFtZXMuXG4gKlxuICogVGhlIGVkaXRvciBpcyBiYXNlZCBvbiB0aGUgZXh0ZW5zaW9uOlxuICogIC5ibG9ja3B5OiBTcGVjaWFsIGVkaXRvciAod2lsbCBiZSBjaG9zZW4gYnkgZmlsZW5hbWUpXG4gKiAgLnB5OiBQeXRob24gRWRpdG9yXG4gKiAgLm1kOiBNYXJrZG93biBFZGl0b3JcbiAqICAudHh0OiBUZXh0IEVkaXRvciAoYWxzbyB1c2VkIGZvciBvdGhlciB0eXBlcylcbiAqICAucGVtbDogUEVNTCBFZGl0b3JcbiAqICAucG5nLCAuZ2lmLCAuanBlZywgLmpwZywgLmJtcDogSW1hZ2UgRWRpdG9yXG4gKiAgLmpzb246IEpTT04gRWRpdG9yXG4gKiAgLnlhbWw6IFlBTUwgRWRpdG9yXG4gKi9cblxuaW1wb3J0IHtQeXRob25FZGl0b3J9IGZyb20gXCIuL2VkaXRvci9weXRob25cIjtcbmltcG9ydCB7VGV4dEVkaXRvcn0gZnJvbSBcIi4vZWRpdG9yL3RleHRcIjtcbmltcG9ydCB7QXNzaWdubWVudFNldHRpbmdzfSBmcm9tIFwiLi9lZGl0b3IvYXNzaWdubWVudF9zZXR0aW5nc1wiO1xuaW1wb3J0IHtUYWdzRWRpdG9yfSBmcm9tIFwiLi9lZGl0b3IvdGFnc1wiO1xuaW1wb3J0IHtNYXJrZG93bkVkaXRvcn0gZnJvbSBcIi4vZWRpdG9yL21hcmtkb3duXCI7XG5cbi8qKlxuICogVGhlIGRpZmZlcmVudCBwb3NzaWJsZSBlZGl0b3JzIGF2YWlsYWJsZVxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGxldCBFZGl0b3JzRW51bSA9IHtcbiAgICBTVUJNSVNTSU9OOiBcInN1Ym1pc3Npb25cIixcbiAgICBBU1NJR05NRU5UOiBcImFzc2lnbm1lbnRcIixcbiAgICBJTlNUUlVDVElPTlM6IFwiaW5zdHJ1Y3Rpb25zXCIsXG4gICAgT05fUlVOOiBcIm9uX3J1blwiLFxuICAgIE9OX0NIQU5HRTogXCJvbl9jaGFuZ2VcIixcbiAgICBPTl9FVkFMOiBcIm9uX2V2YWxcIixcbiAgICBTVEFSVElOR19DT0RFOiBcInN0YXJ0aW5nX2NvZGVcIixcbiAgICBTQU1QTEVfU1VCTUlTU0lPTlM6IFwic2FtcGxlX3N1Ym1pc3Npb25zXCIsXG4gICAgSU5TVFJVQ1RPUl9GSUxFOiBcImluc3RydWN0b3JfZmlsZVwiXG59O1xuXG5jb25zdCBTUEVDSUFMX05BTUVTUEFDRVMgPSBbXCIhXCIsIFwiXlwiLCBcIj9cIiwgXCIkXCJdO1xuXG5jb25zdCBBVkFJTEFCTEVfRURJVE9SUyA9IFtcbiAgICBUZXh0RWRpdG9yLCBQeXRob25FZGl0b3IsIEFzc2lnbm1lbnRTZXR0aW5ncywgVGFnc0VkaXRvciwgTWFya2Rvd25FZGl0b3Jcbl07XG5cbmV4cG9ydCBjb25zdCBFRElUT1JTX0hUTUwgPSBBVkFJTEFCTEVfRURJVE9SUy5tYXAoZWRpdG9yID0+XG4gICAgYFxuPGRpdiBjbGFzcz1cImNvbC1tZC0xMiBibG9ja3B5LXBhbmVsIGJsb2NrcHktZWRpdG9yXCI+XG4gICAgPGRpdiBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiB1aS5lZGl0b3JzLnZpZXcoKS5uYW1lID09PSAnJHtlZGl0b3IubmFtZX0nXCI+XG4gICAgJHtlZGl0b3IudGVtcGxhdGV9ICAgIFxuICAgIDwvZGl2PlxuPC9kaXY+XG5gXG4gICAgLypcbiAgICBgXG48IS0tIGtvIGlmOiB1aS5lZGl0b3JzLnZpZXcoKS5uYW1lID09PSAnJHtlZGl0b3IubmFtZX0nIC0tPlxuJHtlZGl0b3IudGVtcGxhdGV9XG48IS0tIC9rbyAtLT5gKi9cbikuam9pbihcIlxcblwiKTtcblxuZXhwb3J0IGNsYXNzIEVkaXRvcnMge1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIHRhZykge1xuICAgICAgICB0aGlzLm1haW4gPSBtYWluO1xuICAgICAgICB0aGlzLnRhZyA9IHRhZztcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkXyA9IFtdO1xuICAgICAgICB0aGlzLmV4dGVuc2lvbnNfID0ge307XG4gICAgICAgIHRoaXMuYnlOYW1lXyA9IHt9O1xuICAgICAgICBBVkFJTEFCTEVfRURJVE9SUy5mb3JFYWNoKGVkaXRvciA9PiB0aGlzLnJlZ2lzdGVyRWRpdG9yKGVkaXRvcikpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5maWxlbmFtZS5zdWJzY3JpYmUodGhpcy5jaGFuZ2VFZGl0b3IsIHRoaXMpO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyRWRpdG9yKGRhdGEpIHtcbiAgICAgICAgbGV0IGV4dGVuc2lvbnMgPSBkYXRhLmV4dGVuc2lvbnM7XG4gICAgICAgIGxldCBpbnN0YW5jZSA9IG5ldyBkYXRhLmNvbnN0cnVjdG9yKHRoaXMubWFpbiwgdGhpcy50YWcpO1xuICAgICAgICBpbnN0YW5jZS5uYW1lID0gZGF0YS5uYW1lO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRfLnB1c2goaW5zdGFuY2UpO1xuICAgICAgICB0aGlzLmJ5TmFtZV9bZGF0YS5uYW1lLnRvTG93ZXJDYXNlKCldID0gaW5zdGFuY2U7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGV4dGVuc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZXh0ZW5zaW9uc19bZXh0ZW5zaW9uc1tpXV0gPSBpbnN0YW5jZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJ5TmFtZShuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ5TmFtZV9bbmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgICB9XG5cbiAgICBjaGFuZ2VFZGl0b3IobmV3RmlsZW5hbWUpIHtcbiAgICAgICAgbGV0IG9sZEVkaXRvciA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgbGV0IG5ld0VkaXRvciA9IHRoaXMuZ2V0RWRpdG9yKG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpO1xuICAgICAgICBpZiAob2xkRWRpdG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICBvbGRFZGl0b3IuZXhpdChuZXdGaWxlbmFtZSwgb2xkRWRpdG9yLCBuZXdFZGl0b3IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudCA9IG5ld0VkaXRvcjtcbiAgICAgICAgdGhpcy5jdXJyZW50LmVudGVyKG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpO1xuICAgIH1cblxuICAgIHN0YXRpYyBwYXJzZUZpbGVuYW1lKHBhdGgpIHtcbiAgICAgICAgbGV0IHNwYWNlID0gcGF0aC5jaGFyQXQoMCk7XG4gICAgICAgIGlmIChTUEVDSUFMX05BTUVTUEFDRVMuaW5kZXhPZihzcGFjZSkgIT09IC0xKSB7XG4gICAgICAgICAgICBwYXRoID0gcGF0aC5zdWJzdHIoMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzcGFjZSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5hbWUgPSBwYXRoLnN1YnN0cigwLCBwYXRoLmxhc3RJbmRleE9mKFwiLlwiKSk7XG4gICAgICAgIGxldCB0eXBlID0gcGF0aC5zdWJzdHIocGF0aC5sYXN0SW5kZXhPZihcIi5cIikpO1xuICAgICAgICByZXR1cm4ge1wic3BhY2VcIjogc3BhY2UsIFwibmFtZVwiOiBuYW1lLCBcInR5cGVcIjogdHlwZX07XG4gICAgfVxuXG4gICAgZ2V0RWRpdG9yKHBhdGgpIHtcbiAgICAgICAgbGV0IHtzcGFjZSwgbmFtZSwgdHlwZX0gPSBFZGl0b3JzLnBhcnNlRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIGlmICh0eXBlID09PSBcIi5ibG9ja3B5XCIgJiYgcGF0aCBpbiB0aGlzLmV4dGVuc2lvbnNfKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5leHRlbnNpb25zX1twYXRoXTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlIGluIHRoaXMuZXh0ZW5zaW9uc18pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbnNfW3R5cGVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJlZF9bMF07XG4gICAgICAgIH1cbiAgICB9XG5cbn0iLCJpbXBvcnQge1N0YXR1c1N0YXRlfSBmcm9tIFwiLi9zZXJ2ZXJcIjtcbmltcG9ydCB7T25SdW5Db25maWd1cmF0aW9ufSBmcm9tIFwiLi9lbmdpbmUvb25fcnVuXCI7XG5pbXBvcnQge1J1bkNvbmZpZ3VyYXRpb259IGZyb20gXCIuL2VuZ2luZS9ydW5cIjtcbmltcG9ydCB7RXZhbENvbmZpZ3VyYXRpb259IGZyb20gXCIuL2VuZ2luZS9ldmFsXCI7XG5pbXBvcnQge1NhbXBsZUNvbmZpZ3VyYXRpb259IGZyb20gXCIuL2VuZ2luZS9zYW1wbGVcIjtcbmltcG9ydCB7T25DaGFuZ2VDb25maWd1cmF0aW9ufSBmcm9tIFwiLi9lbmdpbmUvb25fY2hhbmdlXCI7XG5pbXBvcnQge09uRXZhbENvbmZpZ3VyYXRpb259IGZyb20gXCIuL2VuZ2luZS9vbl9ldmFsXCI7XG5pbXBvcnQge09uU2FtcGxlQ29uZmlndXJhdGlvbn0gZnJvbSBcIi4vZW5naW5lL29uX3NhbXBsZVwiO1xuXG4vKipcbiAqIEFuIG9iamVjdCBmb3IgZXhlY3V0aW5nIFB5dGhvbiBjb2RlIGFuZCBwYXNzaW5nIHRoZSByZXN1bHRzIGFsb25nIHRvIGludGVyZXN0ZWQgY29tcG9uZW50cy5cbiAqXG4gKiBJbnRlcmVzdGluZyBjb21wb25lbnRzOlxuICogIEV4ZWN1dGlvbiBCdWZmZXI6IFJlc3BvbnNpYmxlIGZvciBjb2xsZWN0aW5nIHRoZSB0cmFjZSBkdXJpbmcgcHJvZ3JhbSBleGVjdXRpb24uXG4gKiAgICAgICAgICAgICAgICAgICAgVGhpcyBwcmV2ZW50cyBLbm9ja291dGpzIGZyb20gdXBkYXRpbmcgdGhlIGVkaXRvciBkdXJpbmcgZXhlY3V0aW9uLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHRoaXMge0Jsb2NrUHlFZGl0b3J9XG4gKiBAcGFyYW0ge09iamVjdH0gbWFpbiAtIFRoZSBtYWluIEJsb2NrUHkgaW5zdGFuY2VcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhZyAtIFRoZSBIVE1MIG9iamVjdCB0aGlzIGlzIGF0dGFjaGVkIHRvLlxuICovXG5leHBvcnQgY2xhc3MgQmxvY2tQeUVuZ2luZSB7XG4gICAgY29uc3RydWN0b3IobWFpbikge1xuICAgICAgICB0aGlzLm1haW4gPSBtYWluO1xuICAgICAgICB0aGlzLmV4ZWN1dGlvbk1vZGVsID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbjtcblxuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb25zID0ge1xuICAgICAgICAgICAgcnVuOiBuZXcgUnVuQ29uZmlndXJhdGlvbihtYWluKSxcbiAgICAgICAgICAgIGV2YWw6IG5ldyBFdmFsQ29uZmlndXJhdGlvbihtYWluKSxcbiAgICAgICAgICAgIG9uUnVuOiBuZXcgT25SdW5Db25maWd1cmF0aW9uKG1haW4pLFxuICAgICAgICAgICAgb25DaGFuZ2U6IG5ldyBPbkNoYW5nZUNvbmZpZ3VyYXRpb24obWFpbiksXG4gICAgICAgICAgICBvbkV2YWw6IG5ldyBPbkV2YWxDb25maWd1cmF0aW9uKG1haW4pXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUHJlY29uZmlndXJlIHNrdWxwdCBzbyB3ZSBjYW4gcGFyc2VcbiAgICAgICAgU2suY29uZmlndXJlKHRoaXMuY29uZmlndXJhdGlvbnMucnVuLmdldFNrdWxwdE9wdGlvbnMoKSk7XG5cbiAgICAgICAgLy8gS2VlcHMgdHJhY2sgb2YgdGhlIHRyYWNpbmcgd2hpbGUgdGhlIHByb2dyYW0gaXMgZXhlY3V0aW5nXG4gICAgICAgIHRoaXMuZXhlY3V0aW9uQnVmZmVyID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluYWJsZSBmdW5jdGlvbiB0byBiZSBydW4gd2hlbiBleGVjdXRpb24gaGFzIGZ1bGx5IGVuZGVkLFxuICAgICAgICAgKiB3aGV0aGVyIGl0IHN1Y2NlZWRzIG9yIGZhaWxzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkV4ZWN1dGlvbkJlZ2luID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbkV4ZWN1dGlvbkVuZCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXQgcmVwb3J0c1xuICAgICAqL1xuICAgIHJlc2V0UmVwb3J0cygpIHtcbiAgICAgICAgbGV0IHJlcG9ydCA9IHRoaXMuZXhlY3V0aW9uTW9kZWwucmVwb3J0cztcbiAgICAgICAgcmVwb3J0W1widmVyaWZpZXJcIl0gPSB7fTtcbiAgICAgICAgcmVwb3J0W1wicGFyc2VyXCJdID0ge307XG4gICAgICAgIHJlcG9ydFtcInN0dWRlbnRcIl0gPSB7fTtcbiAgICAgICAgcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXSA9IHt9O1xuICAgICAgICByZXBvcnRbXCJtb2RlbFwiXSA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICB9O1xuXG4gICAgcmVzZXRTdHVkZW50TW9kZWwoKSB7XG4gICAgICAgIGxldCBzdHVkZW50ID0gdGhpcy5leGVjdXRpb25Nb2RlbC5zdHVkZW50O1xuICAgICAgICBzdHVkZW50LmN1cnJlbnRTdGVwKG51bGwpO1xuICAgICAgICBzdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAoMCk7XG4gICAgICAgIHN0dWRlbnQubGFzdFN0ZXAoMCk7XG4gICAgICAgIHN0dWRlbnQuY3VycmVudExpbmUobnVsbCk7XG4gICAgICAgIHN0dWRlbnQuY3VycmVudFRyYWNlRGF0YS5yZW1vdmVBbGwoKTtcbiAgICAgICAgc3R1ZGVudC5yZXN1bHRzID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXNldEV4ZWN1dGlvbkJ1ZmZlcigpIHtcbiAgICAgICAgdGhpcy5leGVjdXRpb25CdWZmZXIgPSB7XG4gICAgICAgICAgICBcInRyYWNlXCI6IFtdLFxuICAgICAgICAgICAgXCJzdGVwXCI6IDAsXG4gICAgICAgICAgICBcImxpbmVcIjogMCxcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBpbnRlcmZhY2UgYXNwZWN0cyBvZiB0aGUgcHJldmlvdXMgUnVuLlxuICAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICAvLyBUT0RPOiBDbGVhciBvdXQgYW55IGNvdmVyYWdlL3RyYWNlL2Vycm9yIGhpZ2hsaWdodHMgaW4gZWRpdG9yc1xuICAgICAgICAvLyBSZXNldCBleGVjdXRpb24gaW4gbW9kZWxcbiAgICAgICAgdGhpcy5yZXNldFN0dWRlbnRNb2RlbCgpO1xuICAgICAgICAvLyBHZXQgcmVwb3J0cyByZWFkeVxuICAgICAgICB0aGlzLnJlc2V0UmVwb3J0cygpO1xuICAgICAgICAvLyBDbGVhciBvdXQgdGhlIGV4ZWN1dGlvbiBidWZmZXJcbiAgICAgICAgdGhpcy5yZXNldEV4ZWN1dGlvbkJ1ZmZlcigpO1xuICAgICAgICAvLyBDbGVhciBvdXQgdGhlIGNvbnNvbGUgb2YgcHJpbnRlZCBzdHVmZlxuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5jb25zb2xlLmNsZWFyKCk7XG4gICAgICAgIC8vIENsZWFyIG91dCBhbnkgb2xkIGZlZWRiYWNrXG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmZlZWRiYWNrLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgZGVsYXllZFJ1bigpIHtcbiAgICAgICAgLy90aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLkFDVElWRSk7XG4gICAgICAgIC8vJChcIi5ibG9ja3B5LXJ1blwiKS5hZGRDbGFzcyhcImJsb2NrcHktcnVuLXJ1bm5pbmdcIik7XG4gICAgICAgIHRoaXMucnVuKCk7XG4gICAgICAgIC8vc2V0VGltZW91dCh0aGlzLnJ1bi5iaW5kKHRoaXMpLCAxKTtcbiAgICB9XG5cbiAgICBydW4oKSB7XG4gICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IHRoaXMuY29uZmlndXJhdGlvbnMucnVuLnVzZSh0aGlzKTtcbiAgICAgICAgbGV0IGV4ZWN1dGlvbiA9IHRoaXMuZXhlY3V0ZSgpLnRoZW4oXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24uc3VjY2Vzcy5iaW5kKHRoaXMuY29uZmlndXJhdGlvbiksXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24uZmFpbHVyZS5iaW5kKHRoaXMuY29uZmlndXJhdGlvbilcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCF0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5kaXNhYmxlRmVlZGJhY2soKSkge1xuICAgICAgICAgICAgZXhlY3V0aW9uLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5wcm92aWRlU2VjcmV0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vblJ1bigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleGVjdXRpb24udGhlbih0aGlzLmNvbmZpZ3VyYXRpb24uc2hvd0Vycm9ycy5iaW5kKHRoaXMuY29uZmlndXJhdGlvbikpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25SdW4oKSB7XG4gICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IHRoaXMuY29uZmlndXJhdGlvbnMub25SdW4udXNlKHRoaXMpO1xuICAgICAgICB0aGlzLmV4ZWN1dGUoKS50aGVuKFxuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLnN1Y2Nlc3MuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pLFxuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLmZhaWx1cmUuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pXG4gICAgICAgICkudGhlbih0aGlzLmV4ZWN1dGlvbkVuZF8uYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoKSB7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdGF0dXMub25FeGVjdXRpb24oU3RhdHVzU3RhdGUuQUNUSVZFKTtcbiAgICAgICAgbGV0IGV2YWx1YXRpb25JbnB1dCA9IHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGUuZXZhbHVhdGUoKTtcbiAgICAgICAgY29uc29sZS5sb2coZXZhbHVhdGlvbklucHV0KTtcbiAgICAgICAgZXZhbHVhdGlvbklucHV0LnRoZW4oKHVzZXJJbnB1dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gdGhpcy5jb25maWd1cmF0aW9ucy5ldmFsLnVzZSh0aGlzLCB1c2VySW5wdXQpO1xuICAgICAgICAgICAgbGV0IGV4ZWN1dGlvbiA9IHRoaXMuZXhlY3V0ZSgpLnRoZW4oXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLnN1Y2Nlc3MuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pLFxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5mYWlsdXJlLmJpbmQodGhpcy5jb25maWd1cmF0aW9uKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuZGlzYWJsZUZlZWRiYWNrKCkgJiZcbiAgICAgICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vbkV2YWwoKSkge1xuICAgICAgICAgICAgICAgIGV4ZWN1dGlvbi50aGVuKHRoaXMub25FdmFsLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBleGVjdXRpb24udGhlbih0aGlzLmNvbmZpZ3VyYXRpb24uc2hvd0Vycm9ycy5iaW5kKHRoaXMuY29uZmlndXJhdGlvbikpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHRoaXMuZXZhbHVhdGUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uRXZhbCgpIHtcbiAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gdGhpcy5jb25maWd1cmF0aW9ucy5vbkV2YWwudXNlKHRoaXMpO1xuICAgICAgICB0aGlzLmV4ZWN1dGUoKS50aGVuKFxuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLnN1Y2Nlc3MuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pLFxuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLmZhaWx1cmUuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pXG4gICAgICAgICkudGhlbih0aGlzLmV2YWx1YXRlLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIG9uQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSB0aGlzLmNvbmZpZ3VyYXRpb25zLm9uQ2hhbmdlLnVzZSh0aGlzKTtcbiAgICB9XG5cbiAgICBleGVjdXRlKCkge1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLkFDVElWRSk7XG4gICAgICAgIHJldHVybiBTay5taXNjZXZhbC5hc3luY1RvUHJvbWlzZSgoKSA9PlxuICAgICAgICAgICAgU2suaW1wb3J0TWFpbldpdGhCb2R5KHRoaXMuY29uZmlndXJhdGlvbi5maWxlbmFtZSwgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLmNvZGUsIHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLnN5c21vZHVsZXMpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGVkIHdoZW5ldmVyIHRoZSBQeXRob24gY29kZSBjaGFuZ2VzXG4gICAgICovXG4gICAgb25fY2hhbmdlKCkge1xuICAgICAgICBsZXQgRklMRU5BTUUgPSBcIm9uX2NoYW5nZVwiO1xuICAgICAgICAvLyBTa2lwIGlmIHRoZSBpbnN0cnVjdG9yIGhhcyBub3QgZGVmaW5lZCBhbnl0aGluZ1xuICAgICAgICBpZiAoIXRoaXMubWFpbi5tb2RlbC5wcm9ncmFtc1tGSUxFTkFNRV0oKS50cmltKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnN0YXR1cyhcImNoYW5naW5nXCIpO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIuc2F2ZUNvZGUoKTtcbiAgICAgICAgLy8gT24gc3RlcCBkb2VzIG5vdCBwZXJmb3JtIHBhcnNlIGFuYWx5c2lzIGJ5IGRlZmF1bHQgb3IgcnVuIHN0dWRlbnQgY29kZVxuICAgICAgICBsZXQgZW5naW5lID0gdGhpcztcbiAgICAgICAgbGV0IGZlZWRiYWNrID0gdGhpcy5tYWluLmNvbXBvbmVudHMuZmVlZGJhY2s7XG4gICAgICAgIGVuZ2luZS5yZXNldFJlcG9ydHMoKTtcbiAgICAgICAgZW5naW5lLnZlcmlmeUNvZGUoKTtcbiAgICAgICAgZW5naW5lLnVwZGF0ZVBhcnNlKCk7XG4gICAgICAgIGVuZ2luZS5ydW5JbnN0cnVjdG9yQ29kZShGSUxFTkFNRSwgdHJ1ZSwgZnVuY3Rpb24gKG1vZHVsZSkge1xuICAgICAgICAgICAgaWYgKFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJpbnN0cnVjdG9yXCJdW1wic3VjY2Vzc1wiXSkge1xuICAgICAgICAgICAgICAgIC8vIFNVQ0NFU1MsIFNDT1JFLCBDQVRFR09SWSwgTEFCRUwsIE1FU1NBR0UsIERBVEEsIEhJREVcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBvbmx5IHNob3cgdW5kZXIgY2VydGFpbiBjaXJjdW1zdGFuY2VzXG4gICAgICAgICAgICAgICAgaWYgKCFzdWNjZXNzICYmXG4gICAgICAgICAgICAgICAgICAgICEoY2F0ZWdvcnkgPT09IFwiSW5zdHJ1Y3RvclwiICYmIGxhYmVsID09PSBcIk5vIGVycm9yc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICBmZWVkYmFjay5wcmVzZW50RmVlZGJhY2soY2F0ZWdvcnksIGxhYmVsLCBtZXNzYWdlLCBsaW5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZW5naW5lLm1haW4uY29tcG9uZW50cy5mZWVkYmFjay5wcmVzZW50RmVlZGJhY2sobW9kdWxlLiRkKTtcbiAgICAgICAgICAgICAgICBlbmdpbmUubWFpbi5tb2RlbC5leGVjdXRpb24uc3RhdHVzKFwiY29tcGxldGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBlbmdpbmUubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcImVuZ2luZVwiLCBcIm9uX2NoYW5nZVwiKTtcbiAgICB9O1xuXG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCB3aWxsIGF0dGVtcHQgdG8gY2FsbCB0aGUgZGVmaW5lZCBvbkV4ZWN1dGlvbkVuZCxcbiAgICAgKiBidXQgd2lsbCBkbyBub3RoaW5nIGlmIHRoZXJlIGlzIG5vIGZ1bmN0aW9uIGRlZmluZWQuXG4gICAgICovXG4gICAgZXhlY3V0aW9uRW5kXygpIHtcbiAgICAgICAgaWYgKHRoaXMub25FeGVjdXRpb25FbmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMub25FeGVjdXRpb25FbmQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZXhlY3V0aW9uQmVnaW5fKCkge1xuICAgICAgICBpZiAodGhpcy5vbkV4ZWN1dGlvbkJlZ2luICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLm9uRXhlY3V0aW9uQmVnaW4oKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG4iLCJleHBvcnQgY29uc3QgRU1QVFlfTU9EVUxFID0gXCJsZXQgJGJ1aWx0aW5tb2R1bGUgPSBmdW5jdGlvbihtb2QpeyByZXR1cm4gbW9kOyB9XCI7XG5cbi8qKlxuICogQSBjb250YWluZXIgZm9yIGhvbGRpbmcgc2V0dGluZ3Mgb2YgYSBwYXJ0aWN1bGFyIHJ1biBjb25maWd1cmF0aW9uLlxuICogVGhpcyBpcyB0aGUgcm9vdCBjbGFzcyBmb3IgYWxsIG90aGVyIGNvbmZpZ3VyYXRpb25zLlxuICovXG5leHBvcnQgY2xhc3MgQ29uZmlndXJhdGlvbiB7XG5cbiAgICBjb25zdHJ1Y3RvcihtYWluKSB7XG4gICAgICAgIHRoaXMubWFpbiA9IG1haW47XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBudWxsO1xuICAgICAgICB0aGlzLmNvZGUgPSBudWxsO1xuICAgICAgICB0aGlzLnN5c21vZHVsZXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdXNlKGVuZ2luZSkge1xuICAgICAgICAvLyBBY2Nlc3MgcG9pbnQgZm9yIGluc3RydWN0b3IgZGF0YVxuICAgICAgICB0aGlzLmVuZ2luZSA9IGVuZ2luZTtcbiAgICAgICAgU2suZXhlY3V0aW9uUmVwb3J0cyA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cztcbiAgICAgICAgU2suY29uc29sZSA9IHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGU7XG4gICAgICAgIFNrLnF1ZXVlZElucHV0ID0gW107XG4gICAgICAgIFNrLmNvbmZpZ3VyZSh0aGlzLmdldFNrdWxwdE9wdGlvbnMoKSk7XG4gICAgICAgIC8vIFNldCBvcGVuRmlsZSBhcyBtZWNoYW5pc20gdG8gcmVhZCBmaWxlc1xuICAgICAgICBTay5pbkJyb3dzZXIgPSB0aGlzLm9wZW5GaWxlLmJpbmQodGhpcyk7XG4gICAgICAgIC8vIFByb3h5IHJlcXVlc3RzXG4gICAgICAgIFNrLnJlcXVlc3RzR2V0ID0gKHVybCwgZGF0YSwgdGltZW91dCkgPT4gdGhpcy5vcGVuVVJMKHVybCwgZGF0YSwgdGltZW91dCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldFNrdWxwdE9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfX2Z1dHVyZV9fOiBTay5weXRob24zLFxuICAgICAgICAgICAgLy8gaW1wb3J0XG4gICAgICAgICAgICByZWFkOiB0aGlzLmltcG9ydEZpbGUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIC8vIG9wZW5cbiAgICAgICAgICAgIC8vZmlsZW9wZW46IHRoaXMub3BlbkZpbGUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIC8vIGZpbGUud3JpdGVcbiAgICAgICAgICAgIGZpbGV3cml0ZTogdGhpcy53cml0ZUZpbGUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIC8vIHByaW50XG4gICAgICAgICAgICBvdXRwdXQ6IHRoaXMucHJpbnQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIC8vIGlucHV0XG4gICAgICAgICAgICBpbnB1dGZ1bjogdGhpcy5pbnB1dC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgaW5wdXRmdW5UYWtlc1Byb21wdDogdHJ1ZSxcbiAgICAgICAgICAgIC8vIE1lZGlhIEltYWdlIFByb3h5IFVSTFxuICAgICAgICAgICAgaW1hZ2VQcm94eTogdGhpcy5nZXRJbWFnZVByb3h5LmJpbmQodGhpcyksXG4gICAgICAgICAgICAvLyBXaGV0aGVyIG9yIG5vdCB0byBrZWVwIHRoZSBnbG9iYWxzXG4gICAgICAgICAgICByZXRhaW5HbG9iYWxzOiB0cnVlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhY2Nlc3MgU2t1bHB0IGJ1aWx0LWlucy4gVGhpcyBpcyBwcmV0dHkgZ2VuZXJpYywgdGFrZW5cbiAgICAgKiBhbG1vc3QgZGlyZWN0bHkgZnJvbSB0aGUgU2t1bHB0IGRvY3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZmlsZW5hbWUgLSBUaGUgcHl0aG9uIGZpbGVuYW1lIChlLmcuLCBcIm9zXCIgb3IgXCJwcHJpbnRcIikgdGhhdCB3aWxsIGJlIGxvYWRlZC5cbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgSmF2YVNjcmlwdCBzb3VyY2UgY29kZSBvZiB0aGUgZmlsZSAod2VpcmQsIHJpZ2h0PylcbiAgICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGZpbGUgaXNuJ3QgZm91bmQuXG4gICAgICovXG4gICAgaW1wb3J0RmlsZShmaWxlbmFtZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJVbmltcGxlbWVudGVkIG1ldGhvZCFcIik7XG4gICAgICAgIC8vIFRPRE9cbiAgICB9O1xuXG4gICAgb3BlblVSTCh1cmwsIGRhdGEsIHRpbWVvdXQpIHtcbiAgICAgICAgLy9yZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsZXQgbW9ja1VybERhdGEgPSB0aGlzLm1haW4uY29tcG9uZW50cy5maWxlU3lzdGVtLmdldEZpbGUoXCI/bW9ja191cmxzLmJsb2NrcHlcIik7XG4gICAgICAgIGlmIChtb2NrVXJsRGF0YSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyAobmV3IFNrLmJ1aWx0aW4uSU9FcnJvcihcIkNhbm5vdCBhY2Nlc3MgdXJsOiBVUkwgRGF0YSB3YXMgbm90IG1hZGUgYXZhaWxhYmxlIGZvciB0aGlzIGFzc2lnbm1lbnRcIikpO1xuICAgICAgICB9XG4gICAgICAgIG1vY2tVcmxEYXRhID0gSlNPTi5wYXJzZShtb2NrVXJsRGF0YS5oYW5kbGUoKSk7XG4gICAgICAgIGZvciAobGV0IGZpbGVuYW1lIGluIG1vY2tVcmxEYXRhKSB7XG4gICAgICAgICAgICBpZiAobW9ja1VybERhdGEuaGFzT3duUHJvcGVydHkoZmlsZW5hbWUpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbW9ja1VybERhdGFbZmlsZW5hbWVdLmxlbmd0aDsgaSs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vY2tVcmxEYXRhW2ZpbGVuYW1lXVtpXSA9PT0gdXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZURhdGEgPSB0aGlzLm1haW4uY29tcG9uZW50cy5maWxlU3lzdGVtLnJlYWRGaWxlKGZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoZmlsZURhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vcmVqZWN0KG5ldyBTay5idWlsdGluLklPRXJyb3IoXCJDYW5ub3QgYWNjZXNzIHVybDogXCIrdXJsK1wiIHdhcyBub3QgbWFkZSBhdmFpbGFibGUgZm9yIHRoaXMgYXNzaWdubWVudFwiKSk7XG4gICAgICAgIHRocm93IChuZXcgU2suYnVpbHRpbi5JT0Vycm9yKFwiQ2Fubm90IGFjY2VzcyB1cmw6IFwiK3VybCtcIiB3YXMgbm90IG1hZGUgYXZhaWxhYmxlIGZvciB0aGlzIGFzc2lnbm1lbnRcIikpO1xuICAgICAgICAvL30pO1xuICAgIH1cblxuICAgIG9wZW5GaWxlKCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJVbmltcGxlbWVudGVkIG1ldGhvZCFcIik7XG4gICAgICAgIC8vIFRPRE9cbiAgICB9XG5cbiAgICB3cml0ZUZpbGUoKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlVuaW1wbGVtZW50ZWQgbWV0aG9kIVwiKTtcbiAgICAgICAgLy8gVE9ET1xuICAgIH1cblxuICAgIHByaW50KHZhbHVlKSB7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGUucHJpbnQodmFsdWUpO1xuICAgIH1cblxuICAgIGlucHV0KCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJVbmltcGxlbWVudGVkIG1ldGhvZCFcIik7XG4gICAgICAgIC8vIFRPRE9cbiAgICB9XG5cbiAgICBjbGVhcklucHV0KCkge1xuICAgICAgICBpZiAodGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuY2xlYXJJbnB1dHMoKSkge1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dChbXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dEluZGV4KDApO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbnB1dE1vY2tGdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKFNrLnF1ZXVlZElucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFNrLnF1ZXVlZElucHV0LnBvcCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZ2V0SW1hZ2VQcm94eSh1cmwpIHtcbiAgICAgICAgLy8gVE9ET1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cblxuICAgIHN0ZXAoKSB7XG5cbiAgICB9XG5cbiAgICBsYXN0U3RlcCgpIHtcblxuICAgIH1cblxuICAgIGlzRm9yYmlkZGVuKGZpbGVuYW1lKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBzdWNjZXNzKG1vZHVsZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBYnN0cmFjdCBzdWNjZXNzIGV4ZWN1dGlvblwiKTtcbiAgICB9XG5cbiAgICBmYWlsdXJlKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFic3RyYWN0IGZhaWx1cmUgZXhlY3V0aW9uXCIpO1xuICAgIH1cblxuICAgIGR1bW15T3V0U2FuZGJveCgpIHtcbiAgICAgICAgLy9Tay5idWlsdGluRmlsZXMuZmlsZXNbXCJzcmMvbGliL3BlZGFsL3NhbmRib3gvc2FuZGJveC5weVwiXSA9IFwiY2xhc3MgU2FuZGJveDogcGFzc1xcbmRlZiBydW4oKTogcGFzc1xcbmRlZiByZXNldCgpOiBwYXNzXFxuXCI7XG4gICAgfVxufVxuXG4iLCJpbXBvcnQge1N0dWRlbnRDb25maWd1cmF0aW9ufSBmcm9tIFwiLi9zdHVkZW50XCI7XG5pbXBvcnQge1N0YXR1c1N0YXRlfSBmcm9tIFwiLi4vc2VydmVyXCI7XG5pbXBvcnQge0Jsb2NrUHlUcmFjZX0gZnJvbSBcIi4uL3RyYWNlXCI7XG5cbmV4cG9ydCBjbGFzcyBFdmFsQ29uZmlndXJhdGlvbiBleHRlbmRzIFN0dWRlbnRDb25maWd1cmF0aW9uIHtcbiAgICB1c2UoZW5naW5lLCBjb2RlKSB7XG4gICAgICAgIC8vIFRPRE86IGZpeCB0byBiZSBjdXJyZW50bHkgYWRkZWQgbGluZVxuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLm1lc3NhZ2UoXCJSdW5uaW5nLi4uXCIpO1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gXCJhbnN3ZXJcIjtcbiAgICAgICAgdGhpcy5jb2RlID0gXCJfID0gXCIgKyBjb2RlO1xuICAgICAgICBTay5hZnRlclNpbmdsZUV4ZWN1dGlvbiA9IG51bGw7XG5cbiAgICAgICAgc3VwZXIudXNlKGVuZ2luZSk7XG5cbiAgICAgICAgU2sucmV0YWluR2xvYmFscyA9IHRydWU7XG4gICAgICAgIFNrLmdsb2JhbHMgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuZ2xvYmFscygpO1xuXG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRmlsZS5BZGRcIiwgXCJcIiwgXCJcIiwgY29kZSwgXCJldmFsdWF0aW9uc1wiKTtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiQ29tcGlsZVwiLCBcIlwiLCBcIlwiLCB0aGlzLmNvZGUsIFwiZXZhbHVhdGlvbnNcIik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3VjY2Vzcyhtb2R1bGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFdmFsIHN1Y2Nlc3NcIik7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRXZhbHVhdGUuUHJvZ3JhbVwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcImV2YWx1YXRpb25zXCIpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLlJFQURZKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50Lmdsb2JhbHMoU2suZ2xvYmFscyk7XG4gICAgICAgIFNrLmdsb2JhbHMgPSB7fTtcbiAgICAgICAgbGV0IHJlcG9ydCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cztcbiAgICAgICAgbGV0IGZpbGVuYW1lID0gdGhpcy5maWxlbmFtZTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LnJlc3VsdHMgPSBtb2R1bGU7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGUucHJpbnRWYWx1ZShTay5mZmkucmVtYXBUb0pzKG1vZHVsZS4kZC5fLiRyKCkpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vdGhpcy5zdGVwKG1vZHVsZS4kZCwgbW9kdWxlLiRkLC0xLCAwLCBmaWxlbmFtZSArIFwiLnB5XCIpO1xuICAgICAgICAgICAgdGhpcy5sYXN0U3RlcCgpO1xuICAgICAgICAgICAgcmVwb3J0W1wic3R1ZGVudFwiXSA9IHtcbiAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBcInRyYWNlXCI6IHRoaXMuZW5naW5lLmV4ZWN1dGlvbkJ1ZmZlci50cmFjZSxcbiAgICAgICAgICAgICAgICBcImxpbmVzXCI6IHRoaXMuZW5naW5lLmV4ZWN1dGlvbkJ1ZmZlci50cmFjZS5tYXAoeCA9PiB4LmxpbmUpLFxuICAgICAgICAgICAgICAgIFwicmVhbExpbmVzXCI6IHRoaXMuZW5naW5lLmV4ZWN1dGlvbkJ1ZmZlci50cmFjZS5maWx0ZXIoeCA9PiAheC5pc0RvY3N0cmluZykubWFwKHggPT4geC5saW5lKSxcbiAgICAgICAgICAgICAgICBcInJlc3VsdHNcIjogbW9kdWxlLFxuICAgICAgICAgICAgICAgIFwib3V0cHV0XCI6IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ub3V0cHV0LFxuICAgICAgICAgICAgICAgIFwiZXZhbHVhdGlvblwiOiB0aGlzLmNvZGVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZhaWx1cmUoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFdmFsIGZhaWx1cmVcIik7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdGF0dXMub25FeGVjdXRpb24oU3RhdHVzU3RhdGUuRkFJTEVEKTtcbiAgICAgICAgbGV0IHJlcG9ydCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cztcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiQ29tcGlsZS5FcnJvclwiLCBcIlwiLCBcIlwiLCBlcnJvci50b1N0cmluZygpLCBcImV2YWx1YXRpb25zXCIpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgcmVwb3J0W1wic3R1ZGVudFwiXSA9IHtcbiAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgXCJlcnJvclwiOiBlcnJvcixcbiAgICAgICAgICAgICAgICBcImV2YWx1YXRpb25cIjogdGhpcy5jb2RlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCJpbXBvcnQge0NvbmZpZ3VyYXRpb24sIEVNUFRZX01PRFVMRX0gZnJvbSBcIi4vY29uZmlndXJhdGlvbnMuanNcIjtcbmltcG9ydCB7JHNrX21vZF9pbnN0cnVjdG9yfSBmcm9tIFwiLi4vc2t1bHB0X21vZHVsZXMvc2tfbW9kX2luc3RydWN0b3JcIjtcbmltcG9ydCB7JHNrX21vZF9jb3ZlcmFnZX0gZnJvbSBcIi4uL3NrdWxwdF9tb2R1bGVzL2NvdmVyYWdlXCI7XG5cbmNvbnN0IFVUSUxJVFlfTU9EVUxFX0NPREUgPSBcInZhciAkYnVpbHRpbm1vZHVsZSA9IFwiICsgJHNrX21vZF9pbnN0cnVjdG9yLnRvU3RyaW5nKCk7XG5jb25zdCBDT1ZFUkFHRV9NT0RVTEVfQ09ERSA9ICRza19tb2RfY292ZXJhZ2U7XG5cbmV4cG9ydCBjbGFzcyBJbnN0cnVjdG9yQ29uZmlndXJhdGlvbiBleHRlbmRzIENvbmZpZ3VyYXRpb24ge1xuICAgIHVzZShlbmdpbmUpIHtcbiAgICAgICAgc3VwZXIudXNlKGVuZ2luZSk7XG4gICAgICAgIC8vIEluc3RydWN0b3JzIGdldCA0IHNlY29uZHNcbiAgICAgICAgU2suZXhlY0xpbWl0RnVuY3Rpb24gPSAoKSA9PlxuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuZGlzYWJsZVRpbWVvdXQoKSA/IEluZmluaXR5IDogNzAwMDtcbiAgICAgICAgU2suZXhlY0xpbWl0ID0gU2suZXhlY0xpbWl0RnVuY3Rpb24oKTtcbiAgICAgICAgLy8gU3RlcHBlciEgRXhlY3V0ZWQgYWZ0ZXIgZXZlcnkgc3RhdGVtZW50LlxuICAgICAgICBTay5hZnRlclNpbmdsZUV4ZWN1dGlvbiA9IG51bGw7IC8vIDEwICoxMDAwXG4gICAgICAgIC8vIE11dGUgZXZlcnl0aGluZ1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5tdXRlUHJpbnRlcih0cnVlKTtcbiAgICAgICAgLy8gRGlzYWJsZSBpbnB1dCBib3hcbiAgICAgICAgU2sucXVldWVkSW5wdXQgPSBbXTtcbiAgICAgICAgLy8gVE9ETyBTay5pbnB1dGZ1biA9IEJsb2NrUHlFbmdpbmUuaW5wdXRNb2NrRnVuY3Rpb247XG4gICAgICAgIC8vIFRPRE86IEFsbG93IGlucHV0IGZ1bmN0aW9uIHRvIGRpc2FibGUgdGhlIHRpbWVyLCBzb21laG93XG4gICAgICAgIC8vIEVuYWJsZSB1dGlsaXR5IG1vZGVcbiAgICAgICAgU2suYnVpbHRpbkZpbGVzLmZpbGVzW1wic3JjL2xpYi91dGlsaXR5L19faW5pdF9fLmpzXCJdID0gVVRJTElUWV9NT0RVTEVfQ09ERTtcbiAgICAgICAgU2suYnVpbHRpbkZpbGVzLmZpbGVzW1wic3JjL2xpYi9jb3ZlcmFnZS5weVwiXSA9IENPVkVSQUdFX01PRFVMRV9DT0RFO1xuICAgICAgICBTay5idWlsdGluRmlsZXMuZmlsZXNbXCIuL19pbnN0cnVjdG9yL19faW5pdF9fLmpzXCJdID0gRU1QVFlfTU9EVUxFO1xuICAgICAgICAvLyBSZXVzZSBhbnkgZXhpc3Rpbmcgc3lzbW9kdWxlcyB0aGF0IHdlIHByZXZpb3VzbHkgZm91bmQ7XG4gICAgICAgIHRoaXMuc3lzbW9kdWxlcyA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5zdHJ1Y3Rvci5zeXNtb2R1bGVzO1xuICAgICAgICAvLyBSZW1vdmUgYW55IGV4aXN0aW5nIF9fbWFpbl9fIG1vZHVsZXNcbiAgICAgICAgbGV0ICRtYWluID0gbmV3IFNrLmJ1aWx0aW4uc3RyKFwiX19tYWluX19cIik7XG4gICAgICAgIGlmICh0aGlzLnN5c21vZHVsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3lzbW9kdWxlcy5xdWljayRsb29rdXAoJG1haW4pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zeXNtb2R1bGVzLmRlbCRpdGVtKCRtYWluKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBvcGVuRmlsZShmaWxlbmFtZSkge1xuICAgICAgICBsZXQgZm91bmQgPSB0aGlzLm1haW4uY29tcG9uZW50cy5maWxlU3lzdGVtLnNlYXJjaEZvckZpbGUoZmlsZW5hbWUsIGZhbHNlKTtcbiAgICAgICAgaWYgKGZvdW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTay5idWlsdGluLk9TRXJyb3IoXCJGaWxlIG5vdCBmb3VuZDogXCIrZmlsZW5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZvdW5kLmNvbnRlbnRzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbXBvcnRGaWxlKGZpbGVuYW1lKSB7XG4gICAgICAgIGlmIChmaWxlbmFtZSA9PT0gXCIuL2Fuc3dlci5weVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uY29kZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGVuYW1lID09PSBcIi4vX2luc3RydWN0b3Ivb25fcnVuLnB5XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vblJ1bigpO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGVuYW1lID09PSBcIi4vX2luc3RydWN0b3Ivb25fZXZhbC5weVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQub25FdmFsKCkgfHwgXCJcIjtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlbmFtZSA9PT0gXCIuL19pbnN0cnVjdG9yL19faW5pdF9fLmpzXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBFTVBUWV9NT0RVTEU7XG4gICAgICAgIH0gZWxzZSBpZiAoU2suYnVpbHRpbkZpbGVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTay5idWlsdGluLk9TRXJyb3IoXCJCdWlsdC1pbiBtb2R1bGVzIG5vdCBhY2Nlc3NpYmxlLlwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChTay5idWlsdGluRmlsZXNbXCJmaWxlc1wiXVtmaWxlbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIFNrLmJ1aWx0aW5GaWxlc1tcImZpbGVzXCJdW2ZpbGVuYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBmb3VuZCA9IHRoaXMubWFpbi5jb21wb25lbnRzLmZpbGVTeXN0ZW0uc2VhcmNoRm9yRmlsZShmaWxlbmFtZSwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKGZvdW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU2suYnVpbHRpbi5PU0Vycm9yKFwiRmlsZSBub3QgZm91bmQ6ICdcIitmaWxlbmFtZSArIFwiJ1wiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kLmNvbnRlbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgaW5wdXQocHJvbXB0TWVzc2FnZSkge1xuICAgICAgICAvL3JldHVybiBcIkFwcGxlUGllXCI7XG4gICAgICAgIGlmICh0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0SW5kZXgoKSA8IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXQoKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBpbnB1dEluZGV4ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dEluZGV4KCk7XG4gICAgICAgICAgICBsZXQgbmV4dElucHV0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dCgpW2lucHV0SW5kZXhdO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dEluZGV4KGlucHV0SW5kZXgrMSk7XG4gICAgICAgICAgICByZXR1cm4gbmV4dElucHV0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiQXBwbGVQaWVcIjtcbiAgICAgICAgfVxuICAgICAgICAvKnJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZShTay5xdWV1ZWRJbnB1dC5wb3AoKSk7XG4gICAgICAgIH0pOyovXG4gICAgfVxuXG59IiwiaW1wb3J0IHtJbnN0cnVjdG9yQ29uZmlndXJhdGlvbn0gZnJvbSBcIi4vaW5zdHJ1Y3RvclwiO1xuXG5leHBvcnQgY2xhc3MgT25DaGFuZ2VDb25maWd1cmF0aW9uIGV4dGVuZHMgSW5zdHJ1Y3RvckNvbmZpZ3VyYXRpb24ge1xuICAgIHVzZShlbmdpbmUpIHtcbiAgICAgICAgc3VwZXIudXNlKGVuZ2luZSk7XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBcIm9uX2NoYW5nZS5weVwiO1xuICAgICAgICB0aGlzLmNvZGUgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vbkNoYW5nZSgpO1xuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS50cmlnZ2VyT25DaGFuZ2UpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn0iLCJpbXBvcnQge0luc3RydWN0b3JDb25maWd1cmF0aW9ufSBmcm9tIFwiLi9pbnN0cnVjdG9yXCI7XG5pbXBvcnQge1N0YXR1c1N0YXRlfSBmcm9tIFwiLi4vc2VydmVyXCI7XG5pbXBvcnQge05FV19MSU5FX1JFR0VYfSBmcm9tIFwiLi9vbl9ydW5cIjtcbmltcG9ydCB7aW5kZW50fSBmcm9tIFwiLi4vdXRpbGl0aWVzXCI7XG5cbi8qKlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgV1JBUF9JTlNUUlVDVE9SX0NPREUgPSBmdW5jdGlvbiAoc3R1ZGVudENvZGUsIGluc3RydWN0b3JDb2RlLCBxdWljaywgaXNTYWZlKSB7XG4gICAgbGV0IHNhZmVDb2RlID0gSlNPTi5zdHJpbmdpZnkoc3R1ZGVudENvZGUpO1xuICAgIGxldCBpbmRlbnRlZENvZGUgPSBpbmRlbnQoaW5kZW50KGlzU2FmZSA/IHN0dWRlbnRDb2RlIDogXCJOb25lXCIpKTtcblxuICAgIHJldHVybiBgXG5mcm9tIHV0aWxpdHkgaW1wb3J0ICpcblxuIyBMb2FkIGluIHNvbWUgY29tbW9ubHkgdXNlZCB0b29sc1xuZnJvbSBwZWRhbC5jYWl0LmNhaXRfYXBpIGltcG9ydCBwYXJzZV9wcm9ncmFtXG5mcm9tIHBlZGFsLnNhbmRib3guY29tbWFuZHMgaW1wb3J0ICpcbmZyb20gcGVkYWwuY29yZS5jb21tYW5kcyBpbXBvcnQgKlxuXG4jIEJhY2t1cCB0aGUgZmVlZGJhY2tcbm9uX3J1bl9mZWVkYmFjayA9IFtdXG5mb3IgZmVlZGJhY2sgaW4gTUFJTl9SRVBPUlQuZmVlZGJhY2s6XG4gICAgb25fcnVuX2ZlZWRiYWNrLmFwcGVuZChmZWVkYmFjaylcbk1BSU5fUkVQT1JULmZlZWRiYWNrLmNsZWFyKClcblxuZnJvbSBwZWRhbC5lbnZpcm9ubWVudHMuYmxvY2tweSBpbXBvcnQgc2V0dXBfZW52aXJvbm1lbnRcbiMgQWRkIGluIGV2YWx1YXRlZCBzdHVmZiBmcm9tIGxhc3QgdGltZVxuc3R1ZGVudCA9IGdldF9zYW5kYm94KClcbiMgVE9ETzogV2hhdCBhYm91dCBuZXcgaW5wdXRzIHNpbmNlIHdlIGxhc3QgcmFuL2V2YWxlZD9cbk1BSU5fUkVQT1JULnN1Ym1pc3Npb24uZmlsZXNbJ2V2YWx1YXRpb24nXSA9ICR7c2FmZUNvZGV9XG5ldmFsdWF0ZSgke3NhZmVDb2RlfSlcblxuIyBUT0RPOiBSZWZhY3RvciByZXNvbHZlciB0byByZXR1cm4gaW5zdHJ1Y3Rpb25zXG4jIE1vbmtleS1wYXRjaCBxdWVzdGlvbnNcbiNmcm9tIHBlZGFsIGltcG9ydCBxdWVzdGlvbnNcbiNxdWVzdGlvbnMuc2hvd19xdWVzdGlvbiA9IHNldF9pbnN0cnVjdGlvbnNcblxuIyBSdW4gdGhlIGFjdHVhbCBpbnN0cnVjdG9yIGNvZGVcbiR7aW5zdHJ1Y3RvckNvZGV9XG5cbiMgUmVzb2x2ZSBldmVyeXRoaW5nXG5mcm9tIHBlZGFsLnJlc29sdmVycy5zaW1wbGUgaW1wb3J0IHJlc29sdmVcbmZpbmFsID0gcmVzb2x2ZSgpXG5TVUNDRVNTID0gZmluYWwuc3VjY2Vzc1xuU0NPUkUgPSBmaW5hbC5zY29yZVxuQ0FURUdPUlkgPSBmaW5hbC5jYXRlZ29yeVxuTEFCRUwgPSBmaW5hbC50aXRsZVxuTUVTU0FHRSA9IGZpbmFsLm1lc3NhZ2VcbkRBVEEgPSBmaW5hbC5kYXRhXG5ISURFID0gZmluYWwuaGlkZV9jb3JyZWN0bmVzc1xuXG4jIEhhbmRsZSBxdWVzdGlvbnNcbmlmIGZpbmFsLmluc3RydWN0aW9uczpcbiAgICBzZXRfaW5zdHJ1Y3Rpb25zKGZpbmFsLmluc3RydWN0aW9uc1stMV0ubWVzc2FnZSlcbiAgICBcbiMgSGFuZGxlIHBvc2l0aXZlIGZlZWRiYWNrXG5QT1NJVElWRSA9IFtdXG5mb3IgcG9zaXRpdmUgaW4gZmluYWwucG9zaXRpdmVzOlxuICAgIG1lc3NhZ2UgPSBwb3NpdGl2ZS5tZXNzYWdlXG4gICAgaWYgbm90IHBvc2l0aXZlOlxuICAgICAgICBtZXNzYWdlID0gcG9zaXRpdmUuZWxzZV9tZXNzYWdlXG4gICAgUE9TSVRJVkUuYXBwZW5kKHtcbiAgICAgICAgXCJ0aXRsZVwiOiBwb3NpdGl2ZS50aXRsZSxcbiAgICAgICAgXCJsYWJlbFwiOiBwb3NpdGl2ZS5sYWJlbCxcbiAgICAgICAgXCJtZXNzYWdlXCI6IG1lc3NhZ2VcbiAgICB9KVxuICAgIFxuIyBIYW5kbGUgc3lzdGVtIG1lc3NhZ2VzXG5mb3Igc3lzdGVtIGluIGZpbmFsLnN5c3RlbXM6XG4gICAgaWYgc3lzdGVtLmxhYmVsID09ICdsb2cnOlxuICAgICAgICBjb25zb2xlX2xvZyhzeXN0ZW0udGl0bGUsIHN5c3RlbS5tZXNzYWdlKTtcbiAgICBpZiBzeXN0ZW0ubGFiZWwgPT0gJ2RlYnVnJzpcbiAgICAgICAgY29uc29sZV9kZWJ1ZyhzeXN0ZW0udGl0bGUsIHN5c3RlbS5tZXNzYWdlKTtcblxuYDtcbn07XG5cbmV4cG9ydCBjbGFzcyBPbkV2YWxDb25maWd1cmF0aW9uIGV4dGVuZHMgSW5zdHJ1Y3RvckNvbmZpZ3VyYXRpb24ge1xuICAgIHVzZShlbmdpbmUpIHtcbiAgICAgICAgc3VwZXIudXNlKGVuZ2luZSk7XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBcIl9pbnN0cnVjdG9yLm9uX2V2YWxcIjtcbiAgICAgICAgdGhpcy5jb2RlID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQub25FdmFsKCkgfHwgXCJcIjtcblxuICAgICAgICBsZXQgZGlzYWJsZVRpZmEgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5kaXNhYmxlVGlmYSgpO1xuXG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIGxldCBzdHVkZW50Q29kZVNhZmUgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHMuc3R1ZGVudC5ldmFsdWF0aW9uIHx8IFwiTm9uZVwiO1xuICAgICAgICB0aGlzLmR1bW15T3V0U2FuZGJveCgpO1xuICAgICAgICBsZXQgaW5zdHJ1Y3RvckNvZGUgPSB0aGlzLmNvZGU7XG4gICAgICAgIGxldCBsaW5lT2Zmc2V0ID0gaW5zdHJ1Y3RvckNvZGUuc3BsaXQoTkVXX0xJTkVfUkVHRVgpLmxlbmd0aDtcbiAgICAgICAgbGV0IGlzU2FmZSA9ICFyZXBvcnRbXCJwYXJzZXJcIl0uZW1wdHkgJiYgcmVwb3J0W1widmVyaWZpZXJcIl0uc3VjY2VzcztcbiAgICAgICAgaW5zdHJ1Y3RvckNvZGUgPSBXUkFQX0lOU1RSVUNUT1JfQ09ERShzdHVkZW50Q29kZVNhZmUsIGluc3RydWN0b3JDb2RlLCBkaXNhYmxlVGlmYSwgaXNTYWZlKTtcbiAgICAgICAgbGluZU9mZnNldCA9IGluc3RydWN0b3JDb2RlLnNwbGl0KE5FV19MSU5FX1JFR0VYKS5sZW5ndGggLSBsaW5lT2Zmc2V0O1xuICAgICAgICByZXBvcnRbXCJpbnN0cnVjdG9yXCJdID0ge1xuICAgICAgICAgICAgXCJjb21wbGltZW50c1wiOiBbXSxcbiAgICAgICAgICAgIFwiZmlsZW5hbWVcIjogXCIuL19pbnN0cnVjdG9yL29uX2V2YWwucHlcIixcbiAgICAgICAgICAgIFwiY29kZVwiOiBpbnN0cnVjdG9yQ29kZSxcbiAgICAgICAgICAgIFwibGluZU9mZnNldFwiOiBsaW5lT2Zmc2V0XG4gICAgICAgICAgICAvLydjb21wbGV0ZSc6IGZhbHNlIC8vIEFjdHVhbGx5LCBsZXQncyB1c2UgdW5kZWZpbmVkIGZvciBub3cuXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY29kZSA9IGluc3RydWN0b3JDb2RlO1xuXG4gICAgICAgIHN1cGVyLnVzZShlbmdpbmUpO1xuXG4gICAgICAgIC8vU2sucmV0YWluR2xvYmFscyA9IGZhbHNlO1xuICAgICAgICBTay5nbG9iYWxzID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnN0cnVjdG9yLmdsb2JhbHM7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3VjY2Vzcyhtb2R1bGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJPbkV2YWwgc3VjY2Vzc1wiKTtcbiAgICAgICAgLy8gVE9ETzogQWN0dWFsbHkgcGFyc2UgcmVzdWx0c1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmluc3RydWN0b3IuZ2xvYmFscyA9IFNrLmdsb2JhbHM7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5zdHJ1Y3Rvci5zeXNtb2R1bGVzID0gU2suc3lzbW9kdWxlcztcbiAgICAgICAgY29uc29sZS5sb2cobW9kdWxlKTtcbiAgICAgICAgbGV0IHJlc3VsdHMgPSBtb2R1bGUuJGQub25fZXZhbC4kZDtcbiAgICAgICAgY29uc29sZS5sb2cobW9kdWxlLiRkKTtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZmVlZGJhY2sucHJlc2VudEZlZWRiYWNrKHJlc3VsdHMpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHNbXCJpbnN0cnVjdG9yXCJdW1wic3VjY2Vzc1wiXSA9IHRydWU7XG4gICAgICAgIGxldCBzdWNjZXNzID0gU2suZmZpLnJlbWFwVG9KcyhyZXN1bHRzLlNVQ0NFU1MpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb3JyZWN0KHN1Y2Nlc3MgfHwgdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uY29ycmVjdCgpKTtcbiAgICAgICAgLy8gQ2Fubm90IGV4Y2VlZCAxIHBvaW50LCBjYW5ub3QgZ28gYmVsb3cgMCBwb2ludHNcbiAgICAgICAgbGV0IHNjb3JlID0gU2suZmZpLnJlbWFwVG9KcyhyZXN1bHRzLlNDT1JFKTtcbiAgICAgICAgc2NvcmUgPSBNYXRoLm1heCgwLjAsIE1hdGgubWluKDEuMCwgc2NvcmUpKTtcbiAgICAgICAgbGV0IG9sZFNjb3JlID0gdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uc2NvcmUoKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uc2NvcmUoTWF0aC5tYXgob2xkU2NvcmUsIHNjb3JlKSk7XG4gICAgICAgIC8vIEhpZGUgc3RhdHVzXG4gICAgICAgIGxldCBoaWRlID0gU2suZmZpLnJlbWFwVG9KcyhyZXN1bHRzLkhJREUpO1xuICAgICAgICAvLyBBbmQgZmlyZSB0aGUgcmVzdWx0IVxuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIudXBkYXRlU3VibWlzc2lvbihzY29yZSwgc3VjY2VzcywgaGlkZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLlJFQURZKTtcbiAgICAgICAgLy9hZnRlcihtb2R1bGUpO1xuXG4gICAgICAgIC8qaWYgKHN1Y2Nlc3MgJiYgdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uY2FsbGJhY2tzLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmNhbGxiYWNrcy5zdWNjZXNzKHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmlkKCkpO1xuICAgICAgICB9Ki9cblxuICAgICAgICBpZiAoIVNrLmV4ZWN1dGlvblJlcG9ydHMuaW5zdHJ1Y3Rvci5zY3JvbGxpbmcpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuY29uc29sZS5zY3JvbGxUb0JvdHRvbSgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmFpbHVyZShlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk9uRXZhbCBmYWlsdXJlXCIpO1xuICAgICAgICBsZXQgcmVwb3J0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzO1xuICAgICAgICBpZiAoZXJyb3IudHAkbmFtZSA9PT0gXCJHcmFjZWZ1bEV4aXRcIikge1xuICAgICAgICAgICAgcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXVtcInN1Y2Nlc3NcIl0gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5SRUFEWSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLkZBSUxFRCk7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlcG9ydFtcImluc3RydWN0b3JcIl1bXCJjb2RlXCJdKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZmVlZGJhY2sucHJlc2VudEludGVybmFsRXJyb3IoZXJyb3IsIHRoaXMuZmlsZW5hbWUpO1xuICAgICAgICAgICAgLy9yZXBvcnRbXCJpbnN0cnVjdG9yXCJdW1wic3VjY2Vzc1wiXSA9IGZhbHNlO1xuICAgICAgICAgICAgLy9yZXBvcnRbXCJpbnN0cnVjdG9yXCJdW1wiZXJyb3JcIl0gPSBlcnJvcjtcbiAgICAgICAgICAgIC8vVE9ETzogcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXVtcImxpbmVfb2Zmc2V0XCJdID0gbGluZU9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICAvL1RPRE86IGFmdGVyKGVycm9yKTtcbiAgICB9XG59IiwiaW1wb3J0IHtpbmRlbnR9IGZyb20gXCIuLi91dGlsaXRpZXNcIjtcbmltcG9ydCB7U3RhdHVzU3RhdGV9IGZyb20gXCIuLi9zZXJ2ZXJcIjtcbmltcG9ydCB7SW5zdHJ1Y3RvckNvbmZpZ3VyYXRpb259IGZyb20gXCIuL2luc3RydWN0b3JcIjtcblxuZXhwb3J0IGNvbnN0IE5FV19MSU5FX1JFR0VYID0gL1xcclxcbnxcXHJ8XFxuLztcbi8qKlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgV1JBUF9JTlNUUlVDVE9SX0NPREUgPSBmdW5jdGlvbiAoc3R1ZGVudENvZGUsIGluc3RydWN0b3JDb2RlLCBxdWljaywgaXNTYWZlKSB7XG4gICAgbGV0IHNhZmVDb2RlID0gSlNPTi5zdHJpbmdpZnkoc3R1ZGVudENvZGUpO1xuICAgIGxldCBpbmRlbnRlZENvZGUgPSBpbmRlbnQoaW5kZW50KGlzU2FmZSA/IHN0dWRlbnRDb2RlIDogXCJwYXNzXCIpKTtcbiAgICBsZXQgdGlmYUFuYWx5c2lzID0gXCJcIjtcbiAgICBpZiAoIXF1aWNrKSB7XG4gICAgICAgIHRpZmFBbmFseXNpcyA9IFwiZnJvbSBwZWRhbC50aWZhIGltcG9ydCB0aWZhX2FuYWx5c2lzXFxudGlmYV9hbmFseXNpcyhGYWxzZSlcIjtcbiAgICB9XG4gICAgbGV0IHNraXBfdGlmYSA9IHF1aWNrID8gXCJUcnVlXCI6IFwiRmFsc2VcIjtcblxuICAgIC8vIFRPRE86IEFkZCBpbiBTay5xdWV1ZWRJbnB1dCB0byBiZSBwYXNzZWQgaW5cblxuICAgIHJldHVybiBgXG4jIFN1cHBvcnQgb3VyIHN5c21vZHVsZXMgaGFjayBieSBjbGVhcmluZyBvdXQgYW55IGxpbmdlcmluZyBvbGQgZGF0YVxuZnJvbSBwZWRhbC5jb3JlLnJlcG9ydCBpbXBvcnQgTUFJTl9SRVBPUlRcbk1BSU5fUkVQT1JULmNsZWFyKClcblxuZnJvbSBjaXNjMTA4IGltcG9ydCBzdHVkZW50X3Rlc3RzXG5zdHVkZW50X3Rlc3RzLnJlc2V0KClcblxuZnJvbSB1dGlsaXR5IGltcG9ydCAqXG5cbiMgTG9hZCBpbiBzb21lIGNvbW1vbmx5IHVzZWQgdG9vbHNcbmZyb20gcGVkYWwuY2FpdC5jYWl0X2FwaSBpbXBvcnQgcGFyc2VfcHJvZ3JhbVxuZnJvbSBwZWRhbC5zYW5kYm94LmNvbW1hbmRzIGltcG9ydCAqXG5mcm9tIHBlZGFsLmNvcmUuY29tbWFuZHMgaW1wb3J0ICpcblxuZnJvbSBwZWRhbC5lbnZpcm9ubWVudHMuYmxvY2tweSBpbXBvcnQgc2V0dXBfZW52aXJvbm1lbnRcbiMgRG8gd2UgZXhlY3V0ZSBzdHVkZW50J3MgY29kZT9cbnNraXBfcnVuID0gZ2V0X21vZGVsX2luZm8oJ2Fzc2lnbm1lbnQuc2V0dGluZ3MuZGlzYWJsZUluc3RydWN0b3JSdW4nKVxuaW5wdXRzID0gTm9uZSBpZiBza2lwX3J1biBlbHNlIGdldF9tb2RlbF9pbmZvKCdleGVjdXRpb24uaW5wdXQnKVxuXG4jIEluaXRpYWxpemUgdGhlIEJsb2NrUHkgZW52aXJvbm1lbnRcbnBlZGFsID0gc2V0dXBfZW52aXJvbm1lbnQoc2tpcF90aWZhPSR7c2tpcF90aWZhfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpcF9ydW49c2tpcF9ydW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0cz1pbnB1dHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1haW5fZmlsZT0nYW5zd2VyLnB5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFpbl9jb2RlPSR7c2FmZUNvZGV9KVxuc3R1ZGVudCA9IHBlZGFsLmZpZWxkc1snc3R1ZGVudCddXG5cbiMgVE9ETzogUmVmYWN0b3IgcmVzb2x2ZXIgdG8gcmV0dXJuIGluc3RydWN0aW9uc1xuIyBNb25rZXktcGF0Y2ggcXVlc3Rpb25zXG4jZnJvbSBwZWRhbCBpbXBvcnQgcXVlc3Rpb25zXG4jcXVlc3Rpb25zLnNob3dfcXVlc3Rpb24gPSBzZXRfaW5zdHJ1Y3Rpb25zXG5cbiMgUnVuIHRoZSBhY3R1YWwgaW5zdHJ1Y3RvciBjb2RlXG4ke2luc3RydWN0b3JDb2RlfVxuXG4jIFJlc29sdmUgZXZlcnl0aGluZ1xuZnJvbSBwZWRhbC5yZXNvbHZlcnMuc2ltcGxlIGltcG9ydCByZXNvbHZlXG5maW5hbCA9IHJlc29sdmUoKVxuU1VDQ0VTUyA9IGZpbmFsLnN1Y2Nlc3NcblNDT1JFID0gZmluYWwuc2NvcmVcbkNBVEVHT1JZID0gZmluYWwuY2F0ZWdvcnlcbkxBQkVMID0gZmluYWwudGl0bGVcbk1FU1NBR0UgPSBmaW5hbC5tZXNzYWdlXG5EQVRBID0gZmluYWwuZGF0YVxuSElERSA9IGZpbmFsLmhpZGVfY29ycmVjdG5lc3NcblxuIyBIYW5kbGUgcXVlc3Rpb25zXG5pZiBmaW5hbC5pbnN0cnVjdGlvbnM6XG4gICAgc2V0X2luc3RydWN0aW9ucyhmaW5hbC5pbnN0cnVjdGlvbnNbLTFdLm1lc3NhZ2UpXG4gICAgXG4jIEhhbmRsZSBwb3NpdGl2ZSBmZWVkYmFja1xuUE9TSVRJVkUgPSBbXVxuZm9yIHBvc2l0aXZlIGluIGZpbmFsLnBvc2l0aXZlczpcbiAgICBtZXNzYWdlID0gcG9zaXRpdmUubWVzc2FnZVxuICAgIGlmIG5vdCBwb3NpdGl2ZTpcbiAgICAgICAgbWVzc2FnZSA9IHBvc2l0aXZlLmVsc2VfbWVzc2FnZVxuICAgIFBPU0lUSVZFLmFwcGVuZCh7XG4gICAgICAgIFwidGl0bGVcIjogcG9zaXRpdmUudGl0bGUsXG4gICAgICAgIFwibGFiZWxcIjogcG9zaXRpdmUubGFiZWwsXG4gICAgICAgIFwibWVzc2FnZVwiOiBtZXNzYWdlXG4gICAgfSlcbiAgICBcbiMgSGFuZGxlIHN5c3RlbSBtZXNzYWdlc1xuZm9yIHN5c3RlbSBpbiBmaW5hbC5zeXN0ZW1zOlxuICAgIGlmIHN5c3RlbS5sYWJlbCA9PSAnbG9nJzpcbiAgICAgICAgY29uc29sZV9sb2coc3lzdGVtLnRpdGxlLCBzeXN0ZW0ubWVzc2FnZSk7XG4gICAgaWYgc3lzdGVtLmxhYmVsID09ICdkZWJ1Zyc6XG4gICAgICAgIGNvbnNvbGVfZGVidWcoc3lzdGVtLnRpdGxlLCBzeXN0ZW0ubWVzc2FnZSk7XG5cbmA7XG59O1xuXG5leHBvcnQgY2xhc3MgT25SdW5Db25maWd1cmF0aW9uIGV4dGVuZHMgSW5zdHJ1Y3RvckNvbmZpZ3VyYXRpb24ge1xuICAgIHVzZShlbmdpbmUpIHtcbiAgICAgICAgc3VwZXIudXNlKGVuZ2luZSk7XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBcIl9pbnN0cnVjdG9yLm9uX3J1blwiO1xuICAgICAgICB0aGlzLmNvZGUgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vblJ1bigpO1xuXG4gICAgICAgIGxldCBkaXNhYmxlVGlmYSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVUaWZhKCk7XG5cbiAgICAgICAgbGV0IHJlcG9ydCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cztcbiAgICAgICAgbGV0IHN0dWRlbnRDb2RlU2FmZSA9IHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmNvZGUoKTtcbiAgICAgICAgdGhpcy5kdW1teU91dFNhbmRib3goKTtcbiAgICAgICAgbGV0IGluc3RydWN0b3JDb2RlID0gdGhpcy5jb2RlO1xuICAgICAgICBsZXQgbGluZU9mZnNldCA9IGluc3RydWN0b3JDb2RlLnNwbGl0KE5FV19MSU5FX1JFR0VYKS5sZW5ndGg7XG4gICAgICAgIGxldCBpc1NhZmUgPSAhcmVwb3J0W1wicGFyc2VyXCJdLmVtcHR5ICYmIHJlcG9ydFtcInZlcmlmaWVyXCJdLnN1Y2Nlc3M7XG4gICAgICAgIGluc3RydWN0b3JDb2RlID0gV1JBUF9JTlNUUlVDVE9SX0NPREUoc3R1ZGVudENvZGVTYWZlLCBpbnN0cnVjdG9yQ29kZSwgZGlzYWJsZVRpZmEsIGlzU2FmZSk7XG4gICAgICAgIGxpbmVPZmZzZXQgPSAwOyAvL2luc3RydWN0b3JDb2RlLnNwbGl0KE5FV19MSU5FX1JFR0VYKS5sZW5ndGggLSBsaW5lT2Zmc2V0IC0gNDtcbiAgICAgICAgcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXSA9IHtcbiAgICAgICAgICAgIFwiY29tcGxpbWVudHNcIjogW10sXG4gICAgICAgICAgICBcImZpbGVuYW1lXCI6IFwiLi9faW5zdHJ1Y3Rvci9vbl9ydW4ucHlcIixcbiAgICAgICAgICAgIFwiY29kZVwiOiBpbnN0cnVjdG9yQ29kZSxcbiAgICAgICAgICAgIFwibGluZU9mZnNldFwiOiBsaW5lT2Zmc2V0XG4gICAgICAgICAgICAvLydjb21wbGV0ZSc6IGZhbHNlIC8vIEFjdHVhbGx5LCBsZXQncyB1c2UgdW5kZWZpbmVkIGZvciBub3cuXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5jb2RlID0gaW5zdHJ1Y3RvckNvZGU7XG5cbiAgICAgICAgU2sucmV0YWluR2xvYmFscyA9IGZhbHNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN1Y2Nlc3MobW9kdWxlKSB7XG4gICAgICAgIC8vIFRPRE8gTG9nZ2luZyEhISFcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIk9uUnVuIHN1Y2Nlc3NcIik7XG4gICAgICAgIC8vIFRPRE86IEFjdHVhbGx5IHBhcnNlIHJlc3VsdHNcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnN0cnVjdG9yLmdsb2JhbHMgPSBTay5nbG9iYWxzO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmluc3RydWN0b3Iuc3lzbW9kdWxlcyA9IFNrLnN5c21vZHVsZXM7XG4gICAgICAgIFNrLmdsb2JhbHMgPSB7fTtcbiAgICAgICAgbGV0IHJlc3VsdHMgPSBtb2R1bGUuJGQub25fcnVuLiRkO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5mZWVkYmFjay5wcmVzZW50RmVlZGJhY2socmVzdWx0cyk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0c1tcImluc3RydWN0b3JcIl1bXCJzdWNjZXNzXCJdID0gdHJ1ZTtcbiAgICAgICAgbGV0IHN1Y2Nlc3MgPSBTay5mZmkucmVtYXBUb0pzKHJlc3VsdHMuU1VDQ0VTUyk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmNvcnJlY3Qoc3VjY2VzcyB8fCB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb3JyZWN0KCkpO1xuICAgICAgICAvLyBDYW5ub3QgZXhjZWVkIDEgcG9pbnQsIGNhbm5vdCBnbyBiZWxvdyAwIHBvaW50c1xuICAgICAgICBsZXQgc2NvcmUgPSBTay5mZmkucmVtYXBUb0pzKHJlc3VsdHMuU0NPUkUpO1xuICAgICAgICBzY29yZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHNjb3JlKSk7XG4gICAgICAgIGxldCBvbGRTY29yZSA9IHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLnNjb3JlKCk7XG4gICAgICAgIHNjb3JlID0gTWF0aC5tYXgob2xkU2NvcmUsIHNjb3JlKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uc2NvcmUoc2NvcmUpO1xuICAgICAgICAvLyBIaWRlIHN0YXR1c1xuICAgICAgICBsZXQgaGlkZSA9IFNrLmZmaS5yZW1hcFRvSnMocmVzdWx0cy5ISURFKTtcbiAgICAgICAgLy8gQW5kIGZpcmUgdGhlIHJlc3VsdCFcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLnVwZGF0ZVN1Ym1pc3Npb24oc2NvcmUsIHN1Y2Nlc3MsIGhpZGUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5SRUFEWSk7XG4gICAgICAgIC8vYWZ0ZXIobW9kdWxlKTtcblxuICAgICAgICAvKmlmIChzdWNjZXNzICYmIHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmNhbGxiYWNrcy5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuY29uZmlndXJhdGlvbi5jYWxsYmFja3Muc3VjY2Vzcyh0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5pZCgpKTtcbiAgICAgICAgfSovXG5cbiAgICAgICAgaWYgKCFTay5leGVjdXRpb25SZXBvcnRzLmluc3RydWN0b3Iuc2Nyb2xsaW5nKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGUuc2Nyb2xsVG9Cb3R0b20oKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZhaWx1cmUoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJPblJ1biBmYWlsdXJlXCIpO1xuICAgICAgICBsZXQgcmVwb3J0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzO1xuICAgICAgICBpZiAoZXJyb3IudHAkbmFtZSA9PT0gXCJHcmFjZWZ1bEV4aXRcIikge1xuICAgICAgICAgICAgcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXVtcInN1Y2Nlc3NcIl0gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5SRUFEWSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLkZBSUxFRCk7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlcG9ydFtcImluc3RydWN0b3JcIl1bXCJjb2RlXCJdKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZmVlZGJhY2sucHJlc2VudEludGVybmFsRXJyb3IoZXJyb3IsIHRoaXMuZmlsZW5hbWUpO1xuICAgICAgICAgICAgLy9yZXBvcnRbXCJpbnN0cnVjdG9yXCJdW1wic3VjY2Vzc1wiXSA9IGZhbHNlO1xuICAgICAgICAgICAgLy9yZXBvcnRbXCJpbnN0cnVjdG9yXCJdW1wiZXJyb3JcIl0gPSBlcnJvcjtcbiAgICAgICAgICAgIC8vVE9ETzogcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXVtcImxpbmVfb2Zmc2V0XCJdID0gbGluZU9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICAvL1RPRE86IGFmdGVyKGVycm9yKTtcbiAgICB9XG59XG5cblxuLypcbiMgVGhlIGZvbGxvd2luZyBpcyB0aGUgb2xkIGluc3RydWN0b3IgY29kZSwgbGVhdmluZyBpdCBoZXJlIGZvciBub3cuXG5cbmZyb20gcGVkYWwuY29yZS5yZXBvcnQgaW1wb3J0IE1BSU5fUkVQT1JUXG4jIFN1cHBvcnQgb3VyIHN5c21vZHVsZXMgaGFjayBieSBjbGVhcmluZyBvdXQgYW55IGxpbmdlcmluZyBvbGQgZGF0YVxuTUFJTl9SRVBPUlQuY2xlYXIoKVxuZnJvbSBwZWRhbC5jb3JlLmNvbW1hbmRzIGltcG9ydCBjb250ZXh0dWFsaXplX3JlcG9ydFxuY29udGV4dHVhbGl6ZV9yZXBvcnQoJHtzYWZlQ29kZX0sIFwiYW5zd2VyLnB5XCIpXG4ke3RpZmFBbmFseXNpc31cbmZyb20gcGVkYWwuc2FuZGJveC5zYW5kYm94IGltcG9ydCBTYW5kYm94XG5mcm9tIHBlZGFsLnNhbmRib3ggaW1wb3J0IGNvbXBhdGliaWxpdHlcbmZyb20gdXRpbGl0eSBpbXBvcnQgKlxuc3R1ZGVudCA9IE1BSU5fUkVQT1JUWydzYW5kYm94J11bJ3J1biddID0gU2FuZGJveCgpXG5zdHVkZW50LnJlcG9ydF9leGNlcHRpb25zX21vZGUgPSBUcnVlXG5sb2coZ2V0X21vZGVsX2luZm8oJ2V4ZWN1dGlvbi5pbnB1dCcpKVxuc3R1ZGVudC5zZXRfaW5wdXQoZ2V0X21vZGVsX2luZm8oJ2V4ZWN1dGlvbi5pbnB1dCcpKVxuaWYgbm90IGdldF9tb2RlbF9pbmZvKCdhc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVJbnN0cnVjdG9yUnVuJyk6XG4gICAgY29tcGF0aWJpbGl0eS5ydW5fc3R1ZGVudChyYWlzZV9leGNlcHRpb25zPUZhbHNlKVxuI2xvZyhzdHVkZW50LmRhdGEpXG4jc3R1ZGVudCA9IGdldF9zdHVkZW50X2RhdGEoKVxuI2Vycm9yLCBwb3NpdGlvbiA9IGdldF9zdHVkZW50X2Vycm9yKClcbiNjb21wYXRpYmlsaXR5LnJhaXNlX2V4Y2VwdGlvbihlcnJvciwgcG9zaXRpb24pXG5ydW5fc3R1ZGVudCA9IGNvbXBhdGliaWxpdHkucnVuX3N0dWRlbnRcbnJlc2V0X291dHB1dCA9IGNvbXBhdGliaWxpdHkucmVzZXRfb3V0cHV0XG5xdWV1ZV9pbnB1dCA9IGNvbXBhdGliaWxpdHkucXVldWVfaW5wdXRcbmdldF9vdXRwdXQgPSBjb21wYXRpYmlsaXR5LmdldF9vdXRwdXRcbmdldF9wbG90cyA9IGNvbXBhdGliaWxpdHkuZ2V0X3Bsb3RzXG5jb21wYXRpYmlsaXR5LnRyYWNlX2xpbmVzID0gdHJhY2VfbGluZXNcbmZyb20gcGVkYWwgaW1wb3J0IHF1ZXN0aW9uc1xucXVlc3Rpb25zLnNob3dfcXVlc3Rpb24gPSBzZXRfaW5zdHJ1Y3Rpb25zXG4jIFRPRE86IFJlbW92ZSB0aGUgbmVlZCBmb3IgdGhpcyBoYWNrIVxuZGVmIGNhcHR1cmVfb3V0cHV0KGZ1bmMsICphcmdzKTpcbiAgIHJlc2V0X291dHB1dCgpXG4gICBzdHVkZW50LmNhbGwoZnVuYy5fX25hbWVfXywgKmFyZ3MpXG4gICByZXR1cm4gZ2V0X291dHB1dCgpXG5jb21wYXRpYmlsaXR5LmNhcHR1cmVfb3V0cHV0ID0gY2FwdHVyZV9vdXRwdXRcblxuZnJvbSBwZWRhbC5jYWl0LmNhaXRfYXBpIGltcG9ydCBwYXJzZV9wcm9ncmFtXG4ke2luc3RydWN0b3JDb2RlfVxuZnJvbSBwZWRhbC5yZXNvbHZlcnMgaW1wb3J0IHNpbXBsZVxuZmluYWwgPSBzaW1wbGUucmVzb2x2ZSgpXG5TVUNDRVNTID0gZmluYWwuc3VjY2Vzc1xuU0NPUkUgPSBmaW5hbC5zY29yZVxuQ0FURUdPUlkgPSBmaW5hbC5jYXRlZ29yeVxuTEFCRUwgPSBmaW5hbC50aXRsZVxuTUVTU0FHRSA9IGZpbmFsLm1lc3NhZ2VcbkRBVEEgPSBmaW5hbC5kYXRhXG5ISURFID0gZmluYWwuaGlkZV9jb3JyZWN0bmVzc1xuXG4gKi8iLCJpbXBvcnQge09uUnVuQ29uZmlndXJhdGlvbn0gZnJvbSBcIi4vb25fcnVuXCI7XG5cbmV4cG9ydCBjbGFzcyBPblNhbXBsZUNvbmZpZ3VyYXRpb24gZXh0ZW5kcyBPblJ1bkNvbmZpZ3VyYXRpb24ge1xuICAgIHVzZShlbmdpbmUpIHtcbiAgICAgICAgc3VwZXIudXNlKGVuZ2luZSk7XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBcIm9uX3J1bi5weVwiO1xuICAgICAgICB0aGlzLmNvZGUgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vblJ1bigpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn0iLCJpbXBvcnQge1N0dWRlbnRDb25maWd1cmF0aW9ufSBmcm9tIFwiLi9zdHVkZW50XCI7XG5pbXBvcnQge1N0YXR1c1N0YXRlfSBmcm9tIFwiLi4vc2VydmVyXCI7XG5cbmV4cG9ydCBjbGFzcyBSdW5Db25maWd1cmF0aW9uIGV4dGVuZHMgU3R1ZGVudENvbmZpZ3VyYXRpb24ge1xuICAgIHVzZShlbmdpbmUpIHtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5tZXNzYWdlKFwiUnVubmluZy4uLlwiKTtcbiAgICAgICAgdGhpcy5maWxlbmFtZSA9IFwiYW5zd2VyXCI7XG4gICAgICAgIHRoaXMuY29kZSA9IHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmNvZGUoKTtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLnNhdmVGaWxlKFwiYW5zd2VyLnB5XCIsIHRoaXMuY29kZSwgbnVsbCk7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIkNvbXBpbGVcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJhbnN3ZXIucHlcIik7XG5cbiAgICAgICAgc3VwZXIudXNlKGVuZ2luZSk7XG5cbiAgICAgICAgZW5naW5lLnJlc2V0KCk7XG4gICAgICAgIHRoaXMudXBkYXRlUGFyc2UoKTtcblxuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHNbXCJ2ZXJpZmllclwiXSA9IHtcbiAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBCb29sZWFuKHRoaXMuY29kZS50cmltKCkpLFxuICAgICAgICAgICAgXCJjb2RlXCI6IHRoaXMuY29kZVxuICAgICAgICB9O1xuXG4gICAgICAgIFNrLnJldGFpbkdsb2JhbHMgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmNsZWFySW5wdXQoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzdWNjZXNzKG1vZHVsZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJ1biBzdWNjZXNzXCIpO1xuICAgICAgICBsZXQgbWVzc2FnZSA9IHtcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXQoKS5qb2luKFwiXFxuXCIpLFxuICAgICAgICAgICAgXCJvdXRwdXRzXCI6IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ub3V0cHV0KCkubWFwKGxpbmUgPT4gbGluZS5jb250ZW50KS5qb2luKFwiXFxuXCIpLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJSdW4uUHJvZ3JhbVwiLCBcIlwiLCBcIlwiLCBKU09OLnN0cmluZ2lmeShtZXNzYWdlKSwgXCJhbnN3ZXIucHlcIik7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LmRpcnR5U3VibWlzc2lvbihmYWxzZSk7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGUuZmluaXNoVHVydGxlcygpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLlJFQURZKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50Lmdsb2JhbHMoU2suZ2xvYmFscyk7XG4gICAgICAgIFNrLmdsb2JhbHMgPSB7fTtcbiAgICAgICAgbGV0IHJlcG9ydCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cztcbiAgICAgICAgbGV0IGZpbGVuYW1lID0gdGhpcy5maWxlbmFtZTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LnJlc3VsdHMgPSBtb2R1bGU7XG4gICAgICAgIGlmICghdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuaGlkZUV2YWx1YXRlKCkpIHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGUuYmVnaW5FdmFsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RlcChtb2R1bGUuJGQsIG1vZHVsZS4kZCwtMSwgMCwgZmlsZW5hbWUgKyBcIi5weVwiKTtcbiAgICAgICAgICAgIHRoaXMubGFzdFN0ZXAoKTtcbiAgICAgICAgICAgIHJlcG9ydFtcInN0dWRlbnRcIl0gPSB7XG4gICAgICAgICAgICAgICAgXCJzdWNjZXNzXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgXCJ0cmFjZVwiOiB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UsXG4gICAgICAgICAgICAgICAgXCJsaW5lc1wiOiB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UubWFwKHggPT4geC5saW5lKSxcbiAgICAgICAgICAgICAgICBcInJlYWxMaW5lc1wiOiB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UuZmlsdGVyKHggPT4gIXguaXNEb2NzdHJpbmcpLm1hcCh4ID0+IHgubGluZSksXG4gICAgICAgICAgICAgICAgXCJyZXN1bHRzXCI6IG1vZHVsZSxcbiAgICAgICAgICAgICAgICBcIm91dHB1dFwiOiB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLm91dHB1dCxcbiAgICAgICAgICAgICAgICBcImlucHV0XCI6IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZhaWx1cmUoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJSdW4gZmFpbHVyZVwiKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5GQUlMRUQpO1xuICAgICAgICBsZXQgcmVwb3J0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzO1xuICAgICAgICBpZiAocmVwb3J0LnBhcnNlci5zdWNjZXNzICYmIHJlcG9ydC52ZXJpZmllci5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJDb21waWxlLkVycm9yXCIsIFwiXCIsIFwiXCIsIGVycm9yLnRvU3RyaW5nKCksIFwiYW5zd2VyLnB5XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiUnVuLlByb2dyYW1cIiwgXCJQcm9ncmFtRXJyb3JPdXRwdXRcIiwgXCJcIiwgZXJyb3IudG9TdHJpbmcoKSwgXCJhbnN3ZXIucHlcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHJlcG9ydFtcInN0dWRlbnRcIl0gPSB7XG4gICAgICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIFwiZXJyb3JcIjogZXJyb3IsXG4gICAgICAgICAgICAgICAgXCJsaW5lc1wiOiB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UubWFwKHggPT4geC5saW5lKSxcbiAgICAgICAgICAgICAgICBcInJlYWxMaW5lc1wiOiB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UuZmlsdGVyKHggPT4gIXguaXNEb2NzdHJpbmcpLm1hcCh4ID0+IHgubGluZSksXG4gICAgICAgICAgICAgICAgXCJpbnB1dFwiOiB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCJpbXBvcnQge1N0dWRlbnRDb25maWd1cmF0aW9ufSBmcm9tIFwiLi9zdHVkZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBTYW1wbGVDb25maWd1cmF0aW9uIGV4dGVuZHMgU3R1ZGVudENvbmZpZ3VyYXRpb24ge1xuICAgIHVzZShlbmdpbmUpIHtcbiAgICAgICAgc3VwZXIudXNlKGVuZ2luZSk7XG4gICAgICAgIC8vIFRPRE86IEZpeCB0byBiZSB0aGUgY3VycmVudCBzYW1wbGUgc3VibWlzc2lvblxuICAgICAgICB0aGlzLmZpbGVuYW1lID0gXCJhbnN3ZXIucHlcIjtcbiAgICAgICAgdGhpcy5jb2RlID0gXCJwcmludCgnTm90IHJlYWR5IHlldCEnKVwiO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn0iLCJpbXBvcnQge0NvbmZpZ3VyYXRpb24sIEVNUFRZX01PRFVMRX0gZnJvbSBcIi4vY29uZmlndXJhdGlvbnNcIjtcblxuZXhwb3J0IGNsYXNzIFN0dWRlbnRDb25maWd1cmF0aW9uIGV4dGVuZHMgQ29uZmlndXJhdGlvbiB7XG4gICAgdXNlKGVuZ2luZSkge1xuICAgICAgICBzdXBlci51c2UoZW5naW5lKTtcbiAgICAgICAgLy8gTGltaXQgZXhlY3V0aW9uIHRvIDQgc2Vjb25kc1xuICAgICAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLm1haW4ubW9kZWwuc2V0dGluZ3M7XG4gICAgICAgIFNrLmV4ZWNMaW1pdEZ1bmN0aW9uID0gKCkgPT5cbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVUaW1lb3V0KCkgPyBJbmZpbml0eSA6IDUwMDA7XG4gICAgICAgIFNrLmV4ZWNMaW1pdCA9IFNrLmV4ZWNMaW1pdEZ1bmN0aW9uKCk7XG4gICAgICAgIC8vIFN0ZXBwZXIhIEV4ZWN1dGVkIGFmdGVyIGV2ZXJ5IHN0YXRlbWVudC5cbiAgICAgICAgU2suYWZ0ZXJTaW5nbGVFeGVjdXRpb24gPSB0aGlzLnN0ZXAuYmluZCh0aGlzKTtcbiAgICAgICAgLy8gVW5tdXRlIGV2ZXJ5dGhpbmdcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkubXV0ZVByaW50ZXIoZmFsc2UpO1xuXG4gICAgICAgIC8vIEZ1bmN0aW9uIHRvIGNhbGwgYWZ0ZXIgZWFjaCBzdGVwXG4gICAgICAgIC8vIGFmdGVyU2luZ2xlRXhlY3V0aW9uXG5cbiAgICAgICAgU2suYnVpbHRpbkZpbGVzLmZpbGVzW1wic3JjL2xpYi91dGlsaXR5L19faW5pdF9fLmpzXCJdID0gRU1QVFlfTU9EVUxFO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIG9wZW5GaWxlKGZpbGVuYW1lKSB7XG4gICAgICAgIGxldCBmb3VuZCA9IHRoaXMubWFpbi5jb21wb25lbnRzLmZpbGVTeXN0ZW0uc2VhcmNoRm9yRmlsZShmaWxlbmFtZSwgdHJ1ZSk7XG4gICAgICAgIC8vY29uc29sZS5sb2coZmlsZW5hbWUsIGZvdW5kKTtcbiAgICAgICAgaWYgKGZvdW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTay5idWlsdGluLk9TRXJyb3IoXCJGaWxlIG5vdCBmb3VuZDogXCIrZmlsZW5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZvdW5kLmNvbnRlbnRzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbXBvcnRGaWxlKGZpbGVuYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRm9yYmlkZGVuKGZpbGVuYW1lKSkge1xuICAgICAgICAgICAgdGhyb3cgXCJGaWxlIG5vdCBhY2Nlc3NpYmxlOiAnXCIgKyBmaWxlbmFtZSArIFwiJ1wiO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGVuYW1lID09PSBcIi4vYW5zd2VyLnB5XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb2RlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoU2suYnVpbHRpbkZpbGVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTay5idWlsdGluLk9TRXJyb3IoXCJCdWlsdC1pbiBtb2R1bGVzIG5vdCBhY2Nlc3NpYmxlLlwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChTay5idWlsdGluRmlsZXNbXCJmaWxlc1wiXVtmaWxlbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIFNrLmJ1aWx0aW5GaWxlc1tcImZpbGVzXCJdW2ZpbGVuYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBmb3VuZCA9IHRoaXMubWFpbi5jb21wb25lbnRzLmZpbGVTeXN0ZW0uc2VhcmNoRm9yRmlsZShmaWxlbmFtZSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoZm91bmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTay5idWlsdGluLk9TRXJyb3IoXCJGaWxlIG5vdCBmb3VuZDogJ1wiK2ZpbGVuYW1lICsgXCInXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm91bmQuY29udGVudHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlucHV0KHByb21wdE1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGUuaW5wdXQocHJvbXB0TWVzc2FnZSk7XG4gICAgfVxuXG4gICAgaXNGb3JiaWRkZW4oZmlsZW5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZpbGVuYW1lLnN0YXJ0c1dpdGgoXCJzcmMvbGliL3V0aWxpdHkvXCIpIHx8XG4gICAgICAgICAgICBmaWxlbmFtZS5zdGFydHNXaXRoKFwic3JjL2xpYi9wZWRhbC9cIikgfHxcbiAgICAgICAgICAgIGZpbGVuYW1lLnN0YXJ0c1dpdGgoXCIuL19pbnN0cnVjdG9yL1wiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcIlN0ZXBzXCIgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgY29kZSwgbWVhbnQgdG8gYmUgdXNlZCBhcyBhIGNhbGxiYWNrIHRvIHRoZSBTa3VscHRcbiAgICAgKiBlbnZpcm9ubWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBnbG9iYWxzIC0gSGFzaCB0aGF0IG1hcHMgdGhlIG5hbWVzIG9mIGdsb2JhbCB2YXJpYWJsZXMgKFN0cmluZ3MpIHRvIHRoZWlyIFNrdWxwdCByZXByZXNlbnRhdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbG9jYWxzIC0gSGFzaCB0aGF0IG1hcHMgdGhlIG5hbWVzIG9mIGxvY2FsIHZhcmlhYmxlcyAoU3RyaW5ncykgdG8gdGhlaXIgU2t1bHB0IHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lTnVtYmVyIC0gVGhlIGNvcnJlc3BvbmRpbmcgbGluZSBudW1iZXIgaW4gdGhlIHNvdXJjZSBjb2RlIHRoYXQgaXMgYmVpbmcgZXhlY3V0ZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNvbHVtbk51bWJlciAtIFRoZSBjb3JyZXNwb25kaW5nIGNvbHVtbiBudW1iZXIgaW4gdGhlIHNvdXJjZSBjb2RlIHRoYXQgaXMgYmVpbmcgZXhlY3V0ZWQuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoaW5rIG9mIGl0IGFzIHRoZSBcIlhcIiBwb3NpdGlvbiB0byB0aGUgbGluZU51bWJlcidzIFwiWVwiIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBmaWxlbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBweXRob24gZmlsZSBiZWluZyBleGVjdXRlZCAoZS5nLiwgXCJfX21haW5fXy5weVwiKS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzRG9jc3RyaW5nIC0gV2hldGhlciBvciBub3QgdGhpcyBpcyBhbiBhY3R1YWwgbGluZSBvciBhIGRvY3N0cmluZy5cbiAgICAgKi9cbiAgICBzdGVwKGdsb2JhbHMsIGxvY2FscywgbGluZU51bWJlciwgY29sdW1uTnVtYmVyLCBmaWxlbmFtZSwgaXNEb2NzdHJpbmcpIHtcbiAgICAgICAgaWYgKGZpbGVuYW1lID09PSBcImFuc3dlci5weVwiKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudFN0ZXAgPSB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIuc3RlcDtcbiAgICAgICAgICAgIGxldCBnbG9iYWxzID0gdGhpcy5tYWluLmNvbXBvbmVudHMudHJhY2UucGFyc2VHbG9iYWxzKGdsb2JhbHMpO1xuICAgICAgICAgICAgLy8gVE9ETzogVHJhY2UgbG9jYWwgdmFyaWFibGVzIHByb3Blcmx5XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGdsb2JhbHMsIGxvY2Fscyk7XG4gICAgICAgICAgICAvL2xldCBsb2NhbHMgPSB0aGlzLm1haW4uY29tcG9uZW50cy50cmFjZS5wYXJzZUdsb2JhbHMobG9jYWxzKTtcbiAgICAgICAgICAgIC8vT2JqZWN0LmFzc2lnbihnbG9iYWxzLCBsb2NhbHMpO1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnRyYWNlLnB1c2goe1xuICAgICAgICAgICAgICAgIFwic3RlcFwiOiBjdXJyZW50U3RlcCxcbiAgICAgICAgICAgICAgICBcImZpbGVuYW1lXCI6IGZpbGVuYW1lLFxuICAgICAgICAgICAgICAgIC8vJ2Jsb2NrJzogaGlnaGxpZ2h0TWFwW2xpbmVOdW1iZXItMV0sXG4gICAgICAgICAgICAgICAgXCJsaW5lXCI6IGxpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgXCJjb2x1bW5cIjogY29sdW1uTnVtYmVyLFxuICAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiBnbG9iYWxzLnByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgXCJtb2R1bGVzXCI6IGdsb2JhbHMubW9kdWxlcyxcbiAgICAgICAgICAgICAgICBcImlzRG9jc3RyaW5nXCI6IGlzRG9jc3RyaW5nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLmV4ZWN1dGlvbkJ1ZmZlci5zdGVwID0gY3VycmVudFN0ZXAgKyAxO1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLmxpbmUgPSBsaW5lTnVtYmVyO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBhdCB0aGUgZW5kIG9mIHRoZSBTa3VscHQgZXhlY3V0aW9uIHRvIHRlcm1pbmF0ZSB0aGUgZXhlY3V0aW9uQnVmZmVyXG4gICAgICogYW5kIGhhbmQgaXQgb2ZmIHRvIHRoZSBleGVjdXRpb24gdHJhY2UgaW4gdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIGxhc3RTdGVwKCkge1xuICAgICAgICBsZXQgZXhlY3V0aW9uID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbjtcbiAgICAgICAgZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlRGF0YSh0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UpO1xuICAgICAgICBleGVjdXRpb24uc3R1ZGVudC5jdXJyZW50U3RlcCh0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIuc3RlcCk7XG4gICAgICAgIGV4ZWN1dGlvbi5zdHVkZW50Lmxhc3RTdGVwKHRoaXMuZW5naW5lLmV4ZWN1dGlvbkJ1ZmZlci5zdGVwKTtcbiAgICAgICAgZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudExpbmUodGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLmxpbmUpO1xuICAgICAgICBleGVjdXRpb24uc3R1ZGVudC5sYXN0TGluZSh0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIubGluZSk7XG4gICAgICAgIGV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAodGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnN0ZXApO1xuICAgIH07XG5cbiAgICBnZXRMaW5lcyhhc3QpIHtcbiAgICAgICAgbGV0IHZpc2l0ZWRMaW5lcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgbGV0IHZpc2l0Qm9keSA9IChub2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAobm9kZS5saW5lbm8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZpc2l0ZWRMaW5lcy5hZGQobm9kZS5saW5lbm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUuYm9keSkge1xuICAgICAgICAgICAgICAgIG5vZGUuYm9keS5mb3JFYWNoKChzdGF0ZW1lbnQpID0+IHZpc2l0Qm9keShzdGF0ZW1lbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlLm9yZWxzZSkge1xuICAgICAgICAgICAgICAgIG5vZGUub3JlbHNlLmZvckVhY2goKHN0YXRlbWVudCkgPT4gdmlzaXRCb2R5KHN0YXRlbWVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUuZmluYWxib2R5KSB7XG4gICAgICAgICAgICAgICAgbm9kZS5maW5hbGJvZHkuZm9yRWFjaCgoc3RhdGVtZW50KSA9PiB2aXNpdEJvZHkoc3RhdGVtZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZpc2l0Qm9keShhc3QpO1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh2aXNpdGVkTGluZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuc3VyZSB0aGF0IHRoZSBwYXJzZSBpbmZvcm1hdGlvbiBpcyB1cC10by1kYXRlXG4gICAgICovXG4gICAgdXBkYXRlUGFyc2UoKSB7XG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIC8vIEhvbGQgYWxsIHRoZSBhY3R1YWxseSBkaXNjb3ZlcmVkIGxpbmVzIGZyb20gdGhlIHBhcnNlXG4gICAgICAgIGxldCBsaW5lcyA9IFtdO1xuICAgICAgICAvLyBBdHRlbXB0IGEgcGFyc2VcbiAgICAgICAgbGV0IGFzdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBwYXJzZSA9IFNrLnBhcnNlKHRoaXMuZmlsZW5hbWUsIHRoaXMuY29kZSk7XG4gICAgICAgICAgICBhc3QgPSBTay5hc3RGcm9tUGFyc2UocGFyc2UuY3N0LCB0aGlzLmZpbGVuYW1lLCBwYXJzZS5mbGFncyk7XG4gICAgICAgICAgICBsaW5lcyA9IHRoaXMuZ2V0TGluZXMoYXN0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIFJlcG9ydCB0aGUgZXJyb3JcbiAgICAgICAgICAgIHJlcG9ydFtcInBhcnNlclwiXSA9IHtcbiAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgXCJlcnJvclwiOiBlcnJvcixcbiAgICAgICAgICAgICAgICBcImVtcHR5XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgXCJsaW5lc1wiOiBsaW5lc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5maWxlbmFtZSwgdGhpcy5jb2RlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdWNjZXNzZnVsIHBhcnNlXG4gICAgICAgIHJlcG9ydFtcInBhcnNlclwiXSA9IHtcbiAgICAgICAgICAgIFwic3VjY2Vzc1wiOiB0cnVlLFxuICAgICAgICAgICAgXCJhc3RcIjogYXN0LFxuICAgICAgICAgICAgXCJlbXB0eVwiOiBhc3QuYm9keS5sZW5ndGggPT09IDAsXG4gICAgICAgICAgICBcImxpbmVzXCI6IGxpbmVzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHNob3dFcnJvcnMoKSB7XG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIGlmIChyZXBvcnRbXCJzdHVkZW50XCJdLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmZlZWRiYWNrLmNsZWFyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5mZWVkYmFjay5wcmVzZW50UnVuRXJyb3IocmVwb3J0LnN0dWRlbnQuZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdmlkZVNlY3JldEVycm9yKCkge1xuICAgICAgICBsZXQgcmVwb3J0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzO1xuICAgICAgICBsZXQgZmVlZGJhY2sgPSB0aGlzLm1haW4uY29tcG9uZW50cy5mZWVkYmFjaztcbiAgICAgICAgaWYgKCFyZXBvcnRbXCJzdHVkZW50XCJdLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGxldCBlcnJvckJ1dHRvbiA9IHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmNvbnRhaW5lci5maW5kKFwiLmJsb2NrcHktc3R1ZGVudC1lcnJvclwiKTtcbiAgICAgICAgICAgIGxldCBtZXNzYWdlID0gZmVlZGJhY2sucHJlc2VudFJ1bkVycm9yKHJlcG9ydC5zdHVkZW50LmVycm9yLCB0cnVlKTtcbiAgICAgICAgICAgIGVycm9yQnV0dG9uLmF0dHIoXCJ0aXRsZVwiLCBcIkNsaWNrIHRvIHNlZSBPcmlnaW5hbCBFcnJvclwiKTtcbiAgICAgICAgICAgIGVycm9yQnV0dG9uLnRvb2x0aXAoe1widHJpZ2dlclwiOiBcImhvdmVyXCIsIFwiY29udGFpbmVyXCI6IHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmF0dGFjaG1lbnRQb2ludH0pO1xuICAgICAgICAgICAgZXJyb3JCdXR0b24uY2xpY2soKCkgPT4gdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLkVSUk9SX1NIT1dfU1RVREVOVF9FUlJPUihtZXNzYWdlKSk7XG4gICAgICAgICAgICBlcnJvckJ1dHRvbi5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiZXhwb3J0IGxldCBGRUVEQkFDS19IVE1MID0gYFxuXG48c3BhbiBjbGFzcz0nYmxvY2tweS1mbG9hdGluZy1mZWVkYmFjayB0ZXh0LW11dGVkLWxlc3MgcHVsbC1yaWdodCBwb3NpdGlvbi1zdGlja3kgc3RpY2t5LXRvcCdcbiAgICBhcmlhLWhpZGRlbj1cInRydWVcIiByb2xlPVwicHJlc2VudGF0aW9uXCIgYXJpYS1sYWJlbD1cIk5ldyBGZWVkYmFjayBBbGVydFwiPlxuICAgIE5ldyBmZWVkYmFjayAmdWFycjtcbjwvc3Bhbj5cblxuPGRpdiBjbGFzcz0nYmxvY2tweS1mZWVkYmFjayBjb2wtbWQtNiBibG9ja3B5LXBhbmVsJ1xuICAgICAgICAgICAgcm9sZT1cInJlZ2lvblwiIGFyaWEtbGFiZWw9XCJGZWVkYmFja1wiXG4gICAgICAgICAgICBhcmlhLWxpdmU9XCJwb2xpdGVcIj5cblxuICAgIDwhLS0gRmVlZGJhY2svVHJhY2UgVmlzaWJpbGl0eSBDb250cm9sIC0tPlxuICAgIDxidXR0b24gdHlwZT0nYnV0dG9uJ1xuICAgICAgICAgICAgY2xhc3M9J2J0biBidG4tc20gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGZsb2F0LXJpZ2h0J1xuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLnNlY29uZFJvdy5hZHZhbmNlU3RhdGVcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1leWUnPjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogdWkuc2Vjb25kUm93LnN3aXRjaExhYmVsXCI+PC9zcGFuPlxuICAgIDwvYnV0dG9uPlxuICAgIFxuICAgIDwhLS0gUG9zaXRpdmUgRmVlZGJhY2sgUmVnaW9uIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJibG9ja3B5LWZlZWRiYWNrLXBvc2l0aXZlIGZsb2F0LXJpZ2h0XCI+XG4gICAgICAgIFxuICAgIFxuICAgIDwvZGl2PlxuXG4gICAgPCEtLSBBY3R1YWwgRmVlZGJhY2sgUmVnaW9uIC0tPiAgICBcbiAgICA8ZGl2PlxuICAgICAgICA8c3Ryb25nPkZlZWRiYWNrOiA8L3N0cm9uZz5cbiAgICAgICAgPHNwYW4gY2xhc3M9J2JhZGdlIGJsb2NrcHktZmVlZGJhY2stY2F0ZWdvcnkgZmVlZGJhY2stYmFkZ2UnXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJjc3M6IHVpLmZlZWRiYWNrLmJhZGdlLFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB1aS5mZWVkYmFjay5jYXRlZ29yeVwiPkZlZWRiYWNrIEtpbmQ8L3NwYW4+XG4gICAgICAgIDxzbWFsbCBkYXRhLWJpbmQ9XCJ0ZXh0OiAoMTAwKnN1Ym1pc3Npb24uc2NvcmUoKSkrJyUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBkaXNwbGF5Lmluc3RydWN0b3IoKSAmJiBleGVjdXRpb24uZmVlZGJhY2subGFiZWwoKVwiXG4gICAgICAgICAgICBjbGFzcz1cInRleHQtbXV0ZWRcIj48L3NtYWxsPlxuICAgIDwvZGl2PlxuICAgIDxkaXY+XG4gICAgICAgIDxzdHJvbmcgY2xhc3M9XCJibG9ja3B5LWZlZWRiYWNrLWxhYmVsXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cInRleHQ6IGV4ZWN1dGlvbi5mZWVkYmFjay5sYWJlbFwiPjwvc3Ryb25nPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYmxvY2tweS1mZWVkYmFjay1tZXNzYWdlXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImh0bWw6IGV4ZWN1dGlvbi5mZWVkYmFjay5tZXNzYWdlXCI+PC9kaXY+XG4gICAgPC9kaXY+XG48L2Rpdj4gICAgICAgICAgICBcbmA7XG5cbmV4cG9ydCBjbGFzcyBCbG9ja1B5RmVlZGJhY2sge1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHRoYXQgbWFuYWdlcyB0aGUgZmVlZGJhY2sgYXJlYSwgd2hlcmUgdXNlcnMgYXJlIHRvbGQgdGhlIHN0YXRlIG9mIHRoZWlyXG4gICAgICogcHJvZ3JhbSdzIGV4ZWN1dGlvbiBhbmQgZ2l2ZW4gZ3VpZGFuY2UuIEFsc28gbWFuYWdlcyB0aGUgY3JlYXRpb24gb2YgdGhlIFRyYWNlIFRhYmxlLlxuICAgICAqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHRoaXMge0Jsb2NrUHlGZWVkYmFja31cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFpbiAtIFRoZSBtYWluIEJsb2NrUHkgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YWcgLSBUaGUgSFRNTCBvYmplY3QgdGhpcyBpcyBhdHRhY2hlZCB0by5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYWluLCB0YWcpIHtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgdGhpcy50YWcgPSB0YWc7XG5cbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjaztcblxuICAgICAgICB0aGlzLmNhdGVnb3J5ID0gdGhpcy50YWcuZmluZChcIi5ibG9ja3B5LWZlZWRiYWNrLWNhdGVnb3J5XCIpO1xuICAgICAgICB0aGlzLmxhYmVsID0gdGhpcy50YWcuZmluZChcIi5ibG9ja3B5LWZlZWRiYWNrLWxhYmVsXCIpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLnRhZy5maW5kKFwiLmJsb2NrcHktZmVlZGJhY2stbWVzc2FnZVwiKTtcbiAgICAgICAgdGhpcy5wb3NpdGl2ZSA9IHRoaXMudGFnLmZpbmQoXCIuYmxvY2tweS1mZWVkYmFjay1wb3NpdGl2ZVwiKTtcblxuICAgICAgICAvLyBUT0RPOiBJZiB0aGV5IGNoYW5nZSB0aGUgc3R1ZGVudCBleHRyYSBmaWxlcywgYWxzbyB1cGRhdGUgdGhlIGRpcnR5IGZsYWdcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uY29kZS5zdWJzY3JpYmUoKCkgPT4gdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuZGlydHlTdWJtaXNzaW9uKHRydWUpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTW92ZXMgdGhlIHNjcmVlbiAodGFrZXMgMSBzZWNvbmQpIHRvIG1ha2UgdGhlIEZlZWRiYWNrIGFyZWEgdmlzaWJsZS5cbiAgICAgKi9cbiAgICBzY3JvbGxJbnRvVmlldygpIHtcbiAgICAgICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZSh7XG4gICAgICAgICAgICBzY3JvbGxUb3A6IHRoaXMudGFnLm9mZnNldCgpLnRvcFxuICAgICAgICB9LCAxMDAwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgZmVlZGJhY2sgYXJlYSBpcyBjdXJyZW50bHkgdmlzaWJsZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzRmVlZGJhY2tWaXNpYmxlKCkge1xuICAgICAgICBsZXQgdmlzaWJpbGl0eUJ1ZmZlciA9IDEwMDtcbiAgICAgICAgbGV0IHRvcE9mRWxlbWVudCA9IHRoaXMudGFnLm9mZnNldCgpLnRvcDtcbiAgICAgICAgLy9sZXQgYm90dG9tT2ZFbGVtZW50ID0gdGhpcy50YWcub2Zmc2V0KCkudG9wICsgdGhpcy50YWcub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgbGV0IGJvdHRvbU9mRWxlbWVudCA9IHRvcE9mRWxlbWVudCArIHZpc2liaWxpdHlCdWZmZXI7XG4gICAgICAgIGxldCBib3R0b21PZlNjcmVlbiA9ICQod2luZG93KS5zY3JvbGxUb3AoKSArICQod2luZG93KS5oZWlnaHQoKTtcbiAgICAgICAgbGV0IHRvcE9mU2NyZWVuID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuICAgICAgICAvL2JvdHRvbV9vZl9lbGVtZW50IC09IDQwOyAvLyBVc2VyIGZyaWVuZGx5IHBhZGRpbmdcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICh0b3BPZkVsZW1lbnQgPCBib3R0b21PZlNjcmVlbikgJiZcbiAgICAgICAgICAgICh0b3BPZlNjcmVlbiA8IGJvdHRvbU9mRWxlbWVudCkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYW55IG91dHB1dCBjdXJyZW50bHkgaW4gdGhlIGZlZWRiYWNrIGFyZWEuIEFsc28gcmVzZXRzIHRoZSBwcmludGVyIGFuZFxuICAgICAqIGFueSBoaWdobGlnaHRlZCBsaW5lcyBpbiB0aGUgZWRpdG9yLlxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwubWVzc2FnZShcIipSZWFkeSpcIik7XG4gICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5jYXRlZ29yeShudWxsKTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxhYmVsKG51bGwpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwuaGlkZGVuKGZhbHNlKTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxpbmVzRXJyb3IucmVtb3ZlQWxsKCk7XG4gICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5saW5lc1VuY292ZXJlZC5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5jbGVhclBvc2l0aXZlRmVlZGJhY2soKTtcbiAgICB9O1xuXG4gICAgc3RhdGljIGZpbmRGaXJzdEVycm9yTGluZShmZWVkYmFja0RhdGEpIHtcbiAgICAgICAgaWYgKGZlZWRiYWNrRGF0YS5xdWljayRsb29rdXApIHtcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbiA9IGZlZWRiYWNrRGF0YS5xdWljayRsb29rdXAobmV3IFNrLmJ1aWx0aW4uc3RyKFwibG9jYXRpb25cIikpO1xuICAgICAgICAgICAgaWYgKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxpbmUgPSBsb2NhdGlvbi50cCRnZXRhdHRyKG5ldyBTay5idWlsdGluLnN0cihcImxpbmVcIikpO1xuICAgICAgICAgICAgICAgIGlmIChsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTay5mZmkucmVtYXBUb0pzKGxpbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgLypmb3IgKGxldCBpID0gZmVlZGJhY2tEYXRhLmxlbmd0aC0xOyBpID49IDA7IGktPSAxKSB7XG4gICAgICAgICAgICBpZiAoXCJwb3NpdGlvblwiIGluIGZlZWRiYWNrRGF0YVtpXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmZWVkYmFja0RhdGFbaV0ucG9zaXRpb24ubGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDsqL1xuICAgIH07XG5cbiAgICB1cGRhdGVSZWd1bGFyRmVlZGJhY2soKSB7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBtb2RlbCB3aXRoIHRoZXNlIG5ldyBleGVjdXRpb24gcmVzdWx0c1xuICAgICAqIEBwYXJhbSBleGVjdXRpb25SZXN1bHRzXG4gICAgICovXG4gICAgdXBkYXRlRmVlZGJhY2soZXhlY3V0aW9uUmVzdWx0cykge1xuICAgICAgICAvLyBQYXJzZSBvdXQgZGF0YVxuICAgICAgICBsZXQgbWVzc2FnZSA9IFNrLmZmaS5yZW1hcFRvSnMoZXhlY3V0aW9uUmVzdWx0cy5NRVNTQUdFKTtcbiAgICAgICAgbGV0IGNhdGVnb3J5ID0gU2suZmZpLnJlbWFwVG9KcyhleGVjdXRpb25SZXN1bHRzLkNBVEVHT1JZKTtcbiAgICAgICAgbGV0IGxhYmVsID0gU2suZmZpLnJlbWFwVG9KcyhleGVjdXRpb25SZXN1bHRzLkxBQkVMKTtcbiAgICAgICAgbGV0IGhpZGUgPSBTay5mZmkucmVtYXBUb0pzKGV4ZWN1dGlvblJlc3VsdHMuSElERSk7XG4gICAgICAgIGxldCBkYXRhID0gZXhlY3V0aW9uUmVzdWx0cy5EQVRBO1xuICAgICAgICBsZXQgcG9zaXRpdmVzID0gU2suZmZpLnJlbWFwVG9KcyhleGVjdXRpb25SZXN1bHRzLlBPU0lUSVZFKTtcblxuICAgICAgICAvLyBPdmVycmlkZSBiYXNlZCBvbiBhc3NpZ25tZW50cycgc2V0dGluZ3NcbiAgICAgICAgbGV0IGhpZGVTY29yZSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmhpZGRlbigpO1xuICAgICAgICBpZiAoaGlkZVNjb3JlICYmIGNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgPT09IFwiY29tcGxldGVcIikge1xuICAgICAgICAgICAgY2F0ZWdvcnkgPSBcIm5vIGVycm9yc1wiO1xuICAgICAgICAgICAgbGFiZWwgPSBcIk5vIGVycm9yc1wiO1xuICAgICAgICAgICAgbWVzc2FnZSA9IFwiTm8gZXJyb3JzIHJlcG9ydGVkLlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVtYXAgdG8gZXhwZWN0ZWQgQmxvY2tQeSBsYWJlbHNcbiAgICAgICAgaWYgKGNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgPT09IFwiaW5zdHJ1Y3RvclwiICYmIGxhYmVsLnRvTG93ZXJDYXNlKCkgPT09IFwiZXhwbGFpblwiKSB7XG4gICAgICAgICAgICBsYWJlbCA9IFwiSW5zdHJ1Y3RvciBGZWVkYmFja1wiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG9uJ3QgcHJlc2VudCBhIGxhY2sgb2YgZXJyb3IgYXMgYmVpbmcgaW5jb3JyZWN0XG4gICAgICAgIGlmIChjYXRlZ29yeSA9PT0gXCJJbnN0cnVjdG9yXCIgJiYgbGFiZWwgPT09IFwiTm8gZXJyb3JzXCIpIHtcbiAgICAgICAgICAgIGNhdGVnb3J5ID0gXCJubyBlcnJvcnNcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBtb2RlbCBhY2NvcmRpbmdseVxuICAgICAgICBtZXNzYWdlID0gdGhpcy5tYWluLnV0aWxpdGllcy5tYXJrZG93bihtZXNzYWdlKS5yZXBsYWNlKC88cHJlPlxcbi9nLCBcIjxwcmU+XFxuXFxuXCIpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwubWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmNhdGVnb3J5KGNhdGVnb3J5KTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxhYmVsKGxhYmVsKTtcbiAgICAgICAgLy9sZXQgaGlnaGxpZ2h0VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLm1lc3NhZ2UuZmluZChcInByZSBjb2RlXCIpLm1hcCggKGksIGJsb2NrKSA9PiB7XG4gICAgICAgICAgICB3aW5kb3cuaGxqcy5oaWdobGlnaHRCbG9jayhibG9jayk7XG4gICAgICAgIH0pO1xuICAgICAgICAvL30sIDQwMCk7XG4gICAgICAgIC8vIFRPRE86IEluc3RlYWQgb2YgdHJhY2tpbmcgc3R1ZGVudCBmaWxlLCBsZXQncyB0cmFjayB0aGUgaW5zdHJ1Y3RvciBmaWxlXG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIkludGVydmVudGlvblwiLCBjYXRlZ29yeSwgbGFiZWwsIG1lc3NhZ2UsIFwiYW5zd2VyLnB5XCIpO1xuXG4gICAgICAgIC8vIENsZWFyIG91dCBhbnkgcHJldmlvdXNseSBoaWdobGlnaHRlZCBsaW5lc1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5weXRob25FZGl0b3IuYm0uY2xlYXJIaWdobGlnaHRlZExpbmVzKCk7XG5cbiAgICAgICAgLy8gRmluZCB0aGUgZmlyc3QgZXJyb3Igb24gYSBsaW5lIGFuZCByZXBvcnQgdGhhdFxuICAgICAgICBsZXQgbGluZSA9IEJsb2NrUHlGZWVkYmFjay5maW5kRmlyc3RFcnJvckxpbmUoZGF0YSk7XG4gICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5saW5lc0Vycm9yLnJlbW92ZUFsbCgpO1xuICAgICAgICBpZiAobGluZSAhPT0gbnVsbCAmJiBsaW5lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5saW5lc0Vycm9yLnB1c2gobGluZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnZlcnQgdGhlIHNldCBvZiB0cmFjZWQgbGluZXNcbiAgICAgICAgbGV0IHN0dWRlbnRSZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHMuc3R1ZGVudDtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxpbmVzVW5jb3ZlcmVkLnJlbW92ZUFsbCgpO1xuICAgICAgICBpZiAoc3R1ZGVudFJlcG9ydC5zdWNjZXNzKSB7XG4gICAgICAgICAgICBsZXQgdW5jb3ZlcmVkTGluZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cy5wYXJzZXIubGluZXMuZm9yRWFjaCgobGluZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzdHVkZW50UmVwb3J0LmxpbmVzLmluZGV4T2YobGluZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuY292ZXJlZExpbmVzLnB1c2gobGluZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwubGluZXNVbmNvdmVyZWQodW5jb3ZlcmVkTGluZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPHBvc2l0aXZlcy5sZW5ndGg7IGkrPTEpIHtcbiAgICAgICAgICAgIGxldCBwb3NpdGl2ZURhdGEgPSBwb3NpdGl2ZXNbaV07XG4gICAgICAgICAgICB0aGlzLmFkZFBvc2l0aXZlRmVlZGJhY2socG9zaXRpdmVEYXRhLm1lc3NhZ2UsIFwic3RhclwiLCBcImdyZWVuXCIsICgpID0+IHRoaXMubWFpbi5jb21wb25lbnRzLmRpYWxvZy5QT1NJVElWRV9GRUVEQkFDS19GVUxMKHBvc2l0aXZlRGF0YS50aXRsZSwgcG9zaXRpdmVEYXRhLm1lc3NhZ2UpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyUG9zaXRpdmVGZWVkYmFjaygpIHtcbiAgICAgICAgdGhpcy5wb3NpdGl2ZS5lbXB0eSgpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuY29uZmlndXJhdGlvbi5jb250YWluZXIuZmluZChcIi5ibG9ja3B5LXN0dWRlbnQtZXJyb3JcIikuaGlkZSgpO1xuICAgIH1cblxuICAgIGFkZFBvc2l0aXZlRmVlZGJhY2sodGV4dCwgaWNvbiwgY29sb3IsIG9uY2xpY2ssIHRvRW5kKSB7XG4gICAgICAgIGxldCBwb3NpdGl2ZSA9ICQoXCI8c3Bhbj48L3NwYW4+XCIpO1xuICAgICAgICBwb3NpdGl2ZS5hZGRDbGFzcyhcImJsb2NrcHktZmVlZGJhY2stcG9zaXRpdmUtaWNvbiBmYXMgZmEtXCIraWNvbik7XG4gICAgICAgIHBvc2l0aXZlLmNzcyhcImNvbG9yXCIsIGNvbG9yKTtcbiAgICAgICAgcG9zaXRpdmUuYXR0cihcInRpdGxlXCIsIHRleHQpO1xuICAgICAgICBpZiAodG9FbmQpIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpdmUuYXBwZW5kKHBvc2l0aXZlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpdmUucHJlcGVuZChwb3NpdGl2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcG9zaXRpdmUudG9vbHRpcCh7XCJ0cmlnZ2VyXCI6IFwiaG92ZXJcIiwgXCJjb250YWluZXJcIjogdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uYXR0YWNobWVudFBvaW50fSk7XG4gICAgICAgIGlmIChvbmNsaWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBvc2l0aXZlLmNsaWNrKG9uY2xpY2spO1xuICAgICAgICB9XG4gICAgICAgIHBvc2l0aXZlLmhvdmVyKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRmVlZGJhY2tcIiwgXCJwb3NpdGl2ZVwiLCBcImhvdmVyXCIsIHRleHQsIFwiXCIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmVzZW50IGFueSBhY2N1bXVsYXRlZCBmZWVkYmFja1xuICAgICAqL1xuICAgIHByZXNlbnRGZWVkYmFjayhleGVjdXRpb25SZXN1bHRzKSB7XG4gICAgICAgIHRoaXMudXBkYXRlRmVlZGJhY2soZXhlY3V0aW9uUmVzdWx0cyk7XG5cbiAgICAgICAgLy8gVE9ETzogTG9nZ2luZ1xuICAgICAgICAvL3RoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcImZlZWRiYWNrXCIsIGNhdGVnb3J5K1wifFwiK2xhYmVsLCBtZXNzYWdlKTtcblxuICAgICAgICB0aGlzLm5vdGlmeUZlZWRiYWNrVXBkYXRlKCk7XG4gICAgfTtcblxuICAgIG5vdGlmeUZlZWRiYWNrVXBkYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNGZWVkYmFja1Zpc2libGUoKSkge1xuICAgICAgICAgICAgdGhpcy50YWcuZmluZChcIi5ibG9ja3B5LWZsb2F0aW5nLWZlZWRiYWNrXCIpLnNob3coKS5mYWRlT3V0KDcwMDApO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByZXNlbnRSdW5FcnJvcihlcnJvciwganVzdF9yZXR1cm4pIHtcbiAgICAgICAgaWYgKGp1c3RfcmV0dXJuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGp1c3RfcmV0dXJuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1lc3NhZ2UsIGxhYmVsLCBjYXRlZ29yeSwgbGluZW5vO1xuICAgICAgICBsYWJlbCA9IGVycm9yLnRwJG5hbWU7XG4gICAgICAgIGNhdGVnb3J5ID0gXCJydW50aW1lXCI7XG4gICAgICAgIG1lc3NhZ2UgPSB0aGlzLmNvbnZlcnRTa3VscHRFcnJvcihlcnJvcik7XG5cbiAgICAgICAgaWYgKGp1c3RfcmV0dXJuKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwubWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmNhdGVnb3J5KGNhdGVnb3J5KTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxhYmVsKGxhYmVsKTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxpbmVzRXJyb3IucmVtb3ZlQWxsKCk7XG4gICAgICAgIGlmIChsaW5lbm8gIT09IHVuZGVmaW5lZCAmJiBsaW5lbm8gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5saW5lc0Vycm9yLnB1c2gobGluZW5vKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnZlcnRTa3VscHRFcnJvcihlcnJvciwgZmlsZW5hbWVFeGVjdXRlZCkge1xuICAgICAgICBsZXQgbmFtZSA9IGVycm9yLnRwJG5hbWU7XG4gICAgICAgIGxldCBhcmdzID0gU2suZmZpLnJlbWFwVG9KcyhlcnJvci5hcmdzKTtcbiAgICAgICAgbGV0IHRvcCA9IGAke25hbWV9OiAke2FyZ3NbMF19XFxuPGJyPlxcbjxicj5gO1xuICAgICAgICBsZXQgdHJhY2ViYWNrID0gXCJcIjtcbiAgICAgICAgaWYgKGVycm9yLnRyYWNlYmFjayAmJiBlcnJvci50cmFjZWJhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICB0cmFjZWJhY2sgPSBcIlRyYWNlYmFjazo8YnI+XFxuXCIgKyBlcnJvci50cmFjZWJhY2subWFwKGZyYW1lID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbGluZW5vID0gZnJhbWUubGluZW5vO1xuICAgICAgICAgICAgICAgIGlmIChmcmFtZS5maWxlbmFtZS5zbGljZSgwLCAtMykgPT09IGZpbGVuYW1lRXhlY3V0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZW5vIC09IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cy5pbnN0cnVjdG9yLmxpbmVPZmZzZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBmaWxlID0gYEZpbGUgPGNvZGUgY2xhc3M9XCJmaWxlbmFtZVwiPlwiJHtmcmFtZS5maWxlbmFtZX1cIjwvY29kZT4sIGA7XG4gICAgICAgICAgICAgICAgbGV0IGxpbmUgPSBgb24gbGluZSA8Y29kZSBjbGFzcz1cImxpbmVub1wiPiR7bGluZW5vfTwvY29kZT4sIGA7XG4gICAgICAgICAgICAgICAgbGV0IHNjb3BlID0gKGZyYW1lLnNjb3BlICE9PSBcIjxtb2R1bGU+XCIgJiZcbiAgICAgICAgICAgICAgICBmcmFtZS5zY29wZSAhPT0gdW5kZWZpbmVkKSA/IGBpbiBzY29wZSAke2ZyYW1lLnNjb3BlfWAgOiBcIlwiO1xuICAgICAgICAgICAgICAgIGxldCBzb3VyY2UgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGlmIChmcmFtZS5zb3VyY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBgXFxuPHByZT48Y29kZT4ke2ZyYW1lLnNvdXJjZX08L2NvZGU+PC9wcmU+YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbGUgKyBsaW5lICsgc2NvcGUgKyBzb3VyY2U7XG4gICAgICAgICAgICB9KS5qb2luKFwiXFxuPGJyPlwiKTtcbiAgICAgICAgICAgIHRyYWNlYmFjayA9IGAke3RyYWNlYmFja31gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b3ArXCJcXG5cIit0cmFjZWJhY2s7XG4gICAgfVxuXG4gICAgcHJlc2VudEludGVybmFsRXJyb3IoZXJyb3IsIGZpbGVuYW1lRXhlY3V0ZWQpIHtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5jYXRlZ29yeShcImludGVybmFsXCIpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLmxhYmVsKFwiSW50ZXJuYWwgRXJyb3JcIik7XG5cbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBcIkVycm9yIGluIGluc3RydWN0b3IgZmVlZGJhY2suIFBsZWFzZSBzaG93IHRoZSBmb2xsb3dpbmcgdG8gYW4gaW5zdHJ1Y3Rvcjo8YnI+XFxuXCI7XG4gICAgICAgIG1lc3NhZ2UgKz0gdGhpcy5jb252ZXJ0U2t1bHB0RXJyb3IoZXJyb3IsIGZpbGVuYW1lRXhlY3V0ZWQpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLm1lc3NhZ2UobWVzc2FnZSk7XG5cbiAgICAgICAgdGhpcy5ub3RpZnlGZWVkYmFja1VwZGF0ZSgpO1xuICAgIH1cbn0iLCJpbXBvcnQge2ZpcnN0RGVmaW5lZFZhbHVlfSBmcm9tIFwidXRpbGl0aWVzLmpzXCI7XG5cbi8vICR7bWFrZVRhYihcIj9tb2NrX3VybHMuYmxvY2tweVwiLCBcIlVSTCBEYXRhXCIsIHRydWUpfVxuXG5jb25zdCBtYWtlVGFiID0gZnVuY3Rpb24oZmlsZW5hbWUsIGZyaWVuZGx5TmFtZSwgaGlkZUlmRW1wdHksIG5vdEluc3RydWN0b3IpIHtcbiAgICBpZiAoZnJpZW5kbHlOYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZnJpZW5kbHlOYW1lID0gZmlsZW5hbWU7XG4gICAgfVxuICAgIGxldCBpbnN0cnVjdG9yRmlsZUNsYXNzID0gXCJcIjtcbiAgICBsZXQgaGlkZUlmTm90SW5zdHJ1Y3RvciA9IFwidHJ1ZVwiO1xuICAgIGlmICghbm90SW5zdHJ1Y3Rvcikge1xuICAgICAgICBpbnN0cnVjdG9yRmlsZUNsYXNzID0gXCJibG9ja3B5LWZpbGUtaW5zdHJ1Y3RvclwiO1xuICAgICAgICBoaWRlSWZOb3RJbnN0cnVjdG9yID0gXCJkaXNwbGF5Lmluc3RydWN0b3IoKVwiO1xuICAgIH1cbiAgICByZXR1cm4gYFxuICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtICR7aW5zdHJ1Y3RvckZpbGVDbGFzc31cIj5cbiAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGlua1wiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwidGFiXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNzczoge2FjdGl2ZTogZGlzcGxheS5maWxlbmFtZSgpID09PSAnJHtmaWxlbmFtZX0nfSxcbiAgICAgICAgICAgICAgICBjbGljazogZGlzcGxheS5maWxlbmFtZS5iaW5kKCRkYXRhLCAnJHtmaWxlbmFtZX0nKSxcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiAoISR7aGlkZUlmRW1wdHl9IHx8IHVpLmZpbGVzLmhhc0NvbnRlbnRzKCcke2ZpbGVuYW1lfScpKSAmJiAke2hpZGVJZk5vdEluc3RydWN0b3J9XCI+XG4gICAgICAgICAgICAke2ZyaWVuZGx5TmFtZX08L2E+XG4gICAgPC9saT5gO1xufTtcblxuZXhwb3J0IGxldCBGSUxFU19IVE1MID0gYFxuPGRpdiBjbGFzcz1cImNvbC1tZC0xMiBibG9ja3B5LXBhbmVsIGJsb2NrcHktZmlsZXNcIlxuICAgIGRhdGEtYmluZD1cInZpc2libGU6IHVpLmZpbGVzLnZpc2libGVcIj5cbjx1bCBjbGFzcz1cIm5hdiBuYXYtdGFic1wiIHJvbGU9XCJ0YWJsaXN0XCI+XG5cbiAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbVwiPlxuICAgICAgICA8c3Ryb25nPlZpZXc6IDwvc3Ryb25nPlxuICAgIDwvbGk+XG5cbiAgICAke21ha2VUYWIoXCJhbnN3ZXIucHlcIiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRydWUpfVxuICAgICR7bWFrZVRhYihcIiFpbnN0cnVjdGlvbnMubWRcIiwgXCJJbnN0cnVjdGlvbnNcIil9XG4gICAgJHttYWtlVGFiKFwiIWFzc2lnbm1lbnRfc2V0dGluZ3MuYmxvY2tweVwiLCBcIlNldHRpbmdzXCIpfVxuICAgICR7bWFrZVRhYihcIl5zdGFydGluZ19jb2RlLnB5XCIsIFwiU3RhcnRpbmcgQ29kZVwiKX1cbiAgICAke21ha2VUYWIoXCIhb25fcnVuLnB5XCIsIFwiT24gUnVuXCIpfVxuICAgICR7bWFrZVRhYihcIiFvbl9jaGFuZ2UucHlcIiwgXCJPbiBDaGFuZ2VcIiwgdHJ1ZSl9XG4gICAgJHttYWtlVGFiKFwiIW9uX2V2YWwucHlcIiwgXCJPbiBFdmFsXCIsIHRydWUpfVxuICAgICR7bWFrZVRhYihcIiFzYW1wbGVfc3VibWlzc2lvbnMuYmxvY2tweVwiLCBcIlNhbXBsZSBTdWJtaXNzaW9uc1wiLCB0cnVlKX1cbiAgICAke21ha2VUYWIoXCIhdGFncy5ibG9ja3B5XCIsIFwiVGFnc1wiLCB0cnVlKX1cbiAgICBcbiAgICA8IS0tIGtvIGZvcmVhY2g6IGFzc2lnbm1lbnQuZXh0cmFJbnN0cnVjdG9yRmlsZXMgLS0+XG4gICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNzczogeydibG9ja3B5LWZpbGUtaW5zdHJ1Y3Rvcic6ICFmaWxlbmFtZSgpLnN0YXJ0c1dpdGgoJyYnKX0sXG4gICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZpbGVuYW1lKCkuc3RhcnRzV2l0aCgnJicpIHx8ICRyb290LmRpc3BsYXkuaW5zdHJ1Y3RvcigpIFwiPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGlua1wiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cInRhYlwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY3NzOiB7YWN0aXZlOiAkcm9vdC5kaXNwbGF5LmZpbGVuYW1lKCkgPT09IGZpbGVuYW1lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmVkaXRhYmxlOiBmaWxlbmFtZSgpLnN0YXJ0c1dpdGgoJyYnKX0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICRyb290LmRpc3BsYXkuZmlsZW5hbWUuYmluZCgkZGF0YSwgZmlsZW5hbWUoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJHJvb3QudWkuZmlsZXMuZGlzcGxheUZpbGVuYW1lKGZpbGVuYW1lKCkpXCI+XG4gICAgICAgICAgICA8L2E+ICAgICAgICBcbiAgICAgICAgPC9saT5cbiAgICA8IS0tIC9rbyAtLT5cbiAgICA8IS0tIGtvIGZvcmVhY2g6IGFzc2lnbm1lbnQuZXh0cmFTdGFydGluZ0ZpbGVzIC0tPlxuICAgICAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbSBibG9ja3B5LWZpbGUtaW5zdHJ1Y3RvclwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiAkcm9vdC5kaXNwbGF5Lmluc3RydWN0b3IoKVwiPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGlua1wiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cInRhYlwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY3NzOiB7YWN0aXZlOiAkcm9vdC5kaXNwbGF5LmZpbGVuYW1lKCkgPT09IGZpbGVuYW1lKCl9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAkcm9vdC5kaXNwbGF5LmZpbGVuYW1lLmJpbmQoJGRhdGEsIGZpbGVuYW1lKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGZpbGVuYW1lXCI+XG4gICAgICAgICAgICA8L2E+ICAgICAgICBcbiAgICAgICAgPC9saT5cbiAgICA8IS0tIC9rbyAtLT5cbiAgICBcbiAgICA8IS0tIGtvIGZvcmVhY2g6IHN1Ym1pc3Npb24uZXh0cmFGaWxlcyAtLT5cbiAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cbiAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmtcIiBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJ0YWJcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNzczoge2FjdGl2ZTogJHJvb3QuZGlzcGxheS5maWxlbmFtZSgpID09PSBmaWxlbmFtZSgpfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogJHJvb3QuZGlzcGxheS5maWxlbmFtZS5iaW5kKCRkYXRhLCBmaWxlbmFtZSgpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAkcm9vdC51aS5maWxlcy5kaXNwbGF5RmlsZW5hbWUoZmlsZW5hbWUoKSlcIj5cbiAgICAgICAgICAgIDwvYT4gICAgICAgIFxuICAgICAgICA8L2xpPlxuICAgIDwhLS0gL2tvIC0tPlxuICBcbiAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbSBkcm9wZG93blwiPlxuICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rIGRyb3Bkb3duLXRvZ2dsZVwiIGhyZWY9XCIjXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICByb2xlPVwiYnV0dG9uXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj5BZGQgTmV3PC9hPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0XCI+XG4gICAgICAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gYmxvY2tweS1maWxlLWluc3RydWN0b3JcIiBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiaGlkZGVuOiB1aS5maWxlcy5oYXNDb250ZW50cygnP21vY2tfdXJscy5ibG9ja3B5JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogdWkuZmlsZXMuYWRkLmJpbmQoJGRhdGEsICc/bW9ja191cmxzLmJsb2NrcHknKVwiPlVSTCBEYXRhPC9hPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImhpZGRlbjogdWkuZmlsZXMuaGFzQ29udGVudHMoJz90YWdzLmJsb2NrcHknKVwiPlRhZ3M8L2E+XG4gICAgICAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gYmxvY2tweS1maWxlLWluc3RydWN0b3JcIiBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiaGlkZGVuOiB1aS5maWxlcy5oYXNDb250ZW50cygnP3NhbXBsZV9zdWJtaXNzaW9ucy5ibG9ja3B5JylcIj5TYW1wbGUgU3VibWlzc2lvbnM8L2E+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tZGl2aWRlclwiPjwvZGl2PlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImhpZGRlbjogYXNzaWdubWVudC5vbkNoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiB1aS5maWxlcy5hZGQuYmluZCgkZGF0YSwgJyFvbl9jaGFuZ2UucHknKVwiPk9uIENoYW5nZTwvYT5cbiAgICAgICAgICAgIDxhIGNsYXNzPVwiZHJvcGRvd24taXRlbSBibG9ja3B5LWZpbGUtaW5zdHJ1Y3RvclwiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJoaWRkZW46IGFzc2lnbm1lbnQub25FdmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IHVpLmZpbGVzLmFkZC5iaW5kKCRkYXRhLCAnIW9uX2V2YWwucHknKVwiPk9uIEV2YWw8L2E+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tZGl2aWRlclwiPjwvZGl2PlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5maWxlcy5hZGQuYmluZCgkZGF0YSwgJ3N0YXJ0aW5nJylcIj5TdGFydGluZyBGaWxlPC9hPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5maWxlcy5hZGQuYmluZCgkZGF0YSwgJ2luc3RydWN0b3InKVwiPkluc3RydWN0b3IgRmlsZTwvYT5cbiAgICAgICAgICAgIDxhIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZmlsZXMuYWRkLmJpbmQoJGRhdGEsICdzdHVkZW50JylcIj5TdHVkZW50IEZpbGU8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gIFxuPC91bD5cbjwvZGl2PlxuYDtcblxuY29uc3QgTkVXX0lOU1RSVUNUT1JfRklMRV9ESUFMT0dfSFRNTCA9IGBcbjxmb3JtPlxuPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgPCEtLSBGaWxlbmFtZSAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTIgdGV4dC1yaWdodFwiPlxuICAgICAgICA8bGFiZWwgZm9yPVwiYmxvY2tweS1pbnN0cnVjdG9yLWZpbGUtZGlhbG9nLWZpbGVuYW1lXCI+RmlsZW5hbWU6PC9sYWJlbD5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sIGJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1maWxlbmFtZVwiXG4gICAgICAgICAgICBpZD1cImJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1maWxlbmFtZVwiPiAgICBcbiAgICA8L2Rpdj5cbiAgICA8IS0tIEZpbGV0eXBlIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMiB0ZXh0LXJpZ2h0IG10LTJcIj5cbiAgICAgICAgPGxhYmVsIGZvcj1cImJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1maWxldHlwZVwiPkZpbGV0eXBlOiA8L2xhYmVsPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTBcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJibG9ja3B5LWluc3RydWN0b3ItZmlsZS1kaWFsb2ctZmlsZXR5cGVcIlxuICAgICAgICAgICAgaWQ9XCJibG9ja3B5LWluc3RydWN0b3ItZmlsZS1kaWFsb2ctZmlsZXR5cGVcIj48L3NwYW4+ICAgIFxuICAgIDwvZGl2PlxuICAgIDwhLS0gSW5hY2Nlc3NpYmxlIHRvIHN0dWRlbnQ/IC0tPlxuICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMiB0ZXh0LXJpZ2h0IG10LTJcIj5cbiAgICAgICAgPGxhYmVsIGZvcj1cImJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1uYW1lc3BhY2VcIj5OYW1lc3BhY2U6IDwvbGFiZWw+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImNvbC1zbS00XCI+XG4gICAgICAgIDxzZWxlY3QgY2xhc3M9XCJmb3JtLWNvbnRyb2wgYmxvY2tweS1pbnN0cnVjdG9yLWZpbGUtZGlhbG9nLW5hbWVzcGFjZVwiXG4gICAgICAgICAgICBpZD1cImJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1uYW1lc3BhY2VcIj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIhXCI+Q29tcGxldGVseSBpbmFjY2Vzc2libGU8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCI/XCI+SGlkZGVuIGZyb20gc3R1ZGVudCwgYWNjZXNzaWJsZSBwcm9ncmFtYXRpY2FsbHk8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCImXCI+VmlzaWJsZSB0byBzdHVkZW50LCBidXQgbm90IGVkaXRhYmxlPC9vcHRpb24+XG4gICAgICAgIDwvc2VsZWN0PlxuICAgIDwvZGl2PlxuPC9kaXY+XG48L2Zvcm0+XG5gO1xuXG4vKipcbiAqIEZpbGVuYW1lcyBsaXZlIGluIG9uZSBvZiBmaXZlIHBvc3NpYmxlIG5hbWVzcGFjZXM6XG4gKiAgSW5zdHJ1Y3RvciAoISk6IEludmlzaWJsZSB0byB0aGUgc3R1ZGVudCB1bmRlciBhbGwgY2lyY3Vtc3RhbmNlc1xuICogIFN0YXJ0IFNwYWNlICheKTogVXNlZCB0byByZXNldCB0aGUgc3R1ZGVudCBuYW1lc3BhY2VcbiAqICBTdHVkZW50IFNwYWNlICgpOiBWaXNpYmxlIHRvIHRoZSBzdHVkZW50IHdoZW4gZGlzcGxheS5oaWRlRmlsZXMgaXMgbm90IHRydWUsIGFibGUgdG8gYmUgZWRpdGVkXG4gKiAgSGlkZGVuIFNwYWNlICg/KTogTm90IGRpcmVjdGx5IHZpc2libGUgdG8gdGhlIHN0dWRlbnQsIGJ1dCBhY2Nlc3NpYmxlIHByb2dyYW1tYXRpY2FsbHlcbiAqICBSZWFkLW9ubHkgU3BhY2UgKCYpOiBBbiBpbnN0cnVjdG9yIGZpbGUgdHlwZSB2aXNpYmxlIHRvIHRoZSBzdHVkZW50LCBidXQgaXMgdW5lZGl0YWJsZSBieSB0aGVtXG4gKiAgU2VjcmV0IFNwYWNlICgkKTogTm90IHZpc2libGUgZnJvbSB0aGUgbWVudSBhdCBhbGwsIHNvbWUgb3RoZXIgbWVjaGFuaXNtIGNvbnRyb2xzIGl0XG4gKiAgR2VuZXJhdGVkIFNwYWNlICgqKTogVmlzaWJsZSB0byB0aGUgc3R1ZGVudCwgYnV0IGRlc3Ryb3llZCBhZnRlciBFbmdpbmUuQ2xlYXIuIENhbiBzaGFkb3cgYW4gYWN0dWFsIGZpbGUuXG4gKiAgQ29uY2F0ZW5hdGVkIFNwYWNlICgjKTogVXNlZCB3aGVuIGJ1bmRsaW5nIGEgc3BhY2UgZm9yIHRoZSBzZXJ2ZXIuXG4gKi9cblxuZXhwb3J0IGxldCBTVEFSVElOR19GSUxFUyA9IFtcbiAgICAvLyBTdWJtaXNzaW9uXG4gICAgXCJhbnN3ZXIucHlcIixcbiAgICAvLyBJbnN0cnVjdG9yIGZpbGVzXG4gICAgXCIhaW5zdHJ1Y3Rpb25zLm1kXCIsXG4gICAgXCIhYXNzaWdubWVudF9zZXR0aW5ncy5ibG9ja3B5XCIsXG4gICAgXCJec3RhcnRpbmdfY29kZS5weVwiLFxuICAgIFwiIW9uX3J1bi5weVwiLFxuICAgIFwiJHNldHRpbmdzLmJsb2NrcHlcIixcbl07XG5cbmV4cG9ydCBjb25zdCBCQVNJQ19ORVdfRklMRVMgPSBbXG4gICAgXCIhb25fY2hhbmdlLnB5XCIsXG4gICAgXCIhb25fZXZhbC5weVwiLFxuICAgIFwiP21vY2tfdXJscy5ibG9ja3B5XCIsXG4gICAgXCIhdGFncy5ibG9ja3B5XCIsXG4gICAgXCIhc2FtcGxlX3N1Ym1pc3Npb25zLmJsb2NrcHlcIlxuXTtcblxuY29uc3QgSU5TVFJVQ1RPUl9ESVJFQ1RPUlkgPSBcIl9pbnN0cnVjdG9yL1wiO1xuY29uc3QgU1RVREVOVF9ESVJFQ1RPUlkgPSBcIl9zdHVkZW50L1wiO1xuXG5jb25zdCBTZWFyY2hNb2RlcyA9IHtcbiAgICBFVkVSWVdIRVJFOiBcIkVWRVJZV0hFUkVcIixcbiAgICBTVEFSVF9XSVRIX0lOU1RSVUNUT1I6IFwiU1RBUlRfV0lUSF9JTlNUUlVDVE9SXCIsXG4gICAgT05MWV9TVFVERU5UX0ZJTEVTOiBcIk9OTFlfU1RVREVOVF9GSUxFU1wiXG59O1xuXG5jb25zdCBERUxFVEFCTEVfU0lNUExFX0ZJTEVTID0gW1wiIW9uX2NoYW5nZS5weVwiLCBcIiFvbl9ldmFsLnB5XCJdO1xuXG5leHBvcnQgY29uc3QgVU5ERUxFVEFCTEVfRklMRVMgPSBbXCJhbnN3ZXIucHlcIiwgXCIhaW5zdHJ1Y3Rpb25zLm1kXCIsIFwiIWFzc2lnbm1lbnRfc2V0dGluZ3MucHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl5zdGFydGluZ19jb2RlLnB5XCIsIFwiIW9uX3J1bi5weVwiLCBcIiRzZXR0aW5ncy5ibG9ja3B5XCJdO1xuXG5leHBvcnQgY29uc3QgVU5SRU5BTUFCTEVfRklMRVMgPSBbXCJhbnN3ZXIucHlcIiwgXCIhaW5zdHJ1Y3Rpb25zLm1kXCIsIFwiIWFzc2lnbm1lbnRfc2V0dGluZ3MucHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl5zdGFydGluZ19jb2RlLnB5XCIsIFwiIW9uX3J1bi5weVwiLCBcIiRzZXR0aW5ncy5ibG9ja3B5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIhb25fY2hhbmdlLnB5XCIsIFwiIW9uX2V2YWwucHlcIiwgXCI/bW9ja191cmxzLmJsb2NrcHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiF0YWdzLmJsb2NrcHlcIiwgXCIhc2FtcGxlX3N1Ym1pc3Npb25zLmJsb2NrcHlcIl07XG5cbmNsYXNzIEJsb2NrUHlGaWxlIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCBmaWxlbmFtZSwgY29udGVudHMpIHtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgdGhpcy5maWxlbmFtZSA9IGZpbGVuYW1lO1xuICAgICAgICB0aGlzLmNvbnRlbnRzID0gY29udGVudHMgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5vd25lciA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFuZGxlID0gbnVsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlTW9kZWxGaWxlKGZpbGVuYW1lLCBjb250ZW50cykge1xuICAgIHJldHVybiB7XCJmaWxlbmFtZVwiOiBrby5vYnNlcnZhYmxlKGZpbGVuYW1lKSwgY29udGVudHM6IGtvLm9ic2VydmFibGUoY29udGVudHMgfHwgXCJcIil9O1xufVxuXG5mdW5jdGlvbiBtYWtlTW9ja01vZGVsRmlsZShmaWxlbmFtZSwgY29udGVudHMpIHtcbiAgICByZXR1cm4geyBmaWxlbmFtZTogKCkgPT4gZmlsZW5hbWUsIGNvbnRlbnRzOiAoKSA9PiBjb250ZW50cyB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZENvbmNhdGVuYXRlZEZpbGUoY29uY2F0ZW5hdGVkRmlsZSwgbW9kZWxGaWxlTGlzdCkge1xuICAgIGlmIChjb25jYXRlbmF0ZWRGaWxlKSB7XG4gICAgICAgIGxldCBmaWxlcyA9IEpTT04ucGFyc2UoY29uY2F0ZW5hdGVkRmlsZSk7XG4gICAgICAgIGxldCBtb2RlbEZpbGVzID0gW107XG4gICAgICAgIGZvciAobGV0IGZpbGVuYW1lIGluIGZpbGVzKSB7XG4gICAgICAgICAgICBpZiAoZmlsZXMuaGFzT3duUHJvcGVydHkoZmlsZW5hbWUpKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxGaWxlcy5wdXNoKG1ha2VNb2RlbEZpbGUoZmlsZW5hbWUsIGZpbGVzW2ZpbGVuYW1lXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vZmlsZXMgPSBmaWxlcy5tYXAoZmlsZSA9PiBtYWtlTW9kZWxGaWxlKGZpbGUuZmlsZW5hbWUsIGZpbGUuY29udGVudHMpKTtcbiAgICAgICAgbW9kZWxGaWxlTGlzdChtb2RlbEZpbGVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBtb2RlbEZpbGVMaXN0KFtdKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb25jYXRlbmF0ZWRGaWxlKG1vZGVsRmlsZUxpc3QpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobW9kZWxGaWxlTGlzdCgpLm1hcChmaWxlID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpbGVuYW1lOiBmaWxlLmZpbGVuYW1lKCksXG4gICAgICAgICAgICBjb250ZW50czogZmlsZS5jb250ZW50cygpXG4gICAgICAgIH07XG4gICAgfSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb2JzZXJ2ZUNvbmNhdGVuYXRlZEZpbGUobW9kZWxGaWxlTGlzdCkge1xuICAgIHJldHVybiBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0ge307XG4gICAgICAgIG1vZGVsRmlsZUxpc3QoKS5mb3JFYWNoKGZpbGUgPT5cbiAgICAgICAgICAgIHJlc3VsdFtmaWxlLmZpbGVuYW1lKCldID0gZmlsZS5jb250ZW50cygpKTtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHJlc3VsdCk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogQWJzdHJhY3RzIGF3YXkgZGF0YWJhc2UgbG9naWNcbiAqL1xuZXhwb3J0IGNsYXNzIEJsb2NrUHlGaWxlU3lzdGVtIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluKSB7XG4gICAgICAgIHRoaXMubWFpbiA9IG1haW47XG4gICAgICAgIHRoaXMuZmlsZXNfID0ge307XG4gICAgICAgIHRoaXMubW91bnRGaWxlcygpO1xuXG4gICAgICAgIHRoaXMud2F0Y2hNb2RlbCgpO1xuICAgICAgICB0aGlzLndhdGNoZXNfID0ge307XG5cbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3Rvci5zdWJzY3JpYmUoKHZpc2libGl0eSk9PiB7XG4gICAgICAgICAgICAkKFwiLmJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCIpLnRvZ2dsZSh2aXNpYmxpdHkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB3YXRjaEZpbGUoZmlsZW5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghKGZpbGVuYW1lIGluIHRoaXMud2F0Y2hlc18pKSB7XG4gICAgICAgICAgICB0aGlzLndhdGNoZXNfW2ZpbGVuYW1lXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud2F0Y2hlc19bZmlsZW5hbWVdLnB1c2goY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHN0b3BXYXRjaGluZ0ZpbGUoZmlsZW5hbWUpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMud2F0Y2hlc19bZmlsZW5hbWVdO1xuICAgIH1cblxuICAgIHdhdGNoTW9kZWwoKSB7XG4gICAgICAgIGxldCBmaWxlc3lzdGVtID0gdGhpcztcbiAgICAgICAgW3RoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmV4dHJhRmlsZXMsXG4gICAgICAgICB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5leHRyYVN0YXJ0aW5nRmlsZXMsXG4gICAgICAgICB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlc10uZm9yRWFjaChmaWxlQXJyYXkgPT5cbiAgICAgICAgICAgIGZpbGVBcnJheS5zdWJzY3JpYmUoZnVuY3Rpb24oY2hhbmdlcykge1xuICAgICAgICAgICAgICAgIGNoYW5nZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtb2RlbEZpbGUgPSBjaGFuZ2UudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2Uuc3RhdHVzID09PSBcImFkZGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyYWNrIG5ldyBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZSA9IGZpbGVzeXN0ZW0ubmV3RmlsZShtb2RlbEZpbGUuZmlsZW5hbWUoKSwgbW9kZWxGaWxlLmNvbnRlbnRzKCksIG1vZGVsRmlsZS5jb250ZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlc3lzdGVtLm5vdGlmeVdhdGNoZXMoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbmdlLnN0YXR1cyA9PT0gXCJkZWxldGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlbGV0ZSBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlc3lzdGVtLmRlbGV0ZUZpbGVMb2NhbGx5Xyhtb2RlbEZpbGUuZmlsZW5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCB0aGlzLCBcImFycmF5Q2hhbmdlXCIpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gYW5zd2VyLnB5XG4gICAgLy8gICA9PiBzdWJzY3JpYmUgdG8gZmlyc3QgZWxlbWVudCBvZiBzdWJtaXNzaW9uLmNvZGUpXG4gICAgLy8gIW9uX3J1bi5weSwgIW9uX2NoYW5nZS5weSwgIW9uX2V2YWwucHlcbiAgICAvLyAgID0+IHN1YnNjcmliZSB0byByZWxldmFudCBhc3NpZ25tZW50Ljx3aGF0ZXZlcj5cbiAgICAvLyBec3RhcnRpbmdfY29kZS5weVxuICAgIC8vICAgPT4gc3Vic2NyaWJlIHRvIGZpcnN0IGVsZW1lbnQgb2YgYXNzaWdubWVudC5zdGFydGluZ0NvZGVcbiAgICAvLyBed2hhdGV2ZXJcbiAgICAvLyAgID0+IHN1YnNjcmliZSB0byByZXN0IG9mIHRoZSBlbGVtZW50cyBvZiBhc3NpZ25tZW50LnN0YXJ0aW5nQ29kZVxuICAgIC8vICF3aGF0ZXZlciBvciA/d2hhdGV2ZXJcbiAgICAvLyAgID0+IHN1YnNjcmliZSB0byBlbGVtZW50cyBvZiBhc3NpZ25tZW50LmV4dHJhRmlsZXNcbiAgICAvLyBPdGhlcndpc2U6XG4gICAgLy8gICA9PiBzdWJzY3JpYmUgdG8gcmVzdCBvZiB0aGUgZWxlbWVudHMgb2Ygc3VibWlzc2lvbi5jb2RlXG4gICAgLyoqXG4gICAgICogTmV3IHNwZWNpYWwgZmlsZXMgbmVlZCB0byBiZSByZWdpc3RlcmVkIGhlcmVcbiAgICAgKiBAcGFyYW0gZmlsZSB7QmxvY2tQeUZpbGV9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvYnNlcnZlRmlsZV8oZmlsZSkge1xuICAgICAgICBpZiAoZmlsZS5maWxlbmFtZSA9PT0gXCJhbnN3ZXIucHlcIikge1xuICAgICAgICAgICAgZmlsZS5oYW5kbGUgPSB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb2RlO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUgPT09IFwiIW9uX3J1bi5weVwiKSB7XG4gICAgICAgICAgICBmaWxlLmhhbmRsZSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50Lm9uUnVuO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUgPT09IFwiIW9uX2NoYW5nZS5weVwiKSB7XG4gICAgICAgICAgICBmaWxlLmhhbmRsZSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50Lm9uQ2hhbmdlO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUgPT09IFwiIW9uX2V2YWwucHlcIikge1xuICAgICAgICAgICAgZmlsZS5oYW5kbGUgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vbkV2YWw7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZSA9PT0gXCIhaW5zdHJ1Y3Rpb25zLm1kXCIpIHtcbiAgICAgICAgICAgIGZpbGUuaGFuZGxlID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuaW5zdHJ1Y3Rpb25zO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUgPT09IFwiXnN0YXJ0aW5nX2NvZGUucHlcIikge1xuICAgICAgICAgICAgZmlsZS5oYW5kbGUgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zdGFydGluZ0NvZGU7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZSA9PT0gXCI/bW9ja191cmxzLmJsb2NrcHlcIikge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlSW5BcnJheV8oZmlsZSwgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuZXh0cmFJbnN0cnVjdG9yRmlsZXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUgPT09IFwiIXRhZ3MuYmxvY2tweVwiKSB7XG4gICAgICAgICAgICBmaWxlLmhhbmRsZSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnRhZ3M7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZSA9PT0gXCIhYXNzaWdubWVudF9zZXR0aW5ncy5ibG9ja3B5XCIpIHtcbiAgICAgICAgICAgIGZpbGUuaGFuZGxlID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3M7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZSA9PT0gXCIkc2V0dGluZ3MuYmxvY2tweVwiKSB7XG4gICAgICAgICAgICBmaWxlLmhhbmRsZSA9IHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5O1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUuc3RhcnRzV2l0aChcIl5cIikpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUluQXJyYXlfKGZpbGUsIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmV4dHJhU3RhcnRpbmdGaWxlcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZS5zdGFydHNXaXRoKFwiIVwiKSB8fFxuICAgICAgICAgICAgICAgICAgIGZpbGUuZmlsZW5hbWUuc3RhcnRzV2l0aChcIj9cIikgfHxcbiAgICAgICAgICAgICAgICAgICBmaWxlLmZpbGVuYW1lLnN0YXJ0c1dpdGgoXCImXCIpKSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVJbkFycmF5XyhmaWxlLCB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVJbkFycmF5XyhmaWxlLCB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5leHRyYUZpbGVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9ic2VydmVJbkFycmF5XyhmaWxlLCBhcnJheSkge1xuICAgICAgICBmaWxlLm93bmVyID0gYXJyYXk7XG4gICAgICAgIGxldCBjb2RlQnVuZGxlID0gZmlsZS5vd25lcigpO1xuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBjb2RlQnVuZGxlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoY29kZUJ1bmRsZVtpXS5maWxlbmFtZSgpID09PSBmaWxlLmZpbGVuYW1lKSB7XG4gICAgICAgICAgICAgICAgZmlsZS5oYW5kbGUgPSBjb2RlQnVuZGxlW2ldLmNvbnRlbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmaWxlLmhhbmRsZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IG5ld0ZpbGUgPSBtYWtlTW9kZWxGaWxlKGZpbGUuZmlsZW5hbWUpO1xuICAgICAgICAgICAgZmlsZS5oYW5kbGUgPSBuZXdGaWxlLmNvbnRlbnRzO1xuICAgICAgICAgICAgYXJyYXkucHVzaChuZXdGaWxlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1vdW50RmlsZXMoKSB7XG4gICAgICAgIHRoaXMubmV3RmlsZShcImFuc3dlci5weVwiKTtcbiAgICAgICAgdGhpcy5uZXdGaWxlKFwiXnN0YXJ0aW5nX2NvZGUucHlcIik7XG4gICAgICAgIHRoaXMubmV3RmlsZShcIiFvbl9ydW4ucHlcIik7XG4gICAgICAgIHRoaXMubmV3RmlsZShcIiFpbnN0cnVjdGlvbnMubWRcIik7XG4gICAgICAgIHRoaXMubmV3RmlsZShcIiFhc3NpZ25tZW50X3NldHRpbmdzLmJsb2NrcHlcIik7XG4gICAgfVxuXG4gICAgZGlzbW91bnRFeHRyYUZpbGVzKCkge1xuICAgICAgICBmb3IgKGxldCBuYW1lIGluIHRoaXMuZmlsZXNfKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWxlc18uaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoVU5ERUxFVEFCTEVfRklMRVMuaW5kZXhPZihuYW1lKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZmlsZXNfW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy53YXRjaGVzX1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3VibWlzc2lvbi5jb2RlVE9ETzogU2hvdWxkbid0IHdlIG5vdGlmeSB0aGUgVUkgdGhhdCB0aGUgZmlsZSB3YXMgZGVsZXRlZD9cbiAgICB9XG5cbiAgICBuZXdGaWxlKGZpbGVuYW1lLCBjb250ZW50cywgbW9kZWxGaWxlKSB7XG4gICAgICAgIGlmIChmaWxlbmFtZSBpbiB0aGlzLmZpbGVzXykge1xuICAgICAgICAgICAgLy8gRmlsZSBhbHJlYWR5IGV4aXN0cyEgSnVzdCB1cGRhdGUgaXRzIGhhbmRsZVxuICAgICAgICAgICAgbGV0IGV4aXN0aW5nRmlsZSA9IHRoaXMuZmlsZXNfW2ZpbGVuYW1lXTtcbiAgICAgICAgICAgIGlmIChtb2RlbEZpbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUZpbGVfKGV4aXN0aW5nRmlsZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nRmlsZS5oYW5kbGUgPSBtb2RlbEZpbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleGlzdGluZ0ZpbGUuaGFuZGxlKGNvbnRlbnRzIHx8IFwiXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGV4aXN0aW5nRmlsZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZpbGUgZG9lcyBub3QgZXhpc3RcbiAgICAgICAgICAgIGxldCBuZXdGaWxlID0gbmV3IEJsb2NrUHlGaWxlKHRoaXMubWFpbiwgZmlsZW5hbWUpO1xuICAgICAgICAgICAgdGhpcy5maWxlc19bZmlsZW5hbWVdID0gbmV3RmlsZTtcbiAgICAgICAgICAgIGlmIChtb2RlbEZpbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUZpbGVfKG5ld0ZpbGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdGaWxlLmhhbmRsZSA9IG1vZGVsRmlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb250ZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbmV3RmlsZS5oYW5kbGUoY29udGVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld0ZpbGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB3cml0ZUZpbGUoZmlsZW5hbWUsIGNvbnRlbnRzKSB7XG4gICAgICAgIGNvbnRlbnRzID0gY29udGVudHMgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5maWxlc19bZmlsZW5hbWVdLmhhbmRsZShjb250ZW50cyk7XG4gICAgfVxuXG4gICAgcmVhZEZpbGUoZmlsZW5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsZXNfW2ZpbGVuYW1lXS5oYW5kbGUoKTtcbiAgICB9XG5cbiAgICBnZXRGaWxlKGZpbGVuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbGVzX1tmaWxlbmFtZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmlsZW5hbWVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbnxvYmplY3R9IFRoZSBpbmZvIGFib3V0IHRoZSBmaWxlLCBvciBmYWxzZSBpZiBpdCBjb3VsZCBub3QgYmUgZGVsZXRlZFxuICAgICAqL1xuICAgIGRlbGV0ZUZpbGUoZmlsZW5hbWUpIHtcbiAgICAgICAgaWYgKERFTEVUQUJMRV9TSU1QTEVfRklMRVMuaW5kZXhPZihmaWxlbmFtZSkgIT09IC0xKSB7XG4gICAgICAgICAgICBsZXQgZmlsZSA9IHRoaXMuZGVsZXRlRmlsZUxvY2FsbHlfKGZpbGVuYW1lKTtcbiAgICAgICAgICAgIGZpbGUuaGFuZGxlKG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5maWxlc19bZmlsZW5hbWVdLm93bmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUcmlnZ2VycyBhIGNhbGxiYWNrIHRvIGV2ZW50dWFsbHkgY2FsbCBkZWxldGVGaWxlTG9jYWxseV9cbiAgICAgICAgICAgIGxldCBmb3VuZCA9IHRoaXMuZmlsZXNfW2ZpbGVuYW1lXS5vd25lci5yZW1vdmUobW9kZWxGaWxlID0+IG1vZGVsRmlsZS5maWxlbmFtZSA9PT0gZmlsZW5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIGZvdW5kIHx8IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVsZXRlRmlsZUxvY2FsbHlfKGZpbGVuYW1lKSB7XG4gICAgICAgIGxldCBmaWxlID0gdGhpcy5maWxlc19bZmlsZW5hbWVdO1xuICAgICAgICBkZWxldGUgdGhpcy5maWxlc19bZmlsZW5hbWVdO1xuICAgICAgICBpZiAoZmlsZW5hbWUgaW4gdGhpcy53YXRjaGVzXykge1xuICAgICAgICAgICAgdGhpcy53YXRjaGVzX1tmaWxlbmFtZV0uZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjay5kZWxldGVkKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaWxlO1xuICAgIH1cblxuICAgIG5vdGlmeVdhdGNoZXMoZmlsZSkge1xuICAgICAgICBpZiAoZmlsZS5maWxlbmFtZSBpbiB0aGlzLndhdGNoZXNfKSB7XG4gICAgICAgICAgICB0aGlzLndhdGNoZXNfW2ZpbGUuZmlsZW5hbWVdLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2sudXBkYXRlZChmaWxlKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWFyY2hGb3JGaWxlKG5hbWUsIHN0dWRlbnRTZWFyY2gpIHtcbiAgICAgICAgLypcbiAgICAgICAgZmlsZXMuKlxuICAgICAgICBfaW5zdHJ1Y3Rvci9maWxlcy4qXG4gICAgICAgIF9zdHVkZW50L2ZpbGVzLipcblxuICAgICAgICBJZiBhIHN0dWRlbnQgc2VhcmNoZXMgZm9yIGEgZmlsZSwgaXQgY2hlY2tzIHRoZSBcIj9cIiwgXCImXCIsIFwiKlwiLCBcIlwiIG5hbWVzcGFjZXNcbiAgICAgICAgICAgIGltcG9ydCBoZWxwZXIgPT4gXCIuL2hlbHBlci5weVwiXG4gICAgICAgICAgICBvcGVuKFwiZXh0ZXJuYWwuanNvblwiKSA9PiBcImV4dGVybmFsLmpzb25cIlxuICAgICAgICBJZiBhbiBpbnN0cnVjdG9yIHNlYXJjaGVzIGZvciBhIGZpbGUsIGl0IGNoZWNrcyBcIiFcIiwgXCJeXCIsIFwiP1wiLCBcIiZcIiwgXCIqXCIsIFwiXCIgbmFtZXNwYWNlc1xuICAgICAgICAgICAgVG8gZXhwbGljaXRseSBzZWFyY2ggaW5zdHJ1Y3RvciBuYW1lc3BhY2VzIGZpcnN0XG4gICAgICAgICAgICAgICAgaW1wb3J0IF9pbnN0cnVjdG9yLmhlbHBlciA9PiBcIi4vaW5zdHJ1Y3Rvci9oZWxwZXIucHlcIlxuICAgICAgICAgICAgICAgIG9wZW4oXCJfaW5zdHJ1Y3Rvci9leHRlcm5hbC5qc29uXCIpID0+IFwiX2luc3RydWN0b3IvZXh0ZXJuYWwuanNvblwiXG4gICAgICAgICAgICB0byBhbGxvdyBzdHVkZW50IGZpbGVzIHRvIG92ZXJyaWRlOlxuICAgICAgICAgICAgICAgIGltcG9ydCBoZWxwZXIgPT4gXCIuL2hlbHBlci5weVwiXG4gICAgICAgICAgICAgICAgb3BlbihcImV4dGVybmFsLmpzb25cIikgPT4gXCJleHRlcm5hbC5qc29uXCJcbiAgICAgICAgICAgIHRvIG9ubHkgY2hlY2sgc3R1ZGVudCBmaWxlcywgcHJlcGVuZCB3aXRoIF9zdHVkZW50XG4gICAgICAgICAqL1xuICAgICAgICAvLyBDaG9wIG9mZiBzdGFydGluZyBcIi4vXCJcbiAgICAgICAgaWYgKG5hbWUuc3RhcnRzV2l0aChcIi4vXCIpKSB7XG4gICAgICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgyKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2VhcmNoTW9kZSA9IFNlYXJjaE1vZGVzLkVWRVJZV0hFUkU7XG4gICAgICAgIC8vIFNob3VsZCB0aGUgc2VhcmNoIGJlIHN0YXJ0IHdpdGggaW5zdHJ1Y3RvciBzaWRlP1xuICAgICAgICBpZiAobmFtZS5zdGFydHNXaXRoKElOU1RSVUNUT1JfRElSRUNUT1JZKSkge1xuICAgICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoSU5TVFJVQ1RPUl9ESVJFQ1RPUlkubGVuZ3RoKTtcbiAgICAgICAgICAgIHNlYXJjaE1vZGUgPSBTZWFyY2hNb2Rlcy5TVEFSVF9XSVRIX0lOU1RSVUNUT1I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvdWxkIHRoZSBzZWFyY2ggYmUgbGltaXRlZCB0byB0aGUgc3R1ZGVudCBtb2RlP1xuICAgICAgICBpZiAobmFtZS5zdGFydHNXaXRoKFNUVURFTlRfRElSRUNUT1JZKSkge1xuICAgICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoU1RVREVOVF9ESVJFQ1RPUlkubGVuZ3RoKTtcbiAgICAgICAgICAgIHNlYXJjaE1vZGUgPSBTZWFyY2hNb2Rlcy5PTkxZX1NUVURFTlRfRklMRVM7XG4gICAgICAgIH0gZWxzZSBpZiAoc3R1ZGVudFNlYXJjaCkge1xuICAgICAgICAgICAgc2VhcmNoTW9kZSA9IFNlYXJjaE1vZGVzLk9OTFlfU1RVREVOVF9GSUxFUztcbiAgICAgICAgfVxuICAgICAgICAvLyBTaG9ydGN1dCBmb3IgaW5zdHJ1Y3RvciB2ZXJzaW9uc1xuICAgICAgICBsZXQgZXh0cmFTdHVkZW50RmlsZXMgPSB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5leHRyYUZpbGVzKCk7XG4gICAgICAgIGxldCBleHRyYUluc3RydWN0b3JGaWxlcyA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmV4dHJhSW5zdHJ1Y3RvckZpbGVzKCk7XG4gICAgICAgIGxldCBleHRyYVN0YXJ0aW5nRmlsZXMgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5leHRyYVN0YXJ0aW5nRmlsZXMoKTtcbiAgICAgICAgLy8gQ2hlY2sgc3BlY2lhbCBmaWxlcyAoVE9ETzogaG93IHdvdWxkIGFuIGluc3RydWN0b3IgYWNjZXNzIFwiLi9faW5zdHJ1Y3Rvci9hbnN3ZXIucHlcIj9cbiAgICAgICAgbGV0IHNwZWNpYWxGaWxlID0gdGhpcy5zZWFyY2hGb3JTcGVjaWFsRmlsZXNfKG5hbWUsIHNlYXJjaE1vZGUpO1xuICAgICAgICBpZiAoc3BlY2lhbEZpbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHNwZWNpYWxGaWxlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN0YXJ0IGxvb2tpbmcgdGhyb3VnaCBwb3NzaWJsZSBmaWxlc1xuICAgICAgICBsZXQgc3R1ZGVudFZlcnNpb24gPSB0aGlzLnNlYXJjaEZvckZpbGVJbkxpc3RfKGV4dHJhU3R1ZGVudEZpbGVzLCBuYW1lKTtcbiAgICAgICAgbGV0IGdlbmVyYXRlZFZlcnNpb24gPSB0aGlzLnNlYXJjaEZvckZpbGVJbkxpc3RfKGV4dHJhU3R1ZGVudEZpbGVzLCBcIipcIituYW1lKTtcbiAgICAgICAgbGV0IGRlZmF1bHRWZXJzaW9uID0gdGhpcy5zZWFyY2hGb3JGaWxlSW5MaXN0XyhleHRyYUluc3RydWN0b3JGaWxlcywgXCImXCIrbmFtZSk7XG4gICAgICAgIGlmIChzZWFyY2hNb2RlID09PSBTZWFyY2hNb2Rlcy5PTkxZX1NUVURFTlRfRklMRVMpIHtcbiAgICAgICAgICAgIHJldHVybiBmaXJzdERlZmluZWRWYWx1ZShkZWZhdWx0VmVyc2lvbiwgc3R1ZGVudFZlcnNpb24sIGdlbmVyYXRlZFZlcnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbnN0cnVjdG9yVmVyc2lvbiA9IHRoaXMuc2VhcmNoRm9yRmlsZUluTGlzdF8oZXh0cmFJbnN0cnVjdG9yRmlsZXMsIFwiIVwiK25hbWUpO1xuICAgICAgICBsZXQgaGlkZGVuVmVyc2lvbiA9IHRoaXMuc2VhcmNoRm9yRmlsZUluTGlzdF8oZXh0cmFJbnN0cnVjdG9yRmlsZXMsIFwiP1wiK25hbWUpO1xuICAgICAgICBsZXQgc3RhcnRpbmdWZXJzaW9uID0gdGhpcy5zZWFyY2hGb3JGaWxlSW5MaXN0XyhleHRyYVN0YXJ0aW5nRmlsZXMsIFwiXlwiK25hbWUpO1xuICAgICAgICBpZiAoc2VhcmNoTW9kZSA9PT0gU2VhcmNoTW9kZXMuU1RBUlRfV0lUSF9JTlNUUlVDVE9SKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3REZWZpbmVkVmFsdWUoaW5zdHJ1Y3RvclZlcnNpb24sIGhpZGRlblZlcnNpb24sIHN0YXJ0aW5nVmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmVyc2lvbiwgc3R1ZGVudFZlcnNpb24sIGdlbmVyYXRlZFZlcnNpb24pO1xuICAgICAgICB9IGVsc2UgaWYgKHNlYXJjaE1vZGUgPT09IFNlYXJjaE1vZGVzLkVWRVJZV0hFUkUpIHtcbiAgICAgICAgICAgIHJldHVybiBmaXJzdERlZmluZWRWYWx1ZShkZWZhdWx0VmVyc2lvbiwgc3R1ZGVudFZlcnNpb24sIGdlbmVyYXRlZFZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3RvclZlcnNpb24sIGhpZGRlblZlcnNpb24sIHN0YXJ0aW5nVmVyc2lvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWFyY2hGb3JGaWxlSW5MaXN0Xyhtb2RlbExpc3QsIGZpbGVuYW1lKSB7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IG1vZGVsTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG1vZGVsTGlzdFtpXS5maWxlbmFtZSgpID09PSBmaWxlbmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbExpc3RbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBzZWFyY2hGb3JTcGVjaWFsRmlsZXNfKGZpbGVuYW1lLCBzZWFyY2hNb2RlKSB7XG4gICAgICAgIGlmIChzZWFyY2hNb2RlID09PSBTZWFyY2hNb2Rlcy5PTkxZX1NUVURFTlRfRklMRVMpIHtcbiAgICAgICAgICAgIGlmIChmaWxlbmFtZSA9PT0gXCJhbnN3ZXIucHlcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlTW9ja01vZGVsRmlsZShcIl9pbnN0cnVjdG9yL2Fuc3dlci5weVwiLCB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb2RlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGZpbGVuYW1lKSB7XG4gICAgICAgICAgICBjYXNlIFwiYW5zd2VyLnB5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VNb2NrTW9kZWxGaWxlKFwiX2luc3RydWN0b3IvYW5zd2VyLnB5XCIsIHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmNvZGUoKSk7XG4gICAgICAgICAgICBjYXNlIFwib25fcnVuLnB5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VNb2NrTW9kZWxGaWxlKFwiX2luc3RydWN0b3Ivb25fcnVuLnB5XCIsIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50Lm9uUnVuKCkpO1xuICAgICAgICAgICAgY2FzZSBcIm9uX2NoYW5nZS5weVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlTW9ja01vZGVsRmlsZShcIl9pbnN0cnVjdG9yL29uX2NoYW5nZS5weVwiLCB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vbkNoYW5nZSgpKTtcbiAgICAgICAgICAgIGNhc2UgXCJvbl9ldmFsLnB5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VNb2NrTW9kZWxGaWxlKFwiX2luc3RydWN0b3Ivb25fZXZhbC5tZFwiLCB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vbkV2YWwoKSk7XG4gICAgICAgICAgICBjYXNlIFwiaW5zdHJ1Y3Rpb25zLm1kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VNb2NrTW9kZWxGaWxlKFwiX2luc3RydWN0b3IvaW5zdHJ1Y3Rpb25zLm1kXCIsIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50Lmluc3RydWN0aW9ucygpKTtcbiAgICAgICAgICAgIGNhc2UgXCJzdGFydGluZ19jb2RlLnB5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VNb2NrTW9kZWxGaWxlKFwiX2luc3RydWN0b3Ivc3RhcnRpbmdfY29kZS5weVwiLCB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zdGFydGluZ0NvZGUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBuZXdGaWxlRGlhbG9nKGtpbmQpIHtcbiAgICAgICAgbGV0IGJvZHkgPSAkKE5FV19JTlNUUlVDVE9SX0ZJTEVfRElBTE9HX0hUTUwpO1xuICAgICAgICBsZXQgZmlsZW5hbWUgPSBib2R5LmZpbmQoXCIuYmxvY2tweS1pbnN0cnVjdG9yLWZpbGUtZGlhbG9nLWZpbGVuYW1lXCIpO1xuICAgICAgICBsZXQgZmlsZXR5cGUgPSBib2R5LmZpbmQoXCIuYmxvY2tweS1pbnN0cnVjdG9yLWZpbGUtZGlhbG9nLWZpbGV0eXBlXCIpO1xuICAgICAgICBsZXQgbmFtZXNwYWNlID0gYm9keS5maW5kKFwiLmJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1uYW1lc3BhY2VcIik7XG4gICAgICAgIGxldCBleHRlbnNpb25SZWdleCA9IC8oPzpcXC4oW14uXSspKT8kLztcbiAgICAgICAgZmlsZW5hbWUub24oXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uUmVnZXguZXhlYyhmaWxlbmFtZS52YWwoKSlbMV07XG4gICAgICAgICAgICBleHRlbnNpb24gPSBleHRlbnNpb24gPT09IHVuZGVmaW5lZCA/IFwiTm8gZXh0ZW5zaW9uXCIgOiBleHRlbnNpb247XG4gICAgICAgICAgICAvL1RPRE86IHRoaXMubWFpbi5jb21wb25lbnRzLmVkaXRvcnMuZ2V0RWRpdG9yRnJvbUV4dGVuc2lvbihleHRlbnNpb24pO1xuICAgICAgICAgICAgZmlsZXR5cGUudGV4dChleHRlbnNpb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IHllcyA9ICgpID0+IHtcbiAgICAgICAgICAgIGxldCBwcmVmaXggPSBcIlwiO1xuICAgICAgICAgICAgaWYgKGtpbmQgPT09IFwiaW5zdHJ1Y3RvclwiKSB7XG4gICAgICAgICAgICAgICAgcHJlZml4ID0gbmFtZXNwYWNlLnZhbCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChraW5kID09PSBcInN0YXJ0aW5nXCIpIHtcbiAgICAgICAgICAgICAgICBwcmVmaXggPSBcIl5cIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZpbGVuYW1lLnZhbCgpKSB7XG4gICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBwcmVmaXgrZmlsZW5hbWUudmFsKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXdGaWxlKGZpbGVuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgYm9keS5zdWJtaXQoKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHllcygpO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLmNsb3NlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuY29uZmlybShcIk1ha2UgTmV3IEZpbGVcIiwgYm9keSwgeWVzLCAoKT0+e30sIFwiQWRkXCIpO1xuICAgIH1cbn0iLCIvL1RPRE86IE1vdmUgZ2V0IGxpbmsgZG93biB0byBmb290ZXIsIHJlbW92ZSB2ZXJ0aWNhbCBiYXIgZnJvbSBxdWljay1tZW51XG5leHBvcnQgbGV0IEZPT1RFUl9IVE1MID0gYFxuPGRpdiBjbGFzcz1cImNvbC1tZC0xMiBibG9ja3B5LXBhbmVsIGJsb2NrcHktc3RhdHVzXCI+XG4gICAgPGRpdj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZVwiIGRhdGEtYmluZD1cImNsYXNzOiB1aS5zZXJ2ZXIuc3RhdHVzKCdsb2FkQXNzaWdubWVudCcpXCI+TG9hZCBBc3NpZ25tZW50PC9zcGFuPiwgXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiYmFkZ2VcIiBkYXRhLWJpbmQ9XCJjbGFzczogdWkuc2VydmVyLnN0YXR1cygnc2F2ZUFzc2lnbm1lbnQnKVwiPlNhdmUgQXNzaWdubWVudDwvc3Bhbj4sIFxuICAgICAgICA8c3BhbiBjbGFzcz1cImJhZGdlXCIgZGF0YS1iaW5kPVwiY2xhc3M6IHVpLnNlcnZlci5zdGF0dXMoJ2xvYWRGaWxlJylcIj5Mb2FkIEZpbGU8L3NwYW4+LCBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZVwiIGRhdGEtYmluZD1cImNsYXNzOiB1aS5zZXJ2ZXIuc3RhdHVzKCdzYXZlRmlsZScpXCI+U2F2ZSBGaWxlPC9zcGFuPiwgXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiYmFkZ2VcIiBkYXRhLWJpbmQ9XCJjbGFzczogdWkuc2VydmVyLnN0YXR1cygnbG9hZERhdGFzZXQnKVwiPkxvYWQgRGF0YXNldDwvc3Bhbj4sIFxuICAgICAgICA8c3BhbiBjbGFzcz1cImJhZGdlXCIgZGF0YS1iaW5kPVwiY2xhc3M6IHVpLnNlcnZlci5zdGF0dXMoJ2xvZ0V2ZW50JylcIj5Mb2cgRXZlbnQ8L3NwYW4+LCBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZVwiIGRhdGEtYmluZD1cImNsYXNzOiB1aS5zZXJ2ZXIuc3RhdHVzKCd1cGRhdGVTdWJtaXNzaW9uJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IHVpLnNlcnZlci5mb3JjZS51cGRhdGVTdWJtaXNzaW9uXCI+VXBkYXRlIFN1Ym1pc3Npb248L3NwYW4+LCBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZVwiIGRhdGEtYmluZD1cImNsYXNzOiB1aS5zZXJ2ZXIuc3RhdHVzKCdvbkV4ZWN1dGlvbicpXCI+RXhlY3V0aW9uPC9zcGFuPlxuICAgIDwvZGl2PlxuICAgIDxkaXZcbiAgICAgICAgPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogdWkuc2VydmVyLm1lc3NhZ2VzXCI+PC9zcGFuPlxuICAgIDwvZGl2PlxuICAgIDxkaXY+XG4gICAgICAgIDxzcGFuPlVzZXI6IDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IHVzZXIuaWRcIj48L3NwYW4+ICg8c3BhbiBkYXRhLWJpbmQ9XCJ0ZXh0OiB1c2VyLm5hbWVcIj48L3NwYW4+LCA8c3BhbiBkYXRhLWJpbmQ9XCJ0ZXh0OiB1c2VyLnJvbGVcIj48L3NwYW4+KTwvc3Bhbj4sIFxuICAgICAgICA8c3Bhbj5Db3Vyc2U6IDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IHVzZXIuY291cnNlSWRcIj48L3NwYW4+PC9zcGFuPixcbiAgICAgICAgPHNwYW4+R3JvdXA6IDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IHVzZXIuZ3JvdXBJZFwiPjwvc3Bhbj48L3NwYW4+LFxuICAgICAgICA8c3Bhbj5Bc3NpZ25tZW50OiA8c3BhbiBkYXRhLWJpbmQ9XCJ0ZXh0OiBhc3NpZ25tZW50LmlkXCI+PC9zcGFuPjwvc3Bhbj4sXG4gICAgICAgIDxzcGFuPkFzc2lnbm1lbnQgVmVyc2lvbjogPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogYXNzaWdubWVudC52ZXJzaW9uXCI+PC9zcGFuPjwvc3Bhbj4sXG4gICAgICAgIDxzcGFuPlN1Ym1pc3Npb246IDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IHN1Ym1pc3Npb24uaWRcIj48L3NwYW4+PC9zcGFuPiwgXG4gICAgICAgIDxzcGFuPlN1Ym1pc3Npb24gVmVyc2lvbjogPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogc3VibWlzc2lvbi52ZXJzaW9uXCI+PC9zcGFuPjwvc3Bhbj5cbiAgICA8L2Rpdj5cbjwvZGl2PlxuYDsiLCIvLyBUT0RPOiBTaG91bGQgZGlzYWJsZSBidXR0b25zIGlmIHdlIGNhbid0IGFjdGl2YXRlIHRoZW0uXG5cbmV4cG9ydCBjb25zdCBISVNUT1JZX1RPT0xCQVJfSFRNTCA9IGBcbjxkaXYgY2xhc3M9XCJibG9ja3B5LWhpc3RvcnktdG9vbGJhciBjb2wtbWQtMTJcIiBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiBkaXNwbGF5Lmhpc3RvcnlNb2RlXCI+XG5cbiAgICA8Zm9ybSBjbGFzcz1cImZvcm0taW5saW5lXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJibG9ja3B5LWhpc3Rvcnktc3RhcnQgYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBtci0yXCIgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZWRpdG9ycy5weXRob24uaGlzdG9yeS5zdGFydFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1zdGVwLWJhY2t3YXJkJz48L3NwYW4+IFN0YXJ0XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBtci0yXCIgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZWRpdG9ycy5weXRob24uaGlzdG9yeS5wcmV2aW91c1wiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1iYWNrd2FyZCc+PC9zcGFuPiBQcmV2aW91c1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPHNlbGVjdCBjbGFzcz1cImJsb2NrcHktaGlzdG9yeS1zZWxlY3RvciBmb3JtLWNvbnRyb2wgY3VzdG9tLXNlbGVjdCBtci0yXCIgYXJpYS10aXRsZT1cIkhpc3RvcnkgU2VsZWN0b3JcIj5cbiAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IG1yLTJcIiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5lZGl0b3JzLnB5dGhvbi5oaXN0b3J5LnVzZVwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1maWxlLWltcG9ydCc+PC9zcGFuPiBVc2VcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IG1yLTJcIiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5lZGl0b3JzLnB5dGhvbi5oaXN0b3J5Lm5leHRcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtZm9yd2FyZCc+PC9zcGFuPiBOZXh0XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeVwiIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmVkaXRvcnMucHl0aG9uLmhpc3RvcnkubW9zdFJlY2VudFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1zdGVwLWZvcndhcmQnPjwvc3Bhbj4gTW9zdCBSZWNlbnRcbiAgICAgICAgPC9idXR0b24+XG4gICAgPC9mb3JtPlxuPC9kaXY+XG5gO1xuXG4vKipcbiAqIEFuIG9iamVjdCBmb3IgZGlzcGxheWluZyB0aGUgdXNlcidzIGNvZGluZyBsb2dzICh0aGVpciBoaXN0b3J5KS5cbiAqIEEgbGlnaHR3ZWlnaHQgY29tcG9uZW50LCBpdHMgb25seSBqb2IgaXMgdG8gb3BlbiBhIGRpYWxvZy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEB0aGlzIHtCbG9ja1B5SGlzdG9yeX1cbiAqIEBwYXJhbSB7T2JqZWN0fSBtYWluIC0gVGhlIG1haW4gQmxvY2tQeSBpbnN0YW5jZVxuICovXG5leHBvcnQgY2xhc3MgQmxvY2tQeUhpc3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIHRhZykge1xuICAgICAgICB0aGlzLm1haW4gPSBtYWluO1xuICAgICAgICB0aGlzLnRhZyA9IHRhZztcbiAgICAgICAgdGhpcy5jdXJyZW50SWQgPSBudWxsO1xuICAgICAgICB0aGlzLmhpc3RvcnkgPSBbXTtcbiAgICAgICAgdGhpcy5lZGl0RXZlbnRzID0gW107XG4gICAgfVxuXG4gICAgbG9hZChoaXN0b3J5KSB7XG4gICAgICAgIHRoaXMuaGlzdG9yeSA9IGhpc3Rvcnk7XG4gICAgICAgIHRoaXMuZWRpdEV2ZW50cyA9IFtdO1xuICAgICAgICB0aGlzLnNlbGVjdG9yID0gJChcIi5ibG9ja3B5LWhpc3Rvcnktc2VsZWN0b3JcIikuZW1wdHkoKTtcbiAgICAgICAgbGV0IGVkaXRJZCA9IDA7XG4gICAgICAgIGhpc3RvcnlcbiAgICAgICAgICAgIC5maWx0ZXIoKGVudHJ5KSA9PiAoXG4gICAgICAgICAgICAgICAgIWVudHJ5LmZpbGVfcGF0aC5zdGFydHNXaXRoKFwiX2luc3RydWN0b3IuXCIpICYmXG4gICAgICAgICAgICAgICAgICAgIGVudHJ5LmV2ZW50X3R5cGUgIT09IFwiQ29tcGlsZVwiICYmXG4gICAgICAgICAgICAgICAgICAgIGVudHJ5LmV2ZW50X3R5cGUgIT09IFwiSW50ZXJ2ZW50aW9uXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgKCF0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5oaWRkZW4oKSB8fCBlbnRyeS5ldmVudF90eXBlICE9PSBcIlgtU3VibWlzc2lvbi5MTVNcIilcbiAgICAgICAgICAgICkpXG4gICAgICAgICAgICAuZm9yRWFjaCgoZW50cnksIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50X3R5cGUgPSBSRU1BUF9FVkVOVF9UWVBFU1tlbnRyeS5ldmVudF90eXBlXSB8fCBlbnRyeS5ldmVudF90eXBlO1xuICAgICAgICAgICAgICAgIGxldCBkaXNwbGF5ZWQgPSBwcmV0dHlQcmludERhdGVUaW1lKGVudHJ5LmNsaWVudF90aW1lc3RhbXApICtcIiAtIFwiK2V2ZW50X3R5cGU7XG4gICAgICAgICAgICAgICAgbGV0IGRpc2FibGUgPSAoZW50cnkuZXZlbnRfdHlwZSAhPT0gXCJGaWxlLkVkaXRcIik7XG4gICAgICAgICAgICAgICAgbGV0IG9wdGlvbiA9ICQoXCI8b3B0aW9uPjwvb3B0aW9uPlwiLCB7dGV4dDogZGlzcGxheWVkLCBkaXNhYmxlZDogZGlzYWJsZX0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRWRpdEV2ZW50KGVudHJ5KSkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb24uYXR0cihcInZhbHVlXCIsIGVkaXRJZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdEV2ZW50cy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgZWRpdElkICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0b3IuYXBwZW5kKG9wdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZWxlY3Rvci52YWwoTWF0aC5tYXgoMCwgZWRpdElkLTEpKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rvci5jaGFuZ2UoKGV2dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFZGl0b3IoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbW92ZVRvU3RhcnQoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IudmFsKDApO1xuICAgICAgICB0aGlzLnVwZGF0ZUVkaXRvcigpO1xuICAgIH1cblxuICAgIG1vdmVQcmV2aW91cygpIHtcbiAgICAgICAgbGV0IGN1cnJlbnRJZCA9IHBhcnNlSW50KHRoaXMuc2VsZWN0b3IudmFsKCksIDEwKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rvci52YWwoTWF0aC5tYXgoMCwgY3VycmVudElkLTEpKTtcbiAgICAgICAgdGhpcy51cGRhdGVFZGl0b3IoKTtcbiAgICB9XG5cbiAgICBtb3ZlTmV4dCgpIHtcbiAgICAgICAgbGV0IGN1cnJlbnRJZCA9IHBhcnNlSW50KHRoaXMuc2VsZWN0b3IudmFsKCksIDEwKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rvci52YWwoTWF0aC5taW4odGhpcy5lZGl0RXZlbnRzLmxlbmd0aC0xLCBjdXJyZW50SWQrMSkpO1xuICAgICAgICB0aGlzLnVwZGF0ZUVkaXRvcigpO1xuICAgIH1cblxuICAgIG1vdmVUb01vc3RSZWNlbnQoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IudmFsKHRoaXMuZWRpdEV2ZW50cy5sZW5ndGgtMSk7XG4gICAgICAgIHRoaXMudXBkYXRlRWRpdG9yKCk7XG4gICAgfVxuXG4gICAgdXBkYXRlRWRpdG9yKCkge1xuICAgICAgICBpZiAodGhpcy5lZGl0RXZlbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRJZCA9IHBhcnNlSW50KHRoaXMuc2VsZWN0b3IudmFsKCksIDEwKTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnB5dGhvbkVkaXRvci5ibS5zZXRDb2RlKHRoaXMuZWRpdEV2ZW50c1tjdXJyZW50SWRdLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXNlKCkge1xuICAgICAgICBpZiAodGhpcy5lZGl0RXZlbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRJZCA9IHBhcnNlSW50KHRoaXMuc2VsZWN0b3IudmFsKCksIDEwKTtcbiAgICAgICAgICAgIGxldCBjb2RlID0gdGhpcy5lZGl0RXZlbnRzW2N1cnJlbnRJZF0ubWVzc2FnZTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC51aS5lZGl0b3JzLnB5dGhvbi50dXJuT2ZmSGlzdG9yeU1vZGUoKTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnB5dGhvbkVkaXRvci5maWxlLmhhbmRsZShjb2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzRWRpdEV2ZW50KGVudHJ5KSB7XG4gICAgICAgIHJldHVybiAoKGVudHJ5LmV2ZW50X3R5cGUgPT09IFwiRmlsZS5FZGl0XCIgfHxcbiAgICAgICAgICAgICAgICAgZW50cnkuZXZlbnRfdHlwZSA9PT0gXCJGaWxlLkNyZWF0ZVwiKSAmJlxuICAgICAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LmZpbGVuYW1lKCkgPT09IGVudHJ5LmZpbGVfcGF0aCk7XG4gICAgfVxuXG59XG5cbmNvbnN0IFJFTUFQX0VWRU5UX1RZUEVTID0ge1xuICAgIFwiU2Vzc2lvbi5TdGFydFwiOiBcIkJlZ2FuIHNlc3Npb25cIixcbiAgICBcIlgtSVAuQ2hhbmdlXCI6IFwiQ2hhbmdlZCBJUCBhZGRyZXNzXCIsXG4gICAgXCJGaWxlLkVkaXRcIjogXCJFZGl0ZWQgY29kZVwiLFxuICAgIFwiRmlsZS5DcmVhdGVcIjogXCJTdGFydGVkIGFzc2lnbm1lbnRcIixcbiAgICBcIlJ1bi5Qcm9ncmFtXCI6IFwiUmFuIHByb2dyYW1cIixcbiAgICBcIkNvbXBpbGUuRXJyb3JcIjogXCJTeW50YXggZXJyb3JcIixcbiAgICBcIlgtU3VibWlzc2lvbi5MTVNcIjogXCJVcGRhdGVkIGdyYWRlXCJcbn07XG5cbmNvbnN0IG1vbnRoTmFtZXMgPSBbXG4gICAgXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIixcbiAgICBcIkFwclwiLCBcIk1heVwiLCBcIkp1bmVcIiwgXCJKdWx5XCIsXG4gICAgXCJBdWdcIiwgXCJTZXB0XCIsIFwiT2N0XCIsXG4gICAgXCJOb3ZcIiwgXCJEZWNcIlxuXTtcbmNvbnN0IHdlZWtEYXlzID0gW1xuICAgIFwiU3VuXCIsIFwiTW9uXCIsIFwiVHVlXCIsXG4gICAgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIixcbiAgICBcIlNhdFwiXG5dO1xuXG5mdW5jdGlvbiBpc1NhbWVEYXkoZmlyc3QsIHNlY29uZCkge1xuICAgIHJldHVybiBmaXJzdC5nZXREYXRlKCkgPT09IHNlY29uZC5nZXREYXRlKCkgJiZcbiAgICAgICAgZmlyc3QuZ2V0TW9udGgoKSA9PT0gc2Vjb25kLmdldE1vbnRoKCkgJiZcbiAgICAgICAgZmlyc3QuZ2V0RnVsbFllYXIoKSA9PT0gc2Vjb25kLmdldEZ1bGxZZWFyKCk7XG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIHBhcnNlIGEgZGF0ZS90aW1lIHN0cmluZyBhbmQgcmV3cml0ZSBpdCBhcyBzb21ldGhpbmdcbiAqIG1vcmUgaHVtYW4gcmVhZGFibGUuXG4gKiBAcGFyYW0ge1N0cmluZ30gdGltZVN0cmluZyAtIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGltZSAoXCJZWVlZTU1ERCBISE1NU1NcIilcbiAqIEByZXR1cm5zIHtTdHJpbmd9IC0gQSBodW1hbi1yZWFkYWJsZSB0aW1lIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gcHJldHR5UHJpbnREYXRlVGltZSh0aW1lU3RyaW5nKSB7XG4gICAgLypsZXQgeWVhciA9IHRpbWVTdHJpbmcuc2xpY2UoMCwgNCksXG4gICAgICAgIG1vbnRoID0gcGFyc2VJbnQodGltZVN0cmluZy5zbGljZSg0LCA2KSwgMTApLTEsXG4gICAgICAgIGRheSA9IHRpbWVTdHJpbmcuc2xpY2UoNiwgOCksXG4gICAgICAgIGhvdXIgPSB0aW1lU3RyaW5nLnNsaWNlKDksIDExKSxcbiAgICAgICAgbWludXRlcyA9IHRpbWVTdHJpbmcuc2xpY2UoMTEsIDEzKSxcbiAgICAgICAgc2Vjb25kcyA9IHRpbWVTdHJpbmcuc2xpY2UoMTMsIDE1KTsqL1xuICAgIC8vIFRPRE86IEhhbmRsZSB0aW1lem9uZXMgY29ycmVjdGx5XG4gICAgaWYgKHRpbWVTdHJpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gXCJVbmRlZmluZWQgVGltZVwiO1xuICAgIH1cbiAgICBsZXQgbm93ID0gbmV3IERhdGUoKTtcbiAgICBsZXQgcGFzdCA9IG5ldyBEYXRlKHBhcnNlSW50KHRpbWVTdHJpbmcsIDEwKSk7XG4gICAgaWYgKGlzU2FtZURheShub3csIHBhc3QpKSB7XG4gICAgICAgIHJldHVybiBcIlRvZGF5IGF0IFwiK3Bhc3QudG9Mb2NhbGVUaW1lU3RyaW5nKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGRheVN0ciA9IHdlZWtEYXlzW3Bhc3QuZ2V0RGF5KCldO1xuICAgICAgICBsZXQgbW9udGhTdHIgPSBtb250aE5hbWVzW3Bhc3QuZ2V0TW9udGgoKV07XG4gICAgICAgIGxldCBkYXRlID0gZGF5U3RyICsgXCIsIFwiICsgbW9udGhTdHIgKyBcIiBcIiArIHBhc3QuZ2V0RGF0ZSgpO1xuICAgICAgICBpZiAobm93LmdldEZ1bGxZZWFyKCkgPT09IHBhc3QuZ2V0RnVsbFllYXIoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGUgKyBcIiBhdCBcIitwYXN0LnRvTG9jYWxlVGltZVN0cmluZygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGUgKyBcIiwgXCIrcGFzdC5nZXRGdWxsWWVhcigpICsgXCIgYXQgXCIrcGFzdC50b0xvY2FsZVRpbWVTdHJpbmcoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG4vKipcbiAqIE9wZW5zIHRoZSBoaXN0b3J5IGRpYWxvZyBib3guIFRoaXMgcmVxdWlyZXMgYSB0cmlwIHRvIHRoZSBzZXJ2ZXIgYW5kXG4gKiBvY2N1cnMgYXN5bmNocm9ub3VzbHkuIFRoZSB1c2VycycgY29kZSBpcyBzaG93biBpbiBwcmVmb3JtYXR0ZWQgdGV4dFxuICogdGFncyAobm8gY29kZSBoaWdobGlnaHRpbmcgY3VycmVudGx5KSBhbG9uZyB3aXRoIHRoZSB0aW1lc3RhbXAuXG4gKi9cbkJsb2NrUHlIaXN0b3J5LnByb3RvdHlwZS5vcGVuRGlhbG9nID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRpYWxvZyA9IHRoaXMubWFpbi5jb21wb25lbnRzLmRpYWxvZztcbiAgICB2YXIgYm9keSA9IFwiPHByZT5hID0gMDwvcHJlPlwiO1xuICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5nZXRIaXN0b3J5KGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGJvZHkgPSBkYXRhLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGNvbXBsZXRlLCBlbGVtKSB7IFxuICAgICAgICAgICAgdmFyIGNvbXBsZXRlX3N0ciA9IHByZXR0eVByaW50RGF0ZVRpbWUoZWxlbS50aW1lKTtcbiAgICAgICAgICAgIHZhciBuZXdfbGluZSA9IFwiPGI+XCIrY29tcGxldGVfc3RyK1wiPC9iPjxicj48cHJlPlwiK2VsZW0uY29kZStcIjwvcHJlPlwiO1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBsZXRlK1wiXFxuXCIrbmV3X2xpbmU7XG4gICAgICAgIH0sIFwiXCIpO1xuICAgICAgICBkaWFsb2cuc2hvdyhcIldvcmsgSGlzdG9yeVwiLCBib2R5LCBmdW5jdGlvbigpIHt9KTtcbiAgICB9KTtcbn07IiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IENvbnRhaW5zIG1haW4gSFRNTCBvZiBCbG9ja1B5IGludGVyZmFjZSwgYW5kIGhlbHBlciBmdW5jdGlvbnMuXG4gKiBDb21iaW5lcyBhIGxvdCBvZiBIVE1MIGZyb20gY29tcG9uZW50cy5cbiAqXG4gKiBIZXJlJ3MgdGhlIGxheW91dDpcbiAqICBSb3cgMTogSGVhZGVyIGFuZCBRdWljayBNZW51XG4gKiAgUm93IDI6IENvbnNvbGUgYW5kIEZlZWRiYWNrXG4gKiAgUm93IDM6IEZpbGUgTmF2aWdhdGlvblxuICogIFJvdyA0OiBWaWV3IFJvd1xuICogIFJvdyA1OiBGb290ZXIgUm93XG4gKi9cblxuaW1wb3J0IHtUUkFDRV9IVE1MfSBmcm9tIFwidHJhY2UuanNcIjtcbmltcG9ydCB7RElBTE9HX0hUTUx9IGZyb20gXCJkaWFsb2cuanNcIjtcbmltcG9ydCB7RkVFREJBQ0tfSFRNTH0gZnJvbSBcImZlZWRiYWNrLmpzXCI7XG5pbXBvcnQge0ZJTEVTX0hUTUx9IGZyb20gXCJmaWxlcy5qc1wiO1xuaW1wb3J0IHtGT09URVJfSFRNTH0gZnJvbSBcImZvb3Rlci5qc1wiO1xuaW1wb3J0IHtFRElUT1JTX0hUTUx9IGZyb20gXCJlZGl0b3JzLmpzXCI7XG5pbXBvcnQge0NPTlNPTEVfSFRNTH0gZnJvbSBcImNvbnNvbGUuanNcIjtcblxuLyoqXG4gKiBUaGUgZGlmZmVyZW50IGxheW91dCBvcHRpb25zIG9mIHRoZSBwYW5lcyBpbiB0aGUgc2Vjb25kIHJvdyBvZiB0aGUgbGF5b3V0LlxuICogQGVudW0ge1N0cmluZ31cbiAqL1xuZXhwb3J0IGxldCBTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnMgPSB7XG4gICAgRkVFREJBQ0s6IFwiZmVlZGJhY2tcIixcbiAgICBUUkFDRTogXCJ0cmFjZVwiLFxuICAgIE5PTkU6IFwibm9uZVwiXG59O1xuXG4vKipcbiAqIFNldHVwIGFueSBhZGRpdGlvbmFsIEtub2Nrb3V0IHN1YnNjcmlwdGlvbnMgdG8gZmlyZSBvbiBpbnRlcmZhY2UgY2hhbmdlcy5cbiAqIEBwYXJhbSBzZWxmXG4gKiBAcGFyYW0gbW9kZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VFeHRyYUludGVyZmFjZVN1YnNjcmlwdGlvbnMoc2VsZiwgbW9kZWwpIHtcbiAgICAvLyBIaWdobGlnaHQgTWFya2Rvd24gd2hlbiBpbnN0cnVjdGlvbnMgdXBkYXRlXG4gICAgbGV0IGhpZ2hsaWdodFRpbWVvdXQgPSBudWxsO1xuICAgIG1vZGVsLnVpLmluc3RydWN0aW9ucy5jdXJyZW50LnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgIGlmIChoaWdobGlnaHRUaW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaGlnaGxpZ2h0VGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgaGlnaGxpZ2h0VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgbW9kZWwuY29uZmlndXJhdGlvbi5jb250YWluZXIuZmluZChcIi5ibG9ja3B5LWluc3RydWN0aW9ucyBwcmUgY29kZVwiKS5tYXAoIChpLCBibG9jaykgPT4ge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5obGpzLmhpZ2hsaWdodEJsb2NrKGJsb2NrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCA0MDApO1xuICAgIH0pO1xuICAgIC8vIFByb3ZpZGUgRnVsbHNjcmVlbiBzdXBwb3J0XG4gICAgbW9kZWwuZGlzcGxheS5mdWxsc2NyZWVuLnN1YnNjcmliZSgoaXNGdWxsc2NyZWVuKSA9PiB7XG4gICAgICAgIHNlbGYuY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJYLURpc3BsYXkuRnVsbHNjcmVlbi5SZXF1ZXN0XCIsIFwiXCIsIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGdWxsc2NyZWVuLnRvU3RyaW5nKCksIFwiXCIpO1xuICAgICAgICBpZiAoaXNGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAvLyBOT1RFOiBuYXZpZ2F0aW9uVUkgY291bGQgYWxsb3cgdXMgdG8gZm9yY2UgY29udHJvbHMgdG8gc2hvd1xuICAgICAgICAgICAgbW9kZWwuY29uZmlndXJhdGlvbi5jb250YWluZXIucGFyZW50KClbMF0ucmVxdWVzdEZ1bGxzY3JlZW4oKS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlID0gYEVycm9yIGF0dGVtcHRpbmcgdG8gZW5hYmxlIGZ1bGwtc2NyZWVuIG1vZGU6ICR7ZXJyLm1lc3NhZ2V9ICgke2Vyci5uYW1lfSlgO1xuICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJYLURpc3BsYXkuRnVsbHNjcmVlbi5FcnJvclwiLCBcIlwiLCBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSwgIFwiXCIpO1xuICAgICAgICAgICAgICAgIGFsZXJ0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRGlzcGxheS5GdWxsc2NyZWVuLlN1Y2Nlc3NcIiwgXCJcIiwgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuZnVsbHNjcmVlbih0cnVlKTtcbiAgICAgICAgICAgICAgICBtb2RlbC5jb25maWd1cmF0aW9uLmNvbnRhaW5lci5jc3MoXCJvdmVyZmxvdy15XCIsIFwiYXV0b1wiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiWC1EaXNwbGF5LkZ1bGxzY3JlZW4uRXhpdFwiLCBcIlwiLCBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGdWxsc2NyZWVuLnRvU3RyaW5nKCksIFwiXCIpO1xuICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuZnVsbHNjcmVlbihmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4vLyBUT0RPOiBHZXQgc2hhcmVhYmxlIGxpbmsgYnV0dG9uXG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlSW50ZXJmYWNlKG1haW4pIHtcbiAgICByZXR1cm4gYFxuPGRpdiBjbGFzcz0nYmxvY2tweS1jb250ZW50IGNvbnRhaW5lci1mbHVpZCc+XG5cbiAgICA8IS0tIERpYWxvZyAtLT5cbiAgICAke0RJQUxPR19IVE1MfVxuICAgIFxuICAgIDwhLS0gSGlkZGVuIENhcHR1cmUgQ2FudmFzIC0tPlxuICAgIDxjYW52YXMgaWQ9J2NhcHR1cmUtY2FudmFzJyBjbGFzcz0nZC1ub25lJyByb2xlPVwicHJlc2VudGF0aW9uXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9jYW52YXM+XG4gICAgXG4gICAgPCEtLSBSb3cgMTogSGVhZGVyIGFuZCBRdWljayBNZW51IC0tPlxuICAgIDxkaXYgY2xhc3M9J3Jvdyc+XG4gICAgICAgICBcbiAgICAgICAgIDwhLS0gRGVzY3JpcHRpb24gLS0+XG4gICAgICAgICA8ZGl2IGNsYXNzPSdjb2wtbWQtMTAgYmxvY2tweS1wYW5lbCBibG9ja3B5LWhlYWRlcidcbiAgICAgICAgICAgICAgIHJvbGU9J2hlYWRpbmcnIGFyaWEtbGFiZWw9J0Fzc2lnbm1lbnQgRGVzY3JpcHRpb24nPlxuICAgICAgICAgXG4gICAgICAgICAgICA8IS0tIEFzc2lnbm1lbnQgTmFtZSAtLT5cbiAgICAgICAgICAgIDxzcGFuIHJvbGU9J2hlYWRpbmcnIGFyaWEtbGV2ZWw9JzEnXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cImJsb2NrcHktbmFtZVwiPlxuICAgICAgICAgICAgICAgIDxzdHJvbmc+QmxvY2tQeTogPC9zdHJvbmc+IFxuICAgICAgICAgICAgICAgIDxzcGFuIGRhdGEtYmluZD0ndGV4dDogYXNzaWdubWVudC5uYW1lJz48L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDwhLS0gUmVzZXQgSW5zdHJ1Y3Rpb25zIEJ1dHRvbiAtLT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJibG9ja3B5LWluc3RydWN0aW9ucy1yZXNldFwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwidmlzaWJsZTogdWkuaW5zdHJ1Y3Rpb25zLmlzQ2hhbmdlZFwiPlxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiZmxvYXQtcmlnaHRcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuaW5zdHJ1Y3Rpb25zLnJlc2V0XCJcbiAgICAgICAgICAgICAgICAgICAgaHJlZj1cIlwiPlxuICAgICAgICAgICAgICAgICAgICBSZXNldCBpbnN0cnVjdGlvbnM8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPCEtLSBJbnN0cnVjdGlvbnMgLS0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPSdibG9ja3B5LWluc3RydWN0aW9ucydcbiAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiaHRtbDogdWkuaW5zdHJ1Y3Rpb25zLmN1cnJlbnRcIj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9J2NvbC1tZC0yIGJsb2NrcHktcGFuZWwgYmxvY2tweS1xdWljay1tZW51J1xuICAgICAgICAgICAgIHJvbGU9J21lbnViYXInIGFyaWEtbGFiZWw9J1F1aWNrIE1lbnUnIHRpdGxlPVwiUXVpY2sgTWVudVwiPlxuICAgICAgICAgICAgPCEtLSBHZXQgU2hhcmVhYmxlIExpbmsgLS0+XG4gICAgICAgICAgICA8IS0tPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYnRuLXNtXCI+XG4gICAgICAgICAgICAgICAgR2V0IHNoYXJlYWJsZSBsaW5rPC9idXR0b24+LS0+XG4gICAgICAgICAgICA8c3BhbiBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiB1aS5tZW51LmlzU3VibWl0dGVkXCI+XG4gICAgICAgICAgICAgICAgWW91ciBzdWJtaXNzaW9uIGlzIHJlYWR5IHRvIGJlIHJldmlld2VkITwvc3Bhbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwidmlzaWJsZTogdWkubWVudS5jYW5NYXJrU3VibWl0dGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdWkubWVudS50ZXh0TWFya1N1Ym1pdHRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiB1aS5tZW51LmNsaWNrTWFya1N1Ym1pdHRlZFwiPjwvYnV0dG9uPlxuICAgICAgICAgICAgPCEtLSBWaWV3IGFzIGluc3RydWN0b3IgLS0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVja1wiXG4gICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cInZpc2libGU6IHVpLnJvbGUuaXNHcmFkZXJcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCIgdHlwZT1cImNoZWNrYm94XCIgdmFsdWU9XCJcIiBpZD1cImJsb2NrcHktYXMtaW5zdHJ1Y3RvclwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNoZWNrZWQ6IGRpc3BsYXkuaW5zdHJ1Y3RvclwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tY2hlY2stbGFiZWxcIiBmb3I9XCJibG9ja3B5LWFzLWluc3RydWN0b3JcIj5cbiAgICAgICAgICAgICAgICAgICAgVmlldyBhcyBpbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkubWVudS5jbGlja0Z1bGxzY3JlZW5cIlxuICAgICAgICAgICAgICAgIHRpdGxlPVwiRnVsbCBTY3JlZW5cIlxuICAgICAgICAgICAgPjxzcGFuIGNsYXNzPSdmYXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xhc3M6IHVpLm1lbnUudGV4dEZ1bGxzY3JlZW5cIlxuICAgICAgICAgICAgPjwvc3Bhbj48L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLm1lbnUuZWRpdElucHV0cywgdmlzaWJsZTogdWkubWVudS5zaG93UXVldWVkSW5wdXRzXCIgdGl0bGU9XCJFZGl0IElucHV0c1wiXG4gICAgICAgICAgICA+PHNwYW4gY2xhc3M9J2ZhcyBmYS1saXN0LWFsdCc+PC9zcGFuPjwvYnV0dG9uPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJibG9ja3B5LXN0dWRlbnQtZXJyb3IgZmFzIGZhLWJ1Z1wiPjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgICBcbiAgICA8L2Rpdj5cbiAgICBcbiAgICA8IS0tIFJvdyAyOiBDb25zb2xlIGFuZCBGZWVkYmFjayAtLT5cbiAgICA8IS0tIGtvIGlmOiB1aS5zZWNvbmRSb3cuaXNBbGxWaXNpYmxlIC0tPlxuICAgIDxkaXYgY2xhc3M9J3Jvdyc+XG4gICAgXG4gICAgICAgIDwhLS0gQ29uc29sZSAtLT5cbiAgICAgICAgJHtDT05TT0xFX0hUTUx9XG4gICAgICAgICBcbiAgICAgICAgPCEtLSBGZWVkYmFjayAtLT5cbiAgICAgICAgPCEtLSBrbyBpZjogdWkuc2Vjb25kUm93LmlzRmVlZGJhY2tWaXNpYmxlIC0tPlxuICAgICAgICAke0ZFRURCQUNLX0hUTUx9XG4gICAgICAgIDwhLS0gL2tvIC0tPlxuICAgICAgICBcbiAgICAgICAgPCEtLSBUcmFjZSAtLT5cbiAgICAgICAgPCEtLSBrbyBpZjogdWkuc2Vjb25kUm93LmlzVHJhY2VWaXNpYmxlIC0tPlxuICAgICAgICAke1RSQUNFX0hUTUx9XG4gICAgICAgIDwhLS0gL2tvIC0tPlxuICAgICAgICAgXG4gICAgPC9kaXY+XG4gICAgPCEtLSAva28gLS0+XG4gICAgXG4gICAgPCEtLSBSb3cgMzogRmlsZSBOYXZpZ2F0aW9uIC0tPlxuICAgIDwhLS0ga28gaWY6IHVpLmZpbGVzLnZpc2libGUgLS0+XG4gICAgPGRpdiBjbGFzcz0ncm93Jz5cbiAgICAgICAgJHtGSUxFU19IVE1MfVxuICAgIDwvZGl2PlxuICAgIDwhLS0gL2tvIC0tPlxuICAgIFxuICAgIDwhLS0gUm93IDQ6IFZpZXcgUm93IC0tPlxuICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgJHtFRElUT1JTX0hUTUx9XG4gICAgPC9kaXY+XG5cbiAgICA8IS0tIFJvdyA1OiBGb290ZXIgUm93IC0tPiAgICBcbiAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICR7Rk9PVEVSX0hUTUx9XG4gICAgPC9kaXY+XG4gICAgXG48L2Rpdj5cbiAgICBgO1xufSIsImltcG9ydCB7TG9jYWxTdG9yYWdlV3JhcHBlcn0gZnJvbSBcIi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtsb2FkQXNzaWdubWVudFNldHRpbmdzLCBzYXZlQXNzaWdubWVudFNldHRpbmdzfSBmcm9tIFwiLi9lZGl0b3IvYXNzaWdubWVudF9zZXR0aW5nc1wiO1xuXG4vKipcbiAqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgbGV0IFN0YXR1c1N0YXRlID0ge1xuICAgIFJFQURZOiBcInJlYWR5XCIsXG4gICAgQUNUSVZFOiBcImFjdGl2ZVwiLFxuICAgIFJFVFJZSU5HOiBcInJldHJ5aW5nXCIsXG4gICAgRkFJTEVEOiBcImZhaWxlZFwiLFxuICAgIE9GRkxJTkU6IFwib2ZmbGluZVwiXG59O1xuXG4vKipcbiAqIE9iamVjdCBmb3IgY29tbXVuaWNhdGluZyB3aXRoIHRoZSBleHRlcm5hbCBzZXJ2ZXJzLiBUaGlzIGluY2x1ZGVzIGZ1bmN0aW9uYWxpdHkgZm9yXG4gKiBzYXZpbmcgYW5kIGxvYWRpbmcgZmlsZXMsIGxvZ2dpbmcgZXZlbnRzLCBzYXZpbmcgY29tcGxldGlvbnMsIGFuZCByZXRyaWV2aW5nIGhpc3RvcnkuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAdGhpcyB7QmxvY2tQeVNlcnZlcn1cbiAqIEBwYXJhbSB7T2JqZWN0fSBtYWluIC0gVGhlIG1haW4gQmxvY2tQeSBpbnN0YW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gQmxvY2tQeVNlcnZlcihtYWluKSB7XG4gICAgdGhpcy5tYWluID0gbWFpbjtcblxuICAgIC8vIFNhdmUgVVJMcyBsb2NhbGx5IGZvciBxdWlja2VyIGFjY2Vzc1xuICAgIHRoaXMudXJscyA9IG1haW4ubW9kZWwuY29uZmlndXJhdGlvbi51cmxzO1xuXG4gICAgLy8gQWRkIHRoZSBMb2NhbFN0b3JhZ2UgY29ubmVjdGlvblxuICAgIHRoaXMuc3RvcmFnZSA9IG5ldyBMb2NhbFN0b3JhZ2VXcmFwcGVyKFwiQkxPQ0tQWVwiKTtcblxuICAgIC8vIEZhdWx0UmVzaXN0YW50Q2FjaGVcbiAgICB0aGlzLnF1ZXVlID0ge1xuICAgICAgICBcImxvZ0V2ZW50XCI6IEpTT04ucGFyc2UodGhpcy5zdG9yYWdlLmdldERlZmF1bHQoXCJsb2dFdmVudFwiLCBcIltdXCIpKSxcbiAgICAgICAgXCJ1cGRhdGVTdWJtaXNzaW9uXCI6IEpTT04ucGFyc2UodGhpcy5zdG9yYWdlLmdldERlZmF1bHQoXCJ1cGRhdGVTdWJtaXNzaW9uXCIsIFwiW11cIikpXG4gICAgfTtcbiAgICB0aGlzLk1BWF9RVUVVRV9TSVpFID0ge1xuICAgICAgICBcImxvZ0V2ZW50XCI6IDIwMCxcbiAgICAgICAgXCJ1cGRhdGVTdWJtaXNzaW9uXCI6IDUwXG4gICAgfTtcblxuICAgIHRoaXMuVElNRVJfREVMQVkgPSAxMDAwO1xuICAgIHRoaXMuRkFJTF9ERUxBWSA9IDIwMDA7XG5cbiAgICB0aGlzLnRpbWVycyA9IHt9O1xuXG4gICAgdGhpcy5vdmVybGF5ID0gbnVsbDtcbiAgICB0aGlzLmJsb2NraW5nQXR0ZW1wdHMgPSAwO1xuXG4gICAgdGhpcy5jYWNoZWRGaWxlbmFtZXMgPSBbXTtcbiAgICB0aGlzLmNyZWF0ZVN1YnNjcmlwdGlvbnMoKTtcbiAgICB0aGlzLmNoZWNrQ2FjaGVzKCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIElQIGFkZHJlc3MgaGFzIGNoYW5nZWQsIGxvZ2dpbmcgYW4gZXZlbnQgaWYgdGhhdCBvY2N1cnMuXG4gKiBAcGFyYW0gcmVzcG9uc2VcbiAqL1xuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuY2hlY2tJUCA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgIGlmICh0aGlzLnN0b3JhZ2UuaGFzKFwiSVBcIikpIHtcbiAgICAgICAgICAgIGxldCBvbGRJUCA9IHRoaXMuc3RvcmFnZS5nZXQoXCJJUFwiKTtcbiAgICAgICAgICAgIGlmIChvbGRJUCAhPT0gcmVzcG9uc2UuaXApIHtcbiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgXCJvbGRcIjogb2xkSVAsXG4gICAgICAgICAgICAgICAgICAgIFwibmV3XCI6IHJlc3BvbnNlLmlwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dFdmVudChcIlgtSVAuQ2hhbmdlXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0KFwiSVBcIiwgcmVzcG9uc2UuaXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdG9yYWdlLnNldChcIklQXCIsIHJlc3BvbnNlLmlwKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGVyZSBoYXZlIGJlZW4gcHJldmlvdXMgZmFpbHVyZXMgY2FjaGVkLCBhbmQgaWYgc28gcmV0cmllcyB0aGVtLlxuICogVE9ETzogdXBkYXRlXG4gKi9cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmNoZWNrQ2FjaGVzID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnN0b3JhZ2UuaGFzKFwic2F2ZUFzc2lnbm1lbnRcIikpIHtcbiAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKHRoaXMuc3RvcmFnZS5nZXQoXCJzYXZlQXNzaWdubWVudFwiKSk7XG4gICAgICAgIHRoaXMuX3Bvc3RMYXRlc3RSZXRyeShkYXRhLCBcImFzc2lnbm1lbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2F2ZUFzc2lnbm1lbnRcIiwgdGhpcy5USU1FUl9ERUxBWSk7XG4gICAgfVxuICAgIHRoaXMuY2FjaGVkRmlsZW5hbWVzLmZvckVhY2goKGZpbGVuYW1lKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0b3JhZ2UuaGFzKFwic2F2ZUZpbGVcIiArIGZpbGVuYW1lKSkge1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKHRoaXMuc3RvcmFnZS5nZXQoXCJzYXZlRmlsZVwiICsgZmlsZW5hbWUpKTtcbiAgICAgICAgICAgIHRoaXMuX3Bvc3RMYXRlc3RSZXRyeShkYXRhLCBmaWxlbmFtZSwgXCJzYXZlRmlsZVwiLCB0aGlzLlRJTUVSX0RFTEFZKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHZhciBzZXJ2ZXIgPSB0aGlzO1xuICAgIE9iamVjdC5rZXlzKHRoaXMucXVldWUpLmZvckVhY2goZnVuY3Rpb24gKGVuZHBvaW50KSB7XG4gICAgICAgIChmdW5jdGlvbiBwdXNoQW55UXVldWVkKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXIucXVldWVbZW5kcG9pbnRdLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2Uoc2VydmVyLnF1ZXVlW2VuZHBvaW50XS5wb3AoKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBzZXJ2ZXIudXJsc1tlbmRwb2ludF07XG4gICAgICAgICAgICAgICAgICAgIHNlcnZlci5fcG9zdFJldHJ5KGRhdGEsIGVuZHBvaW50LCAxMDAwLCBwdXNoQW55UXVldWVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKHtcInN1Y2Nlc3NcIjogdHJ1ZX0pO1xuICAgIH0pO1xufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuY3JlYXRlRmlsZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChtb2RlbCwgZmlsZW5hbWUpIHtcbiAgICBtb2RlbC5zdWJzY3JpYmUoKGNvbnRlbnRzKSA9PlxuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5hdXRvU2F2ZSgpID8gdGhpcy5zYXZlRmlsZShmaWxlbmFtZSwgY29udGVudHMpIDogZmFsc2UsIHRoaXMpO1xuICAgIHRoaXMuY2FjaGVkRmlsZW5hbWVzLnB1c2goZmlsZW5hbWUpO1xufTtcblxuLyoqXG4gKiBUT0RPOiBmaXhcbiAqL1xuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuY3JlYXRlU3Vic2NyaXB0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgbW9kZWwgPSB0aGlzLm1haW4ubW9kZWw7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLnN1Ym1pc3Npb24uY29kZSwgXCJhbnN3ZXIucHlcIik7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLmFzc2lnbm1lbnQub25SdW4sIFwiIW9uX3J1bi5weVwiKTtcbiAgICB0aGlzLmNyZWF0ZUZpbGVTdWJzY3JpcHRpb24obW9kZWwuYXNzaWdubWVudC5vbkV2YWwsIFwiIW9uX2V2YWwucHlcIik7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLmFzc2lnbm1lbnQub25DaGFuZ2UsIFwiIW9uX2NoYW5nZS5weVwiKTtcbiAgICB0aGlzLmNyZWF0ZUZpbGVTdWJzY3JpcHRpb24obW9kZWwuYXNzaWdubWVudC5pbnN0cnVjdGlvbnMsIFwiIWluc3RydWN0aW9ucy5tZFwiKTtcbiAgICB0aGlzLmNyZWF0ZUZpbGVTdWJzY3JpcHRpb24obW9kZWwuYXNzaWdubWVudC5zdGFydGluZ0NvZGUsIFwiXnN0YXJ0aW5nX2NvZGUucHlcIik7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLnVpLmZpbGVzLmV4dHJhU3R1ZGVudEZpbGVzLCBcIiNleHRyYV9zdHVkZW50X2ZpbGVzLmJsb2NrcHlcIik7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLnVpLmZpbGVzLmV4dHJhU3RhcnRpbmdGaWxlcywgXCIjZXh0cmFfc3RhcnRpbmdfZmlsZXMuYmxvY2tweVwiKTtcbiAgICB0aGlzLmNyZWF0ZUZpbGVTdWJzY3JpcHRpb24obW9kZWwudWkuZmlsZXMuZXh0cmFJbnN0cnVjdG9yRmlsZXMsIFwiI2V4dHJhX2luc3RydWN0b3JfZmlsZXMuYmxvY2tweVwiKTtcbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmNyZWF0ZUV2ZW50TG9ncyA9IGZ1bmN0aW9uKCkge1xuICAgIHdpbmRvdy5vbmJsdXIgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMubG9nRXZlbnQoXCJTZXNzaW9uLkVuZFwiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICB9O1xuICAgIHdpbmRvdy5vbmZvY3VzID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmxvZ0V2ZW50KFwiU2Vzc2lvbi5TdGFydFwiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICB9O1xuXG4gICAgLy8gVE9ETzogQWRkIGluIGJlYWNvbj9cbn07XG5cbi8qKlxuICpcbiAqIFNvbWUgc3Vic2NyaXB0aW9ucyBoYXZlIHRvIGhhcHBlbiBhZnRlciBvdGhlciB0aGluZ3MgaGF2ZSBiZWVuIGxvYWRlZC5cbiAqIFJpZ2h0IG5vdyB0aGlzIGlzIGp1c3QgYWZ0ZXIgQ09SR0lTIGxpYnJhcmllcyBoYXZlIGJlZW4gbG9hZGVkLCBidXQgbWF5YmVcbiAqIHdlJ2xsIGFkZCBtb3JlIGxhdGVyIGFuZCB0aGlzIHdpbGwgbmVlZCB0byBiZSByZWZhY3RvcmVkLlxuICpcbiAqIFRPRE86IGZpeFxuICpcbiAqL1xuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuZmluYWxpemVTdWJzY3JpcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIC8vdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuZGF0YXNldHMuc3Vic2NyaWJlKHRoaXMuc2F2ZUFzc2lnbm1lbnQuYmluZCh0aGlzKSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgdGhlIGRlZmF1bHQgcGF5bG9hZCBmb3IgYW55IGNvbW11bmljYXRpb24gd2l0aCB0aGUgc2VydmVyIEFQSVxuICogQHJldHVybnMge3thc3NpZ25tZW50X2lkOiAqLCBjb3Vyc2VfaWQ6ICosIGdyb3VwX2lkOiAqLCB1c2VyX2lkOiAqLCB0aW1lem9uZTogKiwgdmVyc2lvbjogKiwgdGltZXN0YW1wOiAqfX1cbiAqL1xuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuY3JlYXRlU2VydmVyRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgYXNzaWdubWVudCA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50O1xuICAgIGxldCB1c2VyID0gdGhpcy5tYWluLm1vZGVsLnVzZXI7XG4gICAgbGV0IHN1Ym1pc3Npb24gPSB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbjtcbiAgICBsZXQgZGlzcGxheSA9IHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5O1xuICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGxldCBtaWNyb3NlY29uZHMgPSBub3cuZ2V0VGltZSgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIFwiYXNzaWdubWVudF9pZFwiOiBhc3NpZ25tZW50LmlkKCksXG4gICAgICAgIFwiYXNzaWdubWVudF9ncm91cF9pZFwiOiB1c2VyLmdyb3VwSWQoKSxcbiAgICAgICAgXCJjb3Vyc2VfaWRcIjogdXNlci5jb3Vyc2VJZCgpLFxuICAgICAgICBcInN1Ym1pc3Npb25faWRcIjogc3VibWlzc2lvbi5pZCgpLFxuICAgICAgICBcInVzZXJfaWRcIjogdXNlci5pZCgpLFxuICAgICAgICBcInZlcnNpb25cIjogYXNzaWdubWVudC52ZXJzaW9uKCksXG4gICAgICAgIFwidGltZXN0YW1wXCI6IG1pY3Jvc2Vjb25kcyxcbiAgICAgICAgXCJ0aW1lem9uZVwiOiBub3cuZ2V0VGltZXpvbmVPZmZzZXQoKSxcbiAgICAgICAgXCJwYXNzY29kZVwiOiBkaXNwbGF5LnBhc3Njb2RlKClcbiAgICB9O1xufTtcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBzdGF0dXMgYW5kIG1lc3NhZ2UgZm9yIHRoZSByZWxldmFudCBlbmRwb2ludC5cbiAqIEBwYXJhbSBlbmRwb2ludCB7c3RyaW5nfSBvbmUgb2YgdGhlIFVSTCBlbmRwb2ludHNcbiAqIEBwYXJhbSBzdGF0dXMge1N0YXR1c1N0YXRlfVxuICogQHBhcmFtIG1lc3NhZ2Uge3N0cmluZz99XG4gKi9cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLnNldFN0YXR1cyA9IGZ1bmN0aW9uIChlbmRwb2ludCwgc3RhdHVzLCBtZXNzYWdlKSB7XG4gICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1c1tlbmRwb2ludF0oc3RhdHVzKTtcbiAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzW2VuZHBvaW50ICsgXCJNZXNzYWdlXCJdKG1lc3NhZ2UgfHwgXCJcIik7XG59O1xuXG4vKipcbiAqIFJlbmRlcnMgYW4gb3ZlcmxheSBvbiB0aGUgc2NyZWVuIHRoYXQgYmxvY2tzIG9wZXJhdGlvbiB1bnRpbCB0aGUgc3lzdGVtIGlzIHJlYWR5LlxuICogVGhlIG92ZXJsYXkgZ2V0cyBwcm9ncmVzc2l2ZWx5IGRhcmtlciB0byBpbmRpY2F0ZSByZXBlYXRlZCBmYWlsdXJlcy5cbiAqL1xuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuc2hvd092ZXJsYXkgPSBmdW5jdGlvbiAoYXR0ZW1wdCkge1xuICAgIHRoaXMuYmxvY2tpbmdBdHRlbXB0cyArPSAxO1xuICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImJsb2NrcHktb3ZlcmxheVwiKS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5vdmVybGF5ID0gJCgnPGRpdiBjbGFzcz1cImJsb2NrcHktb3ZlcmxheVwiPiA8L2Rpdj4nKTtcbiAgICAgICAgdGhpcy5vdmVybGF5LmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpO1xuICAgIH1cbiAgICBzd2l0Y2ggKGF0dGVtcHQpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgdGhpcy5vdmVybGF5LmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgXCIjOTg4XCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHRoaXMub3ZlcmxheS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIFwiIzY1NVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICB0aGlzLm92ZXJsYXkuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCBcIiMzMzNcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRoaXMub3ZlcmxheS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIFwiYmxhY2tcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59O1xuXG4vKipcbiAqIFVuZG8gYSBsZXZlbCBvZiBvdmVybGF5OyBpZiB0aGlzIHdhcyB0aGUgbGFzdCBsZXZlbCwgcmVtb3ZlcyBpdCBmcm9tIHRoZSBzY3JlZW4uXG4gKi9cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmhpZGVPdmVybGF5ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYmxvY2tpbmdBdHRlbXB0cyAtPSAxO1xuICAgIGlmICh0aGlzLmJsb2NraW5nQXR0ZW1wdHMgPD0gMCkge1xuICAgICAgICB0aGlzLm92ZXJsYXkucmVtb3ZlKCk7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuX2VucXVldWVEYXRhID0gZnVuY3Rpb24gKGNhY2hlLCBkYXRhKSB7XG4gICAgLy8gRW5zdXJlIHdlIGhhdmUgbm90IG92ZXJmaWxsZWQgdGhlIHF1ZXVlXG4gICAgbGV0IGxlbmd0aCA9IHRoaXMucXVldWVbY2FjaGVdLmxlbmd0aDtcbiAgICBsZXQgbWF4ID0gdGhpcy5NQVhfUVVFVUVfU0laRVtjYWNoZV07XG4gICAgaWYgKGxlbmd0aCA+IG1heCkge1xuICAgICAgICB0aGlzLnF1ZXVlW2NhY2hlXSA9IHRoaXMucXVldWVbY2FjaGVdLnNsaWNlKGxlbmd0aCAtIG1heCwgbWF4KTtcbiAgICB9XG4gICAgLy8gT25seSBhZGQgdGhlIGVsZW1lbnQgaWYgaXQncyBuZXdcbiAgICBsZXQga2V5ID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgbGV0IGluZGV4ID0gdGhpcy5xdWV1ZVtjYWNoZV0uaW5kZXhPZihrZXkpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgdGhpcy5xdWV1ZVtjYWNoZV0ucHVzaChrZXkpO1xuICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0KGNhY2hlLCBKU09OLnN0cmluZ2lmeSh0aGlzLnF1ZXVlW2NhY2hlXSkpO1xuICAgIH1cbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLl9kZXF1ZXVlRGF0YSA9IGZ1bmN0aW9uIChjYWNoZSwgZGF0YSkge1xuICAgIGxldCBrZXkgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICBsZXQgaW5kZXggPSB0aGlzLnF1ZXVlW2NhY2hlXS5pbmRleE9mKGtleSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgdGhpcy5xdWV1ZVtjYWNoZV0uc3BsaWNlKGluZGV4KTtcbiAgICAgICAgdGhpcy5zdG9yYWdlLnNldChjYWNoZSwgSlNPTi5zdHJpbmdpZnkodGhpcy5xdWV1ZVtjYWNoZV0pKTtcbiAgICB9XG59O1xuXG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLl9wb3N0UmV0cnkgPSBmdW5jdGlvbiAoZGF0YSwgZW5kcG9pbnQsIGRlbGF5LCBjYWxsYmFjaykge1xuICAgIC8vIFRyaWdnZXIgcmVxdWVzdFxuICAgIGxldCBwb3N0UmVxdWVzdCA9ICgpID0+IHtcbiAgICAgICAgLy8gTWFrZSBhIGJhY2t1cCBvZiB0aGUgY3VycmVudCBwb3N0XG4gICAgICAgIHRoaXMuX2VucXVldWVEYXRhKGVuZHBvaW50LCBkYXRhKTtcbiAgICAgICAgJC5wb3N0KHRoaXMudXJsc1tlbmRwb2ludF0sIGRhdGEpXG4gICAgICAgICAgICAuZG9uZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZXF1ZXVlRGF0YShlbmRwb2ludCwgZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoZW5kcG9pbnQsIFN0YXR1c1N0YXRlLlJFQURZKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoZW5kcG9pbnQsIFN0YXR1c1N0YXRlLkZBSUxFRCwgcmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tJUChyZXNwb25zZS5pcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC8vIElmIHNlcnZlciByZXF1ZXN0IGlzIHRoZSBsYXRlc3Qgb25lLCB0aGVuIGxldCdzIHRyeSBpdCBhZ2FpbiBpbiBhIGJpdFxuICAgICAgICAgICAgLmZhaWwoKGVycm9yLCB0ZXh0U3RhdHVzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoZW5kcG9pbnQsIFN0YXR1c1N0YXRlLlJFVFJZSU5HLCB0ZXh0U3RhdHVzLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc3RSZXRyeShkYXRhLCBlbmRwb2ludCwgZGVsYXkgKyB0aGlzLkZBSUxfREVMQVksIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG4gICAgaWYgKGRlbGF5ID09PSBudWxsKSB7XG4gICAgICAgIHBvc3RSZXF1ZXN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VGltZW91dChwb3N0UmVxdWVzdCwgZGVsYXkpO1xuICAgIH1cbn07XG5cbi8qKlxuICogTWFrZSBhIEFKQVggcmVxdWVzdCB0aGF0LCB1cG9uIGZhaWx1cmUsIHdpbGwgY2hlY2sgdG8gc2VlIGlmIHRoaXMgd2FzIHRoZVxuICogbGF0ZXN0IGF0dGVtcHQgZm9yIHRoaXMgYGNhY2hlYCBtYXJrZXIuIElmIHNvLCBpdCB3aWxsIGF0dGVtcHQgYWdhaW4gdW50aWxcbiAqIHN1Y2Nlc3NmdWw7IG90aGVyd2lzZSwgaXQgZ2l2ZXMgdXAgdGhlIHJlcXVlc3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgQUpBWC1yZWFkeSBkYXRhIHRvIGJlIHBvc3RlZFxuICogQHBhcmFtIHtTdHJpbmd9IGZpbGVuYW1lIC0gVGhlIHVuaXF1ZSBuYW1lIGdpdmVuIHRvIHRoZSByZWxldmFudCB0aW1lclxuICogQHBhcmFtIHtTdHJpbmd9IGVuZHBvaW50IC0gVGhlIHVuaXF1ZSBuYW1lIGdpdmVuIHRvIHRoZSByZWxldmFudCBjYWNoZSBlbnRyeVxuICogQHBhcmFtIHtJbnRlZ2VyfSBkZWxheSAtIFRoZSBjdXJyZW50IG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmVcbiB0cnlpbmcgdGhlIHJlcXVlc3QgYWdhaW4uXG4gKi9cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLl9wb3N0TGF0ZXN0UmV0cnkgPSBmdW5jdGlvbiAoZGF0YSwgZmlsZW5hbWUsIGVuZHBvaW50LCBkZWxheSkge1xuICAgIGxldCBjYWNoZSA9IGVuZHBvaW50ICsgZmlsZW5hbWU7XG4gICAgbGV0IHJlcXVlc3QgPSAoKSA9PiB7XG4gICAgICAgIC8vIE1ha2UgYSBiYWNrdXAgb2YgdGhlIGN1cnJlbnQgcG9zdFxuICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0KGNhY2hlLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIGxldCB0aW1lID0gdGhpcy5zdG9yYWdlLmdldFRpbWUoY2FjaGUpO1xuICAgICAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgICAgICQucG9zdCh0aGlzLnVybHNbZW5kcG9pbnRdLCBkYXRhKVxuICAgICAgICAgICAgLmRvbmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja0lQKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgc2VydmVyIHJlcXVlc3QgaXMgdGhlIGxhdGVzdCBvbmUsIGNsZWFyIGl0IGZyb20gdGhlIGNhY2hlXG4gICAgICAgICAgICAgICAgICAgIGxldCBjYWNoZWRUaW1lID0gdGhpcy5zdG9yYWdlLmdldFRpbWUoY2FjaGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGltZSA+PSBjYWNoZWRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2UucmVtb3ZlKGNhY2hlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhlbmRwb2ludCwgU3RhdHVzU3RhdGUuUkVBRFkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgY29ubmVjdGVkIGJ1dCBmYWlsZWQsIGRvbid0IHRyeSBhZ2FpbiBidXQgbGV0IHRoZSB1c2VyIGtub3cgd2h5LlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhlbmRwb2ludCwgU3RhdHVzU3RhdGUuRkFJTEVELCByZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSdyZSB0aGUgbGF0ZXN0IG9uZSwgY2xlYXIgaXQgZnJvbSB0aGUgY2FjaGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYWNoZWRUaW1lID0gdGhpcy5zdG9yYWdlLmdldFRpbWUoY2FjaGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWUgPj0gY2FjaGVkVGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5yZW1vdmUoY2FjaGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5mYWlsKChlcnJvciwgdGV4dFN0YXR1cykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKGVuZHBvaW50LCBTdGF0dXNTdGF0ZS5SRVRSWUlORywgdGV4dFN0YXR1cy50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAvLyBJZiBzZXJ2ZXIgcmVxdWVzdCBpcyB0aGUgbGF0ZXN0IG9uZSwgdGhlbiBsZXQncyB0cnkgaXQgYWdhaW4gaW4gYSBiaXRcbiAgICAgICAgICAgICAgICBsZXQgY2FjaGVkVGltZSA9IHRoaXMuc3RvcmFnZS5nZXRUaW1lKGNhY2hlKTtcbiAgICAgICAgICAgICAgICBpZiAodGltZSA+PSBjYWNoZWRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc3RMYXRlc3RSZXRyeShkYXRhLCBmaWxlbmFtZSwgZW5kcG9pbnQsIGRlbGF5ICsgdGhpcy5GQUlMX0RFTEFZKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyc1tjYWNoZV0pO1xuICAgIGlmIChkZWxheSA9PT0gbnVsbCkge1xuICAgICAgICByZXF1ZXN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50aW1lcnNbY2FjaGVdID0gc2V0VGltZW91dChyZXF1ZXN0LCBkZWxheSk7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuX3Bvc3RCbG9ja2luZyA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZGF0YSwgYXR0ZW1wdHMsIHN1Y2Nlc3MsIGZhaWx1cmUpIHtcbiAgICB0aGlzLnNob3dPdmVybGF5KGF0dGVtcHRzKTtcbiAgICAkLnBvc3QodGhpcy51cmxzW2VuZHBvaW50XSwgZGF0YSlcbiAgICAgICAgLmRvbmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhpZGVPdmVybGF5KCk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhlbmRwb2ludCwgU3RhdHVzU3RhdGUuUkVBRFkpO1xuICAgICAgICAgICAgc3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICAgICAgICB0aGlzLmNoZWNrSVAocmVzcG9uc2UpO1xuICAgICAgICB9KVxuICAgICAgICAuZmFpbCgoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pID0+IHtcbiAgICAgICAgICAgIGlmIChhdHRlbXB0cyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlT3ZlcmxheSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKGVuZHBvaW50LCBTdGF0dXNTdGF0ZS5GQUlMRUQsIHRleHRTdGF0dXMudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgaWYgKGZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFpbHVyZShlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlT3ZlcmxheSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhlbmRwb2ludCwgU3RhdHVzU3RhdGUuUkVUUllJTkcsIHRleHRTdGF0dXMudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc3RCbG9ja2luZyhlbmRwb2ludCwgZGF0YSwgYXR0ZW1wdHMgLSAxLCBzdWNjZXNzLCBmYWlsdXJlKTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzLkZBSUxfREVMQVkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbn07XG5cblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUubG9hZEFzc2lnbm1lbnQgPSBmdW5jdGlvbiAoYXNzaWdubWVudF9pZCkge1xuICAgIGxldCBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICBpZiAobW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJsb2FkQXNzaWdubWVudFwiKSkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuY3JlYXRlU2VydmVyRGF0YSgpO1xuICAgICAgICBkYXRhW1wiYXNzaWdubWVudF9pZFwiXSA9IGFzc2lnbm1lbnRfaWQ7XG4gICAgICAgIHRoaXMuX3Bvc3RCbG9ja2luZyhcImxvYWRBc3NpZ25tZW50XCIsIGRhdGEsIDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4ubG9hZEFzc2lnbm1lbnREYXRhXyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJsb2FkQXNzaWdubWVudFwiLCBTdGF0dXNTdGF0ZS5GQUlMRUQsIHJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuRVJST1JfTE9BRElOR19BU1NJR05NTkVOVChyZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLkVSUk9SX0xPQURJTkdfQVNTSUdOTU5FTlQodGV4dFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcImxvYWRBc3NpZ25tZW50XCIsIFN0YXR1c1N0YXRlLk9GRkxJTkUpO1xuICAgIH1cbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLnNhdmVBc3NpZ25tZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICBpZiAobW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJzYXZlQXNzaWdubWVudFwiKSkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuY3JlYXRlU2VydmVyRGF0YSgpO1xuICAgICAgICBkYXRhW1wiaGlkZGVuXCJdID0gbW9kZWwuYXNzaWdubWVudC5oaWRkZW4oKTtcbiAgICAgICAgZGF0YVtcInJldmlld2VkXCJdID0gbW9kZWwuYXNzaWdubWVudC5yZXZpZXdlZCgpO1xuICAgICAgICBkYXRhW1wicHVibGljXCJdID0gbW9kZWwuYXNzaWdubWVudC5wdWJsaWMoKTtcbiAgICAgICAgZGF0YVtcInVybFwiXSA9IG1vZGVsLmFzc2lnbm1lbnQudXJsKCk7XG4gICAgICAgIGRhdGFbXCJpcF9yYW5nZXNcIl0gPSBtb2RlbC5hc3NpZ25tZW50LmlwUmFuZ2VzKCk7XG4gICAgICAgIGRhdGFbXCJuYW1lXCJdID0gbW9kZWwuYXNzaWdubWVudC5uYW1lKCk7XG4gICAgICAgIGRhdGFbXCJzZXR0aW5nc1wiXSA9IHNhdmVBc3NpZ25tZW50U2V0dGluZ3MobW9kZWwpO1xuXG4gICAgICAgIHRoaXMuX3Bvc3RCbG9ja2luZyhcInNhdmVBc3NpZ25tZW50XCIsIGRhdGEsIDMsICgpID0+IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuRVJST1JfU0FWSU5HX0FTU0lHTk1ORU5UKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcInNhdmVBc3NpZ25tZW50XCIsIFN0YXR1c1N0YXRlLk9GRkxJTkUsIFwiU2VydmVyIGlzIG5vdCBjb25uZWN0ZWQhIChTYXZlIEFzc2lnbm1lbnQpXCIpO1xuICAgIH1cbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmxvYWRIaXN0b3J5ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMubWFpbi5tb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcImxvYWRIaXN0b3J5XCIpKSB7XG4gICAgICAgIGxldCBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmNyZWF0ZVNlcnZlckRhdGEoKTtcbiAgICAgICAgdGhpcy5fcG9zdEJsb2NraW5nKFwibG9hZEhpc3RvcnlcIiwgZGF0YSwgMiwgY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuRVJST1JfTE9BRElOR19ISVNUT1JZKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5sb2dFdmVudCA9IGZ1bmN0aW9uIChldmVudF90eXBlLCBjYXRlZ29yeSwgbGFiZWwsIG1lc3NhZ2UsIGZpbGVfcGF0aCkge1xuICAgIGlmICh0aGlzLm1haW4ubW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJsb2dFdmVudFwiKSkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuY3JlYXRlU2VydmVyRGF0YSgpO1xuICAgICAgICBkYXRhW1wiZXZlbnRfdHlwZVwiXSA9IGV2ZW50X3R5cGU7XG4gICAgICAgIGRhdGFbXCJjYXRlZ29yeVwiXSA9IGNhdGVnb3J5O1xuICAgICAgICBkYXRhW1wibGFiZWxcIl0gPSBsYWJlbDtcbiAgICAgICAgZGF0YVtcIm1lc3NhZ2VcIl0gPSBtZXNzYWdlO1xuICAgICAgICBkYXRhW1wiZmlsZV9wYXRoXCJdID0gZmlsZV9wYXRoO1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcImxvZ0V2ZW50XCIsIFN0YXR1c1N0YXRlLkFDVElWRSk7XG4gICAgICAgIC8vIFRyaWdnZXIgcmVxdWVzdFxuICAgICAgICB0aGlzLl9wb3N0UmV0cnkoZGF0YSwgXCJsb2dFdmVudFwiLCAwLCAoKSA9PiB7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdHVzKFwibG9nRXZlbnRcIiwgU3RhdHVzU3RhdGUuT0ZGTElORSk7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuc2F2ZUltYWdlID0gZnVuY3Rpb24gKGRpcmVjdG9yeSwgaW1hZ2UpIHtcbiAgICBpZiAodGhpcy5tYWluLm1vZGVsLnVpLnNlcnZlci5pc0VuZHBvaW50Q29ubmVjdGVkKFwic2F2ZUltYWdlXCIpKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5jcmVhdGVTZXJ2ZXJEYXRhKCk7XG4gICAgICAgIGRhdGFbXCJkaXJlY3RvcnlcIl0gPSBkaXJlY3Rvcnk7XG4gICAgICAgIGRhdGFbXCJpbWFnZVwiXSA9IGltYWdlO1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcInNhdmVJbWFnZVwiLCBTdGF0dXNTdGF0ZS5BQ1RJVkUpO1xuICAgICAgICAvLyBUcmlnZ2VyIHJlcXVlc3RcbiAgICAgICAgdGhpcy5fcG9zdExhdGVzdFJldHJ5KGRhdGEsIFwidHVydGxlX291dHB1dFwiLCBcInNhdmVJbWFnZVwiLCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcInNhdmVJbWFnZVwiLCBTdGF0dXNTdGF0ZS5PRkZMSU5FKTtcbiAgICB9XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS51cGRhdGVTdWJtaXNzaW9uU3RhdHVzID0gZnVuY3Rpb24obmV3U3RhdHVzKSB7XG4gICAgaWYgKHRoaXMubWFpbi5tb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcInVwZGF0ZVN1Ym1pc3Npb25TdGF0dXNcIikpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmNyZWF0ZVNlcnZlckRhdGEoKTtcbiAgICAgICAgZGF0YVtcInN0YXR1c1wiXSA9IG5ld1N0YXR1cztcbiAgICAgICAgbGV0IHBvc3RTdGF0dXNDaGFuZ2UgPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLnN1Ym1pc3Npb25TdGF0dXMobmV3U3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcG9zdEJsb2NraW5nKFwidXBkYXRlU3VibWlzc2lvblN0YXR1c1wiLCBkYXRhLCAyLCBwb3N0U3RhdHVzQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLkVSUk9SX1VQREFUSU5HX1NVQk1JU1NJT05fU1RBVFVTKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gbG9hZCBmaWxlcyBhbmQgd2ViIHJlc291cmNlcy5cbiAqXG4gKiBERVBSRUNBVEVEXG4gKi9cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmxvYWRGaWxlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCB0eXBlLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuICAgIHZhciBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICB2YXIgc2VydmVyID0gdGhpcztcbiAgICBpZiAobW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJsb2FkX2ZpbGVcIikpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmNyZWF0ZVNlcnZlckRhdGEoKTtcbiAgICAgICAgZGF0YVtcImZpbGVuYW1lXCJdID0gZmlsZW5hbWU7XG4gICAgICAgIGRhdGFbXCJ0eXBlXCJdID0gdHlwZTtcbiAgICAgICAgdGhpcy5fcG9zdEJsb2NraW5nKHRoaXMudXJscy5sb2FkX2ZpbGUsIGRhdGEsIDUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKHJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIuc2V0U3RhdHVzKFwibG9hZEZpbGVcIiwgU3RhdHVzU3RhdGUuRkFJTEVELCByZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIlNlcnZlciBmYWlsdXJlISBSZXBvcnQgdG8gaW5zdHJ1Y3RvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yVGhyb3duKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yQ2FsbGJhY2soXCJObyBmaWxlIHNlcnZlciBhdmFpbGFibGUuXCIpO1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcImxvYWRGaWxlXCIsIFN0YXR1c1N0YXRlLk9GRkxJTkUsIFwiU2VydmVyIGlzIG5vdCBjb25uZWN0ZWQhIChMb2FkIEZpbGUpXCIpO1xuICAgIH1cbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLnNhdmVGaWxlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBjb250ZW50cywgZGVsYXkpIHtcbiAgICBpZiAoZGVsYXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkZWxheSA9IHRoaXMuVElNRVJfREVMQVk7XG4gICAgfVxuICAgIGxldCBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICBpZiAobW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJzYXZlRmlsZVwiKSkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuY3JlYXRlU2VydmVyRGF0YSgpO1xuICAgICAgICBkYXRhW1wiZmlsZW5hbWVcIl0gPSBmaWxlbmFtZTtcbiAgICAgICAgZGF0YVtcImNvZGVcIl0gPSBjb250ZW50cztcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJzYXZlRmlsZVwiLCBTdGF0dXNTdGF0ZS5BQ1RJVkUpO1xuICAgICAgICB0aGlzLl9wb3N0TGF0ZXN0UmV0cnkoZGF0YSwgZmlsZW5hbWUsIFwic2F2ZUZpbGVcIiwgZGVsYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdHVzKFwic2F2ZUZpbGVcIiwgU3RhdHVzU3RhdGUuT0ZGTElORSk7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUudXBkYXRlU3VibWlzc2lvbiA9IGZ1bmN0aW9uIChzY29yZSwgY29ycmVjdCwgaGlkZGVuT3ZlcnJpZGUsIGZvcmNlVXBkYXRlKSB7XG4gICAgbGV0IGNhbGxiYWNrID0gdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uY2FsbGJhY2tzLnN1Y2Nlc3M7XG4gICAgaWYgKHRoaXMubWFpbi5tb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcInVwZGF0ZVN1Ym1pc3Npb25cIikpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmNyZWF0ZVNlcnZlckRhdGEoKTtcbiAgICAgICAgZGF0YVtcInNjb3JlXCJdID0gc2NvcmU7XG4gICAgICAgIGRhdGFbXCJjb3JyZWN0XCJdID0gY29ycmVjdDtcbiAgICAgICAgZGF0YVtcImhpZGRlbl9vdmVycmlkZVwiXSA9IGhpZGRlbk92ZXJyaWRlO1xuICAgICAgICBkYXRhW1wiZm9yY2VfdXBkYXRlXCJdID0gZm9yY2VVcGRhdGU7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnB5dGhvbkVkaXRvci5ibS5ibG9ja0VkaXRvci5nZXRQbmdGcm9tQmxvY2tzKChwbmdEYXRhLCBpbWcpID0+IHtcbiAgICAgICAgICAgIGRhdGFbXCJpbWFnZVwiXSA9IHBuZ0RhdGE7XG4gICAgICAgICAgICBpZiAoaW1nLnJlbW92ZSkge1xuICAgICAgICAgICAgICAgIGltZy5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3Bvc3RSZXRyeShkYXRhLCBcInVwZGF0ZVN1Ym1pc3Npb25cIiwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKFwidXBkYXRlU3VibWlzc2lvblwiLCBTdGF0dXNTdGF0ZS5SRUFEWSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhcInVwZGF0ZVN1Ym1pc3Npb25cIiwgU3RhdHVzU3RhdGUuRkFJTEVELCByZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhpZGRlbk92ZXJyaWRlICYmIGNvcnJlY3QgJiYgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGFbXCJhc3NpZ25tZW50X2lkXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59OyIsImV4cG9ydCBjb25zdCAkc2tfbW9kX2NvdmVyYWdlID0gYFxuXCJcIlwiXG5IaWRlb3VzIGZpbGwtaW4gcmVwbGFjZW1lbnQgZm9yIENvdmVyYWdlLCBsZXZlcmFnaW5nIHNvbWUgbWFnaWMgZnJvbSB0aGVcblV0aWxpdHkgZnVuY3Rpb24uIFRoZSBkYXRhIHRoaXMgcmV0dXJucyBpcyBmYWxzZSAtIGl0IGRvZXNuJ3QgYWN0dWFsbHlcbmRlc2NyaWJlIHRoZSBtaXNzaW5nIGxpbmVzIGFuZCBhbGwgbGluZXM7IGl0IGp1c3QgZGVzY3JpYmVzIHRoZSB0cmFjZWQgbGluZXMuXG5CdXQgc2luY2UgUGVkYWwgZG9lc24ndCBuZWVkIHRoZSBvdGhlciB0d28sIGl0IHdvcmtzIG91dCBmaW5lIHdoZW4geW91IGRvOlxuXG5zdGF0ZW1lbnRzIC0gbWlzc2luZ1xuXCJcIlwiXG5cbmltcG9ydCB1dGlsaXR5XG5cbmNsYXNzIENvdmVyYWdlOlxuICAgIGRlZiBzdGFydChzZWxmKTpcbiAgICAgICAgcGFzc1xuXG4gICAgZGVmIHN0b3Aoc2VsZik6XG4gICAgICAgIHBhc3NcblxuICAgIGRlZiBzYXZlKHNlbGYpOlxuICAgICAgICBwYXNzXG5cbiAgICBkZWYgX2FuYWx5emUoc2VsZiwgZmlsZW5hbWU6IHN0cik6XG4gICAgICAgIGxpbmVzID0gc2V0KHV0aWxpdHkudHJhY2VfbGluZXMoKSlcbiAgICAgICAgIyBsaW5lcyB3aWxsIGJlIHRoZSBsaW5lcyB0aGF0IHdlcmUgYWN0dWFsbHkgZXhlY3V0ZWRcbiAgICAgICAgcmV0dXJuIEFuYWx5c2lzKE5vbmUsIGxlbihsaW5lcyksIE5vbmUsIHNldCgpLCBsaW5lcylcblxuXG5jbGFzcyBOdW1iZXJzOlxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBuX21pc3NpbmcsIG5fc3RhdGVtZW50cywgcGNfY292ZXJlZCk6XG4gICAgICAgIHNlbGYubl9taXNzaW5nID0gbl9taXNzaW5nXG4gICAgICAgIHNlbGYubl9zdGF0ZW1lbnRzID0gbl9zdGF0ZW1lbnRzXG4gICAgICAgIHNlbGYucGNfY292ZXJlZCA9IHBjX2NvdmVyZWRcblxuXG5jbGFzcyBBbmFseXNpczpcbiAgICBkZWYgX19pbml0X18oc2VsZiwgbl9taXNzaW5nLCBuX3N0YXRlbWVudHMsIHBjX2NvdmVyZWQsIG1pc3NpbmcsIHN0YXRlbWVudHMpOlxuICAgICAgICBzZWxmLm1pc3NpbmcgPSBtaXNzaW5nXG4gICAgICAgIHNlbGYuc3RhdGVtZW50cyA9IHN0YXRlbWVudHNcbiAgICAgICAgc2VsZi5udW1iZXJzID0gTnVtYmVycyhuX21pc3NpbmcsIG5fc3RhdGVtZW50cywgcGNfY292ZXJlZClcblxuXG5jbGFzcyBweXRob246XG4gICAgZGVmIGdldF9weXRob25fc291cmNlKHNlbGYpOlxuICAgICAgICByZXR1cm4gTm9uZVxuYDsiLCJleHBvcnQgdmFyICRidWlsdGlubW9kdWxlID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBtb2QsIHNhbXBsZVdyYXBwZXI7XG4gICAgbW9kID0ge19fbmFtZV9fOiBcImltYWdlXCJ9O1xuXG4gICAgaWYgKCFTay5QSUwpIHtcbiAgICAgICAgU2suUElMID0ge2Fzc2V0czoge319O1xuICAgIH1cblxuICAgIC8vIEluc3RhbnRQcm9taXNlIGlzIGEgd29ya2Fyb3VuZCB0byBhbGxvdyB1c2FnZSBvZiB0aGUgY2xlYW4gcHJvbWlzZS1zdHlsZVxuICAgIC8vIHRoZW4vY2F0Y2ggc3ludGF4IGJ1dCB0byBpbnN0YW50bHkgY2FsbCByZXNvbHZlIHRoZSB0aGVuL2NhdGNoIGNoYWluIHNvIHdlXG4gICAgLy8gY2FuIGF2b2lkIGNyZWF0aW5nIFN1c3BlbnNpb25zIGluIHVubmVjZXNzYXJ5IGNhc2VzLiAgVGhpcyBpcyBkZXNpcmFibGVcbiAgICAvLyBiZWNhdXNlIFN1c3BlbnNpb25zIGhhdmUgYSBmYWlybHkgbGFyZ2UgbmVnYXRpdmUgaW1wYWN0IG9uIG92ZXJhbGxcbiAgICAvLyBwZXJmb3JtYW5jZS4gIFRoZXNlICdpbnN0YW50IHByb21pc2VzJyBjb21lIGludG8gcGxheSB3aGVuIGEgdHJhY2VyKClcbiAgICAvLyBjYWxsIGlzIG1hZGUgd2l0aCBhIHZhbHVlIG90aGVyIHRoYW4gMS4gIFdoZW4gdHJhY2VyIGlzIDAgb3IgZ3JlYXRlciB0aGFuIDFcbiAgICAvLyAsIHdlIGNhbiBieXBhc3MgdGhlIGNyZWF0aW9uIG9mIGEgU3VzcGVuc2lvbiBhbmQgcHJvY2VlZCB0byB0aGUgbmV4dCBsaW5lIG9mXG4gICAgLy8gY29kZSBpbW1lZGlhdGVseSBpZiB0aGUgY3VycmVudCBsaW5lIGlzIG5vdCBnb2luZyB0byBpbnZvbHZlIGEgc2NyZWVuXG4gICAgLy8gdXBkYXRlLiBXZSBkZXRlcm1pbmUgaWYgYSByZWFsIHByb21pc2Ugb3IgSW5zdGFudFByb21pc2UgaXMgbmVjZXNzYXJ5IGJ5XG4gICAgLy8gY2hlY2tpbmcgRnJhbWVNYW5hZ2VyLndpbGxSZW5kZXJOZXh0KClcbiAgICBmdW5jdGlvbiBJbnN0YW50UHJvbWlzZShlcnIsIHJlc3VsdCkge1xuICAgICAgICB0aGlzLmxhc3RSZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgIHRoaXMubGFzdEVycm9yICA9IGVycjtcbiAgICB9XG5cbiAgICBJbnN0YW50UHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uKGNiKSB7XG4gICAgICAgIGlmICh0aGlzLmxhc3RFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5sYXN0UmVzdWx0ID0gY2IodGhpcy5sYXN0UmVzdWx0KTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RSZXN1bHQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmxhc3RFcnJvciAgPSBlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdFJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UgPyB0aGlzLmxhc3RSZXN1bHQgOiB0aGlzO1xuICAgIH07XG5cbiAgICBJbnN0YW50UHJvbWlzZS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbihjYikge1xuICAgICAgICBpZiAodGhpcy5sYXN0RXJyb3IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0UmVzdWx0ID0gY2IodGhpcy5sYXN0RXJyb3IpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdEVycm9yICA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJlc3VsdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RFcnJvciA9IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5sYXN0UmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSA/IHRoaXMubGFzdFJlc3VsdCA6IHRoaXM7XG4gICAgfTtcblxuICAgIHZhciBidWlsZEltYWdlID0gZnVuY3Rpb24oaW1hZ2VEYXRhKSB7XG5cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZ2V0QXNzZXQobmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBpZiAoU2suUElMLmFzc2V0c1tuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy9yZXR1cm4gU2suUElMLmFzc2V0c1tuYW1lXTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKFNrLlBJTC5hc3NldHNbbmFtZV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICAgICAgaW1nLmNyb3NzT3JpZ2luID0gXCJBbm9ueW1vdXNcIjtcbiAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBTay5QSUwuYXNzZXRzW25hbWVdID0gaW1nO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGltZyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy90aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBhc3NldDogXCIgKyBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5hbWUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaW1nLnNyYyA9IG5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBpbWFnZSA9IGZ1bmN0aW9uKCRnYmwsICRsb2MpIHtcbiAgICAgICAgLy8gb3BlbihmaWxlbmFtZSkgb3Igb3Blbih1cmwpXG4gICAgICAgIC8vIHNob3coKVxuXG4gICAgICAgICRsb2MuX19pbml0X18gPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uIChzZWxmLCBmaWxlX29yX3VybCkge1xuICAgICAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcIl9faW5pdF9fXCIsIGFyZ3VtZW50cywgMiwgMik7XG4gICAgICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tUeXBlKFwiZmlsZV9vcl91cmxcIiwgXCJzdHJpbmdcIiwgU2suYnVpbHRpbi5jaGVja1N0cmluZyhmaWxlX29yX3VybCkpO1xuICAgICAgICAgICAgc2VsZi5maWxlX29yX3VybCA9IGZpbGVfb3JfdXJsO1xuICAgICAgICAgICAgLy8gVE9ETzogQ2hhbmdlIHRvIHN1c3BlbnNpb25cbiAgICAgICAgICAgIHZhciBpbWFnZVByb21pc2UgPSBnZXRBc3NldChTay5mZmkucmVtYXBUb0pzKGZpbGVfb3JfdXJsKSk7XG4gICAgICAgICAgICB2YXIgc3VzcCA9IG5ldyBTay5taXNjZXZhbC5TdXNwZW5zaW9uKCk7XG4gICAgICAgICAgICBzZWxmLmltYWdlID0gU2suYnVpbHRpbi5ub25lLm5vbmUkO1xuICAgICAgICAgICAgc3VzcC5yZXN1bWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3VzcC5kYXRhW1wiZXJyb3JcIl0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy90aHJvdyBuZXcgU2suYnVpbHRpbi5JT0Vycm9yKHN1c3AuZGF0YVtcImVycm9yXCJdLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBzdXNwLmRhdGFbXCJlcnJvclwiXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvL3JldHVybiBzZWxmLmltYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzdXNwLmRhdGEgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJTay5wcm9taXNlXCIsXG4gICAgICAgICAgICAgICAgcHJvbWlzZTogaW1hZ2VQcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5pbWFnZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2FudmFzLndpZHRoID0gc2VsZi5pbWFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jYW52YXMuaGVpZ2h0ID0gc2VsZi5pbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKS5kcmF3SW1hZ2Uoc2VsZi5pbWFnZSwgMCwgMCwgc2VsZi5pbWFnZS53aWR0aCwgc2VsZi5pbWFnZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnBpeGVscyA9IHNlbGYuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKS5nZXRJbWFnZURhdGEoMCwgMCwgc2VsZi5pbWFnZS53aWR0aCwgc2VsZi5pbWFnZS5oZWlnaHQpLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIC8vcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmltYWdlID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgICAgICAvL3JldHVybiBlcnI7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBzdXNwO1xuICAgICAgICB9KTtcblxuICAgICAgICAkbG9jLnNob3cgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKHNlbGYpIHtcbiAgICAgICAgICAgIGlmIChTay5jb25zb2xlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU2suYnVpbHRpbi5OYW1lRXJyb3IoXCJDYW4gbm90IHJlc29sdmUgZHJhd2luZyBhcmVhLiBTay5jb25zb2xlIGlzIHVuZGVmaW5lZCFcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjb25zb2xlRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBpbWFnZTogc2VsZi5pbWFnZSxcbiAgICAgICAgICAgICAgICBmaWxlX29yX3VybDogc2VsZi5maWxlX29yX3VybFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgU2suY29uc29sZS5wcmludFBJTEltYWdlKGNvbnNvbGVEYXRhKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGxvYy5mbGlwID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihzZWxmKSB7XG4gICAgICAgICAgICBzZWxmLmltYWdlLnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKVwiO1xuICAgICAgICAgICAgaWYgKFNrLmNvbnNvbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTay5idWlsdGluLk5hbWVFcnJvcihcIkNhbiBub3QgcmVzb2x2ZSBkcmF3aW5nIGFyZWEuIFNrLmNvbnNvbGUgaXMgdW5kZWZpbmVkIVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIG1vZC5JbWFnZSA9IFNrLm1pc2NldmFsLmJ1aWxkQ2xhc3MobW9kLCBpbWFnZSwgXCJJbWFnZVwiLCBbXSk7XG5cbiAgICByZXR1cm4gbW9kO1xufTsiLCIvKipcbiAqIFNrdWxwdCBNb2R1bGUgZm9yIGhvbGRpbmcgdGhlIEluc3RydWN0b3IgQVBJLlxuICpcbiAqIFRoaXMgbW9kdWxlIGlzIGxvYWRlZCBpbiBieSBnZXR0aW5nIHRoZSBmdW5jdGlvbnMnIHNvdXJjZSBjb2RlIGZyb20gdG9TdHJpbmcuXG4gKiBJc24ndCB0aGF0IGNyYXp5P1xuICpcbiAqXG4gKi9cbmV4cG9ydCBsZXQgJHNrX21vZF9pbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gTWFpbiBtb2R1bGUgb2JqZWN0IHRoYXQgZ2V0cyByZXR1cm5lZCBhdCB0aGUgZW5kLlxuICAgIGxldCBtb2QgPSB7fTtcbiAgICBsZXQgbm9uZSA9IFNrLmJ1aWx0aW4ubm9uZS5ub25lJDtcbiAgICBcbiAgICBsZXQgcHJpb3IgPSBudWxsO1xuICAgIG1vZC50aW1laXQgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcInRpbWVpdFwiLCBhcmd1bWVudHMsIDEsIDEpO1xuICAgICAgICBsZXQgZGlmZmVyZW5jZTtcbiAgICAgICAgaWYgKHByaW9yID09PSBudWxsKSB7XG4gICAgICAgICAgICBkaWZmZXJlbmNlID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpZmZlcmVuY2UgPSBEYXRlLm5vdygpIC0gcHJpb3I7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coU2suZmZpLnJlbWFwVG9KcyhuYW1lKSwgZGlmZmVyZW5jZS8xMDAwKTtcbiAgICAgICAgcHJpb3IgPSBEYXRlLm5vdygpO1xuICAgIH0pO1xuICAgIFxuICAgIC8qKlxuICAgICAqIExvZ3MgZmVlZGJhY2sgdG8gamF2YXNjcmlwdCBjb25zb2xlXG4gICAgICovXG4gICAgbW9kLmNvbnNvbGVfbG9nID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2coKFsuLi5hcmd1bWVudHNdKS5tYXAoU2suZmZpLnJlbWFwVG9KcykpO1xuICAgIH0pO1xuICAgIFxuICAgIC8qKlxuICAgICAqIExvZ3MgZGVidWcgdG8gamF2YXNjcmlwdCBjb25zb2xlXG4gICAgICovXG4gICAgbW9kLmNvbnNvbGVfZGVidWcgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBjb3ZlcnRzIHRoZSBvdXRwdXQgaW4gdGhlIHN0dWRlbnQgcmVwb3J0IHRvIGEgcHl0aG9uIFxuICAgICAqIGxpc3QgYW5kIHJldHVybnMgaXQuXG4gICAgKiovXG4gICAgbW9kLmdldF9vdXRwdXQgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwiZ2V0X291dHB1dFwiLCBhcmd1bWVudHMsIDAsIDApO1xuICAgICAgICBpZiAoU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl0uc3VjY2Vzcykge1xuICAgICAgICAgICAgbGV0IG91dHB1dCA9IFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdW1wib3V0cHV0XCJdKCk7XG4gICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQubWFwKGZ1bmN0aW9uKGl0ZW0pIHsgcmV0dXJuIGl0ZW0udG9Ta3VscHQoKTsgfSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4ubGlzdChvdXRwdXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTay5idWlsdGluLmxpc3QoW10pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiByZXNldHMgdGhlIG91dHB1dCwgcGFydGljdWxhcmx5IHVzZWZ1bCBpZiB0aGUgc3R1ZGVudFxuICAgICAqIGNvZGUgaXMgZ29pbmcgdG8gYmUgcmVydW4uXG4gICAgICovXG4gICAgbW9kLnJlc2V0X291dHB1dCA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJyZXNldF9vdXRwdXRcIiwgYXJndW1lbnRzLCAwLCAwKTtcbiAgICAgICAgaWYgKFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLm91dHB1dC5yZW1vdmVBbGwoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU2suYnVpbHRpbi5ub25lLm5vbmUkO1xuICAgIH0pO1xuICAgIFxuICAgIC8qbW9kLnF1ZXVlX2lucHV0ID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcInF1ZXVlX2lucHV0XCIsIGFyZ3VtZW50cywgMSwgSW5maW5pdHkpO1xuICAgICAgICBsZXQgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgZm9yIChsZXQgaSA9IGFyZ3MubGVuZ3RoLTE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgaW5wdXQgPSBhcmdzW2ldO1xuICAgICAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrVHlwZShcImlucHV0XCIsIFwic3RyaW5nXCIsIFNrLmJ1aWx0aW4uY2hlY2tTdHJpbmcoaW5wdXQpKTtcbiAgICAgICAgICAgIFNrLnF1ZXVlZElucHV0LnB1c2goU2suZmZpLnJlbWFwVG9KcyhpbnB1dCkpO1xuICAgICAgICB9XG4gICAgfSk7Ki9cbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBieSBpbnN0cnVjdG9ycyB0byBnZXQgdGhlIHN0dWRlbnRzJyBjb2RlIGFzIGEgc3RyaW5nLlxuICAgICoqL1xuICAgIG1vZC5nZXRfcHJvZ3JhbSA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJnZXRfcHJvZ3JhbVwiLCBhcmd1bWVudHMsIDAsIDApO1xuICAgICAgICByZXR1cm4gU2suZmZpLnJlbWFwVG9QeShTay5leGVjdXRpb25SZXBvcnRzW1widmVyaWZpZXJcIl0uY29kZSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBieSBpbnN0cnVjdG9ycyB0byBnZXQgdGhlIHN0dWRlbnRzJyBjb2RlIGFzIGEgc3RyaW5nLlxuICAgICoqL1xuICAgIG1vZC5nZXRfZXZhbHVhdGlvbiA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJnZXRfZXZhbHVhdGlvblwiLCBhcmd1bWVudHMsIDAsIDApO1xuICAgICAgICByZXR1cm4gU2suZmZpLnJlbWFwVG9QeShTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5ldmFsdWF0aW9uIHx8IFwiXCIpO1xuICAgIH0pO1xuICAgIFxuICAgIG1vZC50cmFjZV9saW5lcyA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5zdWNjZXNzKSB7XG4gICAgICAgICAgICBsZXQgbGluZXMgPSBTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5yZWFsTGluZXM7XG4gICAgICAgICAgICByZXR1cm4gU2suZmZpLnJlbWFwVG9QeShsaW5lcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4ubGlzdChbXSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIG1vZC5nZXRfc3R1ZGVudF9lcnJvciA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJnZXRfc3R1ZGVudF9lcnJvclwiLCBhcmd1bWVudHMsIDAsIDApO1xuICAgICAgICBpZiAoU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl0uc3VjY2Vzcykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTay5idWlsdGluLnR1cGxlKFtub25lLCBub25lXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZXJyb3IgPSBTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5lcnJvcixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHt9O1xuICAgICAgICAgICAgaWYgKGVycm9yICYmIGVycm9yLnRyYWNlYmFjayAmJiBlcnJvci50cmFjZWJhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uW1wibGluZVwiXSA9IGVycm9yLnRyYWNlYmFja1swXS5saW5lbm87XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVycm9yID0gbm9uZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvc2l0aW9uID0gU2suZmZpLnJlbWFwVG9QeShwb3NpdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4udHVwbGUoW2Vycm9yLCBwb3NpdGlvbl0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBcbiAgICBtb2QuaGFkX2V4ZWN1dGlvbl90aW1lX2Vycm9yID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcImhhZF9leGVjdXRpb25fdGltZV9lcnJvclwiLCBhcmd1bWVudHMsIDAsIDApO1xuICAgICAgICByZXR1cm4gIVNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLnN1Y2Nlc3MgJiYgXG4gICAgICAgICAgICAgICAgU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl0uZXJyb3IgJiZcbiAgICAgICAgICAgICAgICBTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5lcnJvci50cCRuYW1lID09PSBcIlRpbWVMaW1pdEVycm9yXCI7XG4gICAgfSk7XG4gICAgXG4gICAgbGV0IGJhY2t1cFRpbWUgPSB1bmRlZmluZWQ7XG4gICAgbW9kLmxpbWl0X2V4ZWN1dGlvbl90aW1lID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcImxpbWl0X2V4ZWN1dGlvbl90aW1lXCIsIGFyZ3VtZW50cywgMCwgMCk7XG4gICAgICAgIGJhY2t1cFRpbWUgPSBTay5leGVjTGltaXQ7XG4gICAgICAgIGlmIChTay5leGVjTGltaXRGdW5jdGlvbikge1xuICAgICAgICAgICAgU2suZXhlY0xpbWl0ID0gU2suZXhlY0xpbWl0RnVuY3Rpb24oKTtcbiAgICAgICAgICAgIFNrLmV4ZWNTdGFydCA9IERhdGUubm93KCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBtb2QudW5saW1pdF9leGVjdXRpb25fdGltZSA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJ1bmxpbWl0X2V4ZWN1dGlvbl90aW1lXCIsIGFyZ3VtZW50cywgMCwgMCk7XG4gICAgICAgIFNrLmV4ZWNMaW1pdCA9IGJhY2t1cFRpbWU7XG4gICAgICAgIFNrLmV4ZWNTdGFydCA9IERhdGUubm93KCk7XG4gICAgfSk7XG4gICAgXG4gICAgbW9kLnN1cHByZXNzX3Njcm9sbGluZyA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJzdXBwcmVzc19zY3JvbGxpbmdcIiwgYXJndW1lbnRzLCAwLCAwKTtcbiAgICAgICAgU2suZXhlY3V0aW9uUmVwb3J0cy5pbnN0cnVjdG9yLnNjcm9sbGluZyA9IHRydWU7XG4gICAgfSk7XG5cbiAgICBcbiAgICAvKlxuICAgIGRlZiBoaXN0KHNlbGYsIGRhdGEsICoqa3dhcmdzKTpcbiAgICAgICAgbGFiZWwgPSBrd2FyZ3MuZ2V0KCdsYWJlbCcsIE5vbmUpXG4gICAgICAgIHNlbGYuYWN0aXZlX3Bsb3RbJ2RhdGEnXS5hcHBlbmQoeyd0eXBlJzogJ0hpc3RvZ3JhbScsICd2YWx1ZXMnOiBkYXRhLCAnbGFiZWwnOiBsYWJlbH0pXG4gICAgZGVmIHBsb3Qoc2VsZiwgeHMsIHlzPU5vbmUsICoqa3dhcmdzKTpcbiAgICAgICAgbGFiZWwgPSBrd2FyZ3MuZ2V0KCdsYWJlbCcsIE5vbmUpXG4gICAgICAgIGlmIHlzID09IE5vbmU6XG4gICAgICAgICAgICBzZWxmLmFjdGl2ZV9wbG90WydkYXRhJ10uYXBwZW5kKHsndHlwZSc6ICdMaW5lJywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4JzogcmFuZ2UobGVuKHhzKSksICd5JzogeHMsICdsYWJlbCc6IGxhYmVsfSlcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIHNlbGYuYWN0aXZlX3Bsb3RbJ2RhdGEnXS5hcHBlbmQoeyd0eXBlJzogJ0xpbmUnLCAneCc6IHhzLCAneSc6IHlzLCAnbGFiZWwnOiBsYWJlbH0pXG4gICAgZGVmIHNjYXR0ZXIoc2VsZiwgeHMsIHlzLCAqKmt3YXJncyk6XG4gICAgICAgIGxhYmVsID0ga3dhcmdzLmdldCgnbGFiZWwnLCBOb25lKVxuICAgICAgICBzZWxmLmFjdGl2ZV9wbG90WydkYXRhJ10uYXBwZW5kKHsndHlwZSc6ICdTY2F0dGVyJywgJ3gnOiB4cywgJ3knOiB5cywgJ2xhYmVsJzogbGFiZWx9KVxuICAgICovXG4gICAgbW9kLmdldF9wbG90cyA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJnZXRfcGxvdHNcIiwgYXJndW1lbnRzLCAwLCAwKTtcbiAgICAgICAgaWYgKFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGxldCBvdXRwdXRzID0gU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl1bXCJvdXRwdXRcIl0oKTtcbiAgICAgICAgICAgIG91dHB1dHMgPSBvdXRwdXRzLmZpbHRlcihmdW5jdGlvbihvdXRwdXQpIHsgXG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dC50eXBlID09PSBcInBsb3RcIjtcbiAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbihncmFwaCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XCJkYXRhXCI6IGdyYXBoLmNvbnRlbnQubWFwKGZ1bmN0aW9uKHBsb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1Bsb3QgPSB7IFwidHlwZVwiOiBwbG90LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxhYmVsXCI6IFwiXCIgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsb3QudHlwZSA9PT0gXCJsaW5lXCIgfHwgcGxvdC50eXBlID09PSBcInNjYXR0ZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGxvdFtcInhcIl0gPSBwbG90LmRhdGEubWFwKGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHYueDsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQbG90W1wieVwiXSA9IHBsb3QuZGF0YS5tYXAoZnVuY3Rpb24odikgeyByZXR1cm4gdi55OyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbG90LnR5cGUgPT09IFwiaGlzdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQbG90W1widmFsdWVzXCJdID0gcGxvdC5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdQbG90O1xuICAgICAgICAgICAgICAgIH0pLCBcbiAgICAgICAgICAgICAgICBcInhsYWJlbFwiOiBcIlwiLCBcInlsYWJlbFwiOiBcIlwiLCBcbiAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiXCIsIFwibGVnZW5kXCI6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIFNrLmZmaS5yZW1hcFRvUHkob3V0cHV0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gU2suZmZpLnJlbWFwVG9QeShbXSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIFxuICAgIC8vIFByb3ZpZGVzIGBzdHVkZW50YCBhcyBhbiBvYmplY3Qgd2l0aCBhbGwgdGhlIGRhdGEgdGhhdCB0aGUgc3R1ZGVudCBkZWNsYXJlZC5cbiAgICBtb2QuU3R1ZGVudERhdGEgPSBTay5taXNjZXZhbC5idWlsZENsYXNzKG1vZCwgZnVuY3Rpb24oJGdibCwgJGxvYykge1xuICAgICAgICAkbG9jLl9faW5pdF9fID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihzZWxmKSB7XG4gICAgICAgICAgICAvL3NlbGYuZGF0YSA9IFNrLmJ1aWx0aW4uZGljdCgpO1xuICAgICAgICAgICAgbGV0IG5ld0RpY3QgPSBuZXcgU2suYnVpbHRpbi5kaWN0KCk7XG4gICAgICAgICAgICBTay5hYnN0ci5zYXR0cihzZWxmLCBuZXcgU2suYnVpbHRpbi5zdHIoXCJkYXRhXCIpLCBuZXdEaWN0LCB0cnVlKTtcbiAgICAgICAgICAgIHNlbGYubW9kdWxlID0gU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl0ucmVzdWx0cztcbiAgICAgICAgICAgIGlmIChzZWxmLm1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5tb2R1bGUgPSBzZWxmLm1vZHVsZS4kZDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gc2VsZi5tb2R1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYubW9kdWxlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNrLmFic3RyLm9iamVjdFNldEl0ZW0obmV3RGljdCwgU2suZmZpLnJlbWFwVG9QeShTay51bmZpeFJlc2VydmVkKGtleSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1vZHVsZVtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZi5tb2R1bGUgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBTay5idWlsdGluLm5vbmUubm9uZSQ7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgY2FsbF9mID0gZnVuY3Rpb24oa3dhKSB7XG4gICAgICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKFwiY2FsbFwiLCBhcmd1bWVudHMubGVuZ3RoLCAxLCBJbmZpbml0eSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgICAgICB2YXIga3dhcmdzID0gbmV3IFNrLmJ1aWx0aW5zLmRpY3Qoa3dhKTtcblxuICAgICAgICAgICAgdmFyIHNlbGYgPSBhcmdzWzBdO1xuICAgICAgICAgICAgdmFyIGZ1bmN0aW9uTmFtZSA9IGFyZ3NbMV07XG4gICAgICAgICAgICBhcmdzID0gYXJncy5zbGljZSgyKTtcblxuICAgICAgICAgICAgdmFyIGlucHV0cyA9IGt3YXJncy5tcCRsb29rdXAobmV3IFNrLmJ1aWx0aW4uc3RyKFwiaW5wdXRzXCIpKTtcbiAgICAgICAgICAgIGlmIChpbnB1dHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlucHV0cyA9IFNrLmZmaS5yZW1hcFRvSnMoaW5wdXRzKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXRzLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dHMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTay5xdWV1ZWRJbnB1dC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBTay5xdWV1ZWRJbnB1dC5wdXNoKGlucHV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBkYXRhID0gc2VsZi50cCRnZXRhdHRyKG5ldyBTay5idWlsdGluLnN0cihcImRhdGFcIikpO1xuICAgICAgICAgICAgdmFyIGZ1bmN0aW9uT2JqZWN0ID0gZGF0YS5tcCRsb29rdXAoZnVuY3Rpb25OYW1lKTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBmdW5jdGlvbk9iamVjdC50cCRjYWxsKGFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgICAgY2FsbF9mLmNvX2t3YXJncyA9IHRydWU7XG4gICAgICAgIC8vY2FsbF9mLmNvX3Zhcm5hbWVzID0gW1wic2VsZlwiLCBcImZ1bmN0aW9uXCJdO1xuICAgICAgICBjYWxsX2YuY29fbmFtZT0gbmV3IFNrLmJ1aWx0aW4uc3RyKFwiY2FsbFwiKTtcbiAgICAgICAgJGxvY1tcImNhbGxfJHJuJFwiXSA9IG5ldyBTay5idWlsdGluLmZ1bmMoY2FsbF9mKTtcblxuICAgICAgICAkbG9jW1wiX19yZXByX19cIl0gPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKHNlbGYpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2suYnVpbHRpbi5zdHIoXCJcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRsb2MuZ2V0X25hbWVzX2J5X3R5cGUgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKHNlbGYsIHR5cGUsIGV4Y2x1ZGVfYnVpbHRpbnMpIHtcbiAgICAgICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJnZXRfbmFtZXNfYnlfdHlwZVwiLCBhcmd1bWVudHMsIDIsIDMpO1xuICAgICAgICAgICAgaWYgKGV4Y2x1ZGVfYnVpbHRpbnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGV4Y2x1ZGVfYnVpbHRpbnMgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tUeXBlKFwiZXhjbHVkZV9idWlsdGluc1wiLCBcImJvb2xlYW5cIiwgU2suYnVpbHRpbi5jaGVja0Jvb2woZXhjbHVkZV9idWlsdGlucykpO1xuICAgICAgICAgICAgICAgIGV4Y2x1ZGVfYnVpbHRpbnMgPSBTay5mZmkucmVtYXBUb0pzKGV4Y2x1ZGVfYnVpbHRpbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgcHJvcGVydHkgaW4gc2VsZi5tb2R1bGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5tb2R1bGUuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLm1vZHVsZVtwcm9wZXJ0eV0udHAkbmFtZSA9PT0gdHlwZS50cCRuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGV4Y2x1ZGVfYnVpbHRpbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4Y2x1ZGVfYnVpbHRpbnMgJiYgcHJvcGVydHkuc3RhcnRzV2l0aChcIl9fXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChTay5mZmkucmVtYXBUb1B5KFNrLnVuZml4UmVzZXJ2ZWQocHJvcGVydHkpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4ubGlzdChyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgJGxvYy5nZXRfdmFsdWVzX2J5X3R5cGUgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKHNlbGYsIHR5cGUsIGV4Y2x1ZGVfYnVpbHRpbnMpIHtcbiAgICAgICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJnZXRfdmFsdWVzX2J5X3R5cGVcIiwgYXJndW1lbnRzLCAyLCAzKTtcbiAgICAgICAgICAgIGlmIChleGNsdWRlX2J1aWx0aW5zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBleGNsdWRlX2J1aWx0aW5zID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrVHlwZShcImV4Y2x1ZGVfYnVpbHRpbnNcIiwgXCJib29sZWFuXCIsIFNrLmJ1aWx0aW4uY2hlY2tCb29sKGV4Y2x1ZGVfYnVpbHRpbnMpKTtcbiAgICAgICAgICAgICAgICBleGNsdWRlX2J1aWx0aW5zID0gU2suZmZpLnJlbWFwVG9KcyhleGNsdWRlX2J1aWx0aW5zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IHByb3BlcnR5IGluIHNlbGYubW9kdWxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYubW9kdWxlLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5tb2R1bGVbcHJvcGVydHldLnRwJG5hbWUgPT09IHR5cGUudHAkbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4Y2x1ZGVfYnVpbHRpbnMgJiYgcHJvcGVydHkuc3RhcnRzV2l0aChcIl9fXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzZWxmLm1vZHVsZVtwcm9wZXJ0eV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTay5idWlsdGluLmxpc3QocmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgfSwgXCJTdHVkZW50RGF0YVwiKTtcbiAgICBtb2Quc3R1ZGVudCA9IFNrLm1pc2NldmFsLmNhbGxzaW1PclN1c3BlbmQobW9kLlN0dWRlbnREYXRhKTtcbiAgICBcbiAgICBtb2QuZ2V0X3N0dWRlbnRfZGF0YSA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJnZXRfc3R1ZGVudF9kYXRhXCIsIGFyZ3VtZW50cywgMCwgMCk7XG4gICAgICAgIHJldHVybiBtb2Quc3R1ZGVudDtcbiAgICB9KTtcblxuICAgIG1vZC5zZXRfaW5zdHJ1Y3Rpb25zID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihuZXdJbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcInNldF9pbnN0cnVjdGlvbnNcIiwgYXJndW1lbnRzLCAxLCAyKTtcbiAgICAgICAgbmV3SW5zdHJ1Y3Rpb25zID0gU2suZmZpLnJlbWFwVG9KcyhuZXdJbnN0cnVjdGlvbnMpO1xuICAgICAgICBTay5leGVjdXRpb25SZXBvcnRzW1wibW9kZWxcIl0uZGlzcGxheS5jaGFuZ2VkSW5zdHJ1Y3Rpb25zKG5ld0luc3RydWN0aW9ucyk7XG4gICAgfSk7XG5cbiAgICBtb2QuZ2V0X21vZGVsX2luZm8gPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGtleXMpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcImdldF9tb2RlbF9pbmZvXCIsIGFyZ3VtZW50cywgMSwgMSk7XG4gICAgICAgIGxldCBtb2RlbCA9IFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJtb2RlbFwiXTtcbiAgICAgICAga2V5cyA9IFNrLmZmaS5yZW1hcFRvSnMoa2V5cykuc3BsaXQoXCIuXCIpO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBtb2RlbCA9IG1vZGVsW2tleXNbaV1dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTay5mZmkucmVtYXBUb1B5KG1vZGVsKCkpO1xuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiBtb2Q7XG59O1xuIiwibGV0IExPQ0FMX1NUT1JBR0VfUkVGO1xudHJ5IHtcbiAgICBMT0NBTF9TVE9SQUdFX1JFRiA9IGxvY2FsU3RvcmFnZTtcbiAgICBsZXQgbW9kID0gXCJCTE9DS1BZX0xPQ0FMU1RPUkFHRV9URVNUXCI7XG4gICAgTE9DQUxfU1RPUkFHRV9SRUYuc2V0SXRlbShtb2QsIG1vZCk7XG4gICAgTE9DQUxfU1RPUkFHRV9SRUYucmVtb3ZlSXRlbShtb2QpO1xufSBjYXRjaChlKSB7XG4gICAgTE9DQUxfU1RPUkFHRV9SRUYgPSB7XG4gICAgICAgIF9kYXRhICAgICAgIDoge30sXG4gICAgICAgIHNldEl0ZW0gICAgIDogZnVuY3Rpb24oaWQsIHZhbCkgeyByZXR1cm4gdGhpcy5fZGF0YVtpZF0gPSBTdHJpbmcodmFsKTsgfSxcbiAgICAgICAgZ2V0SXRlbSAgICAgOiBmdW5jdGlvbihpZCkgeyByZXR1cm4gdGhpcy5fZGF0YS5oYXNPd25Qcm9wZXJ0eShpZCkgPyB0aGlzLl9kYXRhW2lkXSA6IHVuZGVmaW5lZDsgfSxcbiAgICAgICAgcmVtb3ZlSXRlbSAgOiBmdW5jdGlvbihpZCkgeyByZXR1cm4gZGVsZXRlIHRoaXMuX2RhdGFbaWRdOyB9LFxuICAgICAgICBjbGVhciAgICAgICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5fZGF0YSA9IHt9OyB9XG4gICAgfTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgb2JqZWN0IGZvciBpbnRlcmZhY2luZyB3aXRoIHRoZSBMb2NhbFN0b3JhZ2UuIFRoZSBMb2NhbFN0b3JhZ2VcbiAqIGJyb3dzZXIgQVBJIGFsbG93cyBmb3Igb2ZmbGluZSBzdG9yYWdlLiBUaGF0IEFQSSBpcyB2ZXJ5IHVuc29waGlzdGljYXRlZCxcbiAqIGFuZCBpcyBlc3NlbnRpYWxseSBhIGxhbWUga2V5LXZhbHVlIHN0b3JlLiBUaGlzIG9iamVjdCBzaXRzIG9uIHRvcFxuICogYW5kIHByb3ZpZGVzIGEgbnVtYmVyIG9mIHVzZWZ1bCB1dGlsaXRpZXMsIGluY2x1ZGluZyBydWRpbWVudGFyeWNhY2hlXG4gKiBjYWNoZSBleHBpcmF0aW9uLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHRoaXMge0xvY2FsU3RvcmFnZVdyYXBwZXJ9XG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIC0gQSBuYW1lc3BhY2UgdG8gdXNlIGluIGdyb3VwaW5nIGFjY2VzcyB0byBsb2NhbHN0b3JhZ2UuIFRoaXMga2VlcHMgYWNjZXNzIGNsZWFuIGFuZCBvcmdhbml6ZWQsIHdoaWxlIGFsc28gbWFraW5nIGl0IHBvc3NpYmxlIHRvIGhhdmUgbXVsdGlwbGUgTG9jYWxTdG9yYWdlIGNvbm5lY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gTG9jYWxTdG9yYWdlV3JhcHBlcihuYW1lc3BhY2UpIHtcbiAgICB0aGlzLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcbn1cbi8qKlxuICogQSBtZXRob2QgZm9yIGFkZGluZyBhIGtleS92YWx1ZSBwYWlyIHRvIExvY2FsU3RvcmFnZS5cbiAqIE5vdGUgdGhhdCBib3RoIHBhcmFtZXRlcnMgbXVzdCBiZSBzdHJpbmdzIChKU09OLnN0cmluZ2lmeSBpcyB5b3VyIGZyaWVuZCkuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGtleSAtIFRoZSBuYW1lIG9mIHRoZSBrZXkuXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsdWUgLSBUaGUgdmFsdWUuXG4gKi9cbkxvY2FsU3RvcmFnZVdyYXBwZXIucHJvdG90eXBlLnNldCA9ICBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgTE9DQUxfU1RPUkFHRV9SRUYuc2V0SXRlbSh0aGlzLm5hbWVzcGFjZStcIl9cIitrZXkrXCJfdmFsdWVcIiwgdmFsdWUpO1xuICAgIExPQ0FMX1NUT1JBR0VfUkVGLnNldEl0ZW0odGhpcy5uYW1lc3BhY2UrXCJfXCIra2V5K1wiX3RpbWVzdGFtcFwiLCAkLm5vdygpKTtcbn07XG5cbi8qKlxuICogQSBtZXRob2QgZm9yIHJlbW92aW5nIGEga2V5IGZyb20gTG9jYWxTdG9yYWdlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgLSBUaGUgbmFtZSBvZiB0aGUga2V5IHRvIHJlbW92ZS5cbiAqL1xuTG9jYWxTdG9yYWdlV3JhcHBlci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgTE9DQUxfU1RPUkFHRV9SRUYucmVtb3ZlSXRlbSh0aGlzLm5hbWVzcGFjZStcIl9cIitrZXkrXCJfdmFsdWVcIik7XG4gICAgTE9DQUxfU1RPUkFHRV9SRUYucmVtb3ZlSXRlbSh0aGlzLm5hbWVzcGFjZStcIl9cIitrZXkrXCJfdGltZXN0YW1wXCIpO1xufTtcblxuLyoqXG4gKiBBIG1ldGhvZCBmb3IgcmV0cmlldmluZyB0aGUgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBrZXkuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGtleSAtIFRoZSBuYW1lIG9mIHRoZSBrZXkgdG8gcmV0cmlldmUgdGhlIHZhbHVlIGZvci5cbiAqL1xuTG9jYWxTdG9yYWdlV3JhcHBlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIExPQ0FMX1NUT1JBR0VfUkVGLmdldEl0ZW0odGhpcy5uYW1lc3BhY2UrXCJfXCIra2V5K1wiX3ZhbHVlXCIpO1xufTtcblxuLyoqXG4gKiBBIG1ldGhvZCBmb3IgcmV0cmlldmluZyB0aGUgdGltZSBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIGtleS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0gVGhlIG5hbWUgb2YgdGhlIGtleSB0byByZXRyaWV2ZSB0aGUgdGltZSBmb3IuXG4gKiBAcmV0dXJucyB7SW50ZWdlcn0gLSBUaGUgdGltZXN0YW1wIChsb2NhbCBlcG9jaCkgd2hlbiB0aGUga2V5IHdhcyBsYXN0IHNldC5cbiAqL1xuTG9jYWxTdG9yYWdlV3JhcHBlci5wcm90b3R5cGUuZ2V0VGltZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBwYXJzZUludChMT0NBTF9TVE9SQUdFX1JFRi5nZXRJdGVtKHRoaXMubmFtZXNwYWNlK1wiX1wiK2tleStcIl90aW1lc3RhbXBcIikpO1xufTtcblxuLyoqXG4gKiBBIG1ldGhvZCBmb3IgcmV0cmlldmluZyB0aGUgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBrZXkuXG4gKiBJZiB0aGUga2V5IGRvZXMgbm90IGV4aXN0LCB0aGVuIHRoZSBkZWZhdWx0IHZhbHVlIGlzIHVzZWQgaW5zdGVhZC5cbiAqIFRoaXMgZGVmYXVsdCB3aWxsIGJlIHNldC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0gVGhlIG5hbWUgb2YgdGhlIGtleSB0byByZXRyaWV2ZSB0aGUgdmFsdWUgZm9yLlxuICogQHBhcmFtIHtTdHJpbmd9IGRlZmF1bHRWYWx1ZSAtIFRoZSBkZWZhdWx0IHZhbHVlIHRvIHVzZS4gTXVzdCBiZSBhIHN0cmluZy5cbiAqL1xuTG9jYWxTdG9yYWdlV3JhcHBlci5wcm90b3R5cGUuZ2V0RGVmYXVsdCA9IGZ1bmN0aW9uKGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKHRoaXMuaGFzKGtleSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXQoa2V5LCBkZWZhdWx0VmFsdWUpO1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cbn07XG5cbi8qKlxuICogQSB0ZXN0IGZvciB3aGV0aGVyIHRoZSBnaXZlbiBrZXkgaXMgaW4gTG9jYWxTdG9yYWdlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgLSBUaGUga2V5IHRvIHRlc3QgZXhpc3RlbmNlIGZvci5cbiAqL1xuTG9jYWxTdG9yYWdlV3JhcHBlci5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIExPQ0FMX1NUT1JBR0VfUkVGLmdldEl0ZW0odGhpcy5uYW1lc3BhY2UrXCJfXCIra2V5K1wiX3ZhbHVlXCIpICE9PSBudWxsO1xufTtcblxuLyoqXG4gKiBBIHRlc3QgZm9yIHdoZXRoZXIgdGhlIHNlcnZlciBoYXMgdGhlIG5ld2VyIHZlcnNpb24uIFRoaXMgZnVuY3Rpb25cbiAqIGFzc3VtZXMgdGhhdCB0aGUgc2VydmVyIHRyaXAgdGFrZXMgYWJvdXQgNSBzZWNvbmRzLiBUaGlzIG1ldGhvZFxuICogaXMgbGFyZ2VseSBkZXByZWNhdGVkLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgLSBUaGUga2V5IHRvIGNoZWNrLlxuICogQHBhcmFtIHtJbnRlZ2VyfSBzZXJ2ZXJfdGltZSAtIFRoZSBzZXJ2ZXIncyB0aW1lIGFzIGFuIGVwb2NoIChpbiBtaWxsaXNlY29uZHMpXG4gKi9cbkxvY2FsU3RvcmFnZVdyYXBwZXIucHJvdG90eXBlLmlzX25ldyA9IGZ1bmN0aW9uKGtleSwgc2VydmVyX3RpbWUpIHtcbiAgICB2YXIgc3RvcmVkX3RpbWUgPSBMT0NBTF9TVE9SQUdFX1JFRi5nZXRJdGVtKHRoaXMubmFtZXNwYWNlK1wiX1wiK2tleStcIl90aW1lc3RhbXBcIik7XG4gICAgcmV0dXJuIChzZXJ2ZXJfdGltZSA+PSBzdG9yZWRfdGltZSs1MDAwKTtcbn07XG4iLCJleHBvcnQgY29uc3QgVFJBQ0VfSFRNTCA9IGBcblxuPGRpdiBjbGFzcz1cImJsb2NrcHktdHJhY2UgY29sLW1kLTYgYmxvY2tweS1wYW5lbFwiXG4gICAgICAgICAgICByb2xlPVwicmVnaW9uXCIgYXJpYS1sYWJlbD1cIlRyYWNlXCI+XG4gICAgXG4gICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+XG4gICAgICAgIDxzdHJvbmc+VHJhY2U6IDwvc3Ryb25nPlxuICAgICAgICBcbiAgICAgICAgPCEtLSBGZWVkYmFjay9UcmFjZSBWaXNpYmlsaXR5IENvbnRyb2wgLS0+XG4gICAgICAgIDxidXR0b24gdHlwZT0nYnV0dG9uJ1xuICAgICAgICAgICAgICAgIGNsYXNzPSdidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBmbG9hdC1yaWdodCBibG9ja3B5LWhpZGUtdHJhY2UnXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLnNlY29uZFJvdy5hZHZhbmNlU3RhdGVcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtZXllJz48L3NwYW4+IEhpZGUgVHJhY2VcbiAgICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAgbWItMyBibG9ja3B5LXRyYWNlLWNvbnRyb2xzXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cC1wcmVwZW5kXCI+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2J0biBidG4tb3V0bGluZS1zZWNvbmRhcnknXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLnRyYWNlLmZpcnN0XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1zdGVwLWJhY2t3YXJkJz48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0nYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSdcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkudHJhY2UuYmFja3dhcmRcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLWJhY2t3YXJkJz48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaW5wdXQtZ3JvdXAtdGV4dFwiPlN0ZXA6PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gZGF0YS1iaW5kPSd0ZXh0OiBleGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VTdGVwJz48L3NwYW4+XG4gICAgICAgICAgICAgICAgLyA8c3BhbiBkYXRhLWJpbmQ9J3RleHQ6IGV4ZWN1dGlvbi5zdHVkZW50Lmxhc3RTdGVwJz48L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtYXBwZW5kXCI+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2J0biBidG4tb3V0bGluZS1zZWNvbmRhcnknXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLnRyYWNlLmZvcndhcmRcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLWZvcndhcmQnPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5J1xuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS50cmFjZS5sYXN0XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1zdGVwLWZvcndhcmQnPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gZGF0YS1iaW5kPSd0ZXh0OiB1aS50cmFjZS5saW5lJz48L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIFxuICAgIDx0YWJsZSBjbGFzcz0ndGFibGUgdGFibGUtc20gdGFibGUtc3RyaXBlZCB0YWJsZS1ib3JkZXJlZCB0YWJsZS1ob3Zlcic+XG4gICAgICAgIDxjYXB0aW9uPkN1cnJlbnQgdmFyaWFibGVzIGF0IHRoaXMgc3RlcDwvY2FwdGlvbj5cbiAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgPHRyPjx0aD5OYW1lPC90aD48dGg+VHlwZTwvdGg+PHRoPlZhbHVlPC90aD48L3RyPlxuICAgICAgICA8L3RoZWFkPlxuICAgICAgICA8dGJvZHkgZGF0YS1iaW5kPVwiZm9yZWFjaDogdWkudHJhY2UuZGF0YSgpLnByb3BlcnRpZXNcIj5cbiAgICAgICAgICAgIDx0ciBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiBuYW1lICE9ICdfX2ZpbGVfXycgJiYgbmFtZSAhPSAnX19wYXRoX18nXCI+XG4gICAgICAgICAgICAgICAgPHRkIGRhdGEtYmluZD1cInRleHQ6IG5hbWVcIj48L3RkPlxuICAgICAgICAgICAgICAgIDx0ZCBkYXRhLWJpbmQ9XCJ0ZXh0OiB0eXBlXCI+PC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgIDxjb2RlIGRhdGEtYmluZD1cInRleHQ6IHZhbHVlXCI+PC9jb2RlPlxuICAgICAgICAgICAgICAgICAgICA8IS0tIGtvIGlmOiB0eXBlID09IFwiTGlzdFwiIC0tPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIlwiIGRhdGEtYmluZD1cImNsaWNrOiAvLyRyb290LnZpZXdFeGFjdFZhbHVlKHR5cGUsIGV4YWN0X3ZhbHVlKVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nZ2x5cGhpY29uIGdseXBoaWNvbi1uZXctd2luZG93Jz48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgPCEtLSAva28gLS0+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGJvZHk+XG4gICAgPC90YWJsZT5cbiAgICBcbjwvZGl2PlxuYDtcblxuZXhwb3J0IGNsYXNzIEJsb2NrUHlUcmFjZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihtYWluLCB0YWcpIHtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgdGhpcy50YWcgPSB0YWc7XG5cbiAgICAgICAgdGhpcy5JR05PUkVEX0dMT0JBTFMgPSBbXCJfX25hbWVfX1wiLCBcIl9fZG9jX19cIiwgXCJfX3BhY2thZ2VfX1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzbWV0aG9kXCIsIFwicHJvcGVydHlcIiwgXCJzdGF0aWNtZXRob2RcIl07XG5cbiAgICAgICAgLy8gdGhpcy50cmFjZS5jbGljayh0aGlzLmJ1aWxkVHJhY2VUYWJsZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25zdW1lIGEgc2V0IG9mIHZhcmlhYmxlcyB0cmFjZWQgZnJvbSB0aGUgZXhlY3V0aW9uIGFuZCBwYXJzZSBvdXQgYW55XG4gICAgICogZ2xvYmFsIHZhcmlhYmxlcyBhbmQgbW9kdWxlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YXJpYWJsZXMgLSBhIG1hcHBpbmcgb2YgdmFyaWFibGUgbmFtZXMgdG8gdGhlaXIgU2t1cHQgdmFsdWUuXG4gICAgICovXG4gICAgcGFyc2VHbG9iYWxzKHZhcmlhYmxlcykge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCBtb2R1bGVzID0gW107XG4gICAgICAgIGlmICghdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkudHJhY2VFeGVjdXRpb24oKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgcHJvcGVydHkgaW4gdmFyaWFibGVzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gdmFyaWFibGVzW3Byb3BlcnR5XTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5JR05PUkVEX0dMT0JBTFMuaW5kZXhPZihwcm9wZXJ0eSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcHJvcGVydHkucmVwbGFjZShcIl8kcnckXCIsIFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcIl8kcm4kXCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGFyc2VkO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkID0gQmxvY2tQeVRyYWNlLnBhcnNlVmFsdWUocHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSB7XCJuYW1lXCI6IHByb3BlcnR5LCBcInR5cGVcIjogXCJVbmtub3duXCIsIFwidmFsdWVcIjogdmFsdWUudG9TdHJpbmcoKX07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocGFyc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gU2suYnVpbHRpbi5tb2R1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZXMucHVzaCh2YWx1ZS4kZC5fX25hbWVfXy52KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1wicHJvcGVydGllc1wiOiByZXN1bHQsIFwibW9kdWxlc1wiOiBtb2R1bGVzfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBhIFNrdWxwdCB2YWx1ZSBpbnRvIGEgbW9yZSBlYXNpbHkgcHJpbnRhYmxlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSAtIHRoZSBza3VscHQgdmFsdWVcbiAgICAgKi9cbiAgICBzdGF0aWMgcGFyc2VWYWx1ZShwcm9wZXJ0eSwgdmFsdWUsIGZ1bGxMZW5ndGgpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlVua25vd25cIixcbiAgICAgICAgICAgICAgICBcInZhbHVlXCI6IFwiVW5kZWZpbmVkXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh2YWx1ZS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgY2FzZSBTay5idWlsdGluLmZ1bmM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICh2YWx1ZS5mdW5jX2NvZGUuY29fdmFybmFtZXMgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgQXJndW1lbnRzOiBcIit2YWx1ZS5mdW5jX2NvZGUuY29fdmFybmFtZXMuam9pbihcIiwgXCIpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBObyBhcmd1bWVudHNcIilcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBTay5idWlsdGluLm1vZHVsZTogcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBjYXNlIFNrLmJ1aWx0aW4uc3RyOlxuICAgICAgICAgICAgICAgIGlmIChmdWxsTGVuZ3RoIHx8IHZhbHVlLnYubGVuZ3RoIDw9IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiU3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlLiRyKCkudlxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiU3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IFwiW1wiK3ZhbHVlLnNxJGxlbmd0aCgpK1wiIGNoYXJhY3RlcnMgbm90IHNob3duXVwiXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBTay5idWlsdGluLm5vbmU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIk5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIk5vbmVcIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIFNrLmJ1aWx0aW4uYm9vbDpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiQm9vbGVhblwiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlLiRyKCkudlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIFNrLmJ1aWx0aW4ubm1iZXI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImludFwiID09PSB2YWx1ZS5za1R5cGUgPyBcIkludGVnZXJcIjogXCJGbG9hdFwiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlLiRyKCkudlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIFNrLmJ1aWx0aW4uaW50XzpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiSW50ZWdlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlLiRyKCkudlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIFNrLmJ1aWx0aW4uZmxvYXRfOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJGbG9hdFwiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlLiRyKCkudlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIFNrLmJ1aWx0aW4udHVwbGU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlR1cGxlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogdmFsdWUuJHIoKS52XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgU2suYnVpbHRpbi5saXN0OlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS52Lmxlbmd0aCA8PSAyMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkxpc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogdmFsdWUuJHIoKS52LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJleGFjdF92YWx1ZVwiOiB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiTGlzdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIlsuLi4gXCIrdmFsdWUudi5sZW5ndGgrXCIgZWxlbWVudHMgLi4uXVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJleGFjdF92YWx1ZVwiOiB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgU2suYnVpbHRpbi5kaWN0OlxuICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJEaWN0aW9uYXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogdmFsdWUuJHIoKS52XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgTnVtYmVyOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogdmFsdWUgJSAxID09PSAwID8gXCJJbnRlZ2VyXCIgOiBcIkZsb2F0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogdmFsdWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBTdHJpbmc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiQm9vbGVhblwiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6ICh2YWx1ZSA/IFwiVHJ1ZVwiOiBcIkZhbHNlXCIpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiB2YWx1ZS50cCRuYW1lID09PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHZhbHVlLnRwJG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogdmFsdWUuJHIgPT09IHVuZGVmaW5lZCA/IHZhbHVlIDogdmFsdWUuJHIoKS52XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8vIFRPRE86IHZpZXdFeGFjdFZhbHVlIiwiLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBlbGVtZW50IGlzIGluIHRoZSBsaXN0LlxuICogQHBhcmFtIHthbnl0aGluZ30gbmVlZGxlIC0gVGhlIGVsZW1lbnQgdG8gbG9vayBmb3IuXG4gKiBAcGFyYW0ge0FycmF5fSBoYXlzdGFjayAtIFRoZSBsaXN0IHRvIHNlYXJjaC5cbiAqIEByZXR1cm4ge0Jvb2xlYW59IFdoZXRoZXIgdGhlIGVsZW1lbnQgZXhpc3RzXG4gKi9cbmZ1bmN0aW9uIGFycmF5Q29udGFpbnMobmVlZGxlLCBoYXlzdGFjaykge1xuICAgIHJldHVybiBoYXlzdGFjay5pbmRleE9mKG5lZWRsZSkgPiAtMTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgZHVwbGljYXRlIHZhbHVlcyBmcm9tIGFuIGFycmF5LCBwcmVzZXJ2aW5nIG9yZGVyLlxuICogQ3JlYXRlcyBhIG5ldyBhcnJheSwgc28gaXMgbm9uLWRlc3RydWN0aXZlLlxuICogQ291cnRlc3k6XG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNTg0MzcwL2hvdy10by1tZXJnZS10d28tYXJyYXlzLWluLWphdmFzY3JpcHQtYW5kLWRlLWR1cGxpY2F0ZS1pdGVtc1xuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IC0gVGhlIGFycmF5IHRvIHVuaXF1aWZ5LiBFbGVtZW50cyBjb21wYXJlZCB3aXRoID09PS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlVbmlxdWUoYXJyYXkpIHtcbiAgICB2YXIgYSA9IGFycmF5LmNvbmNhdCgpO1xuICAgIGZvcih2YXIgaT0wOyBpPGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZm9yKHZhciBqPWkrMTsgajxhLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICBpZihhW2ldID09PSBhW2pdKSB7YS5zcGxpY2Uoai0tLCAxKTt9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbn1cblxuLyoqXG4gKiBBIGhlbHBlciBmdW5jdGlvbiBmb3IgZXh0ZW5kaW5nIGFuIGFycmF5IGJhc2VkXG4gKiBvbiBhbiBcImFkZEFycmF5XCIgYW5kIFwicmVtb3ZlQXJyYXlcIi4gQW55IGVsZW1lbnRcbiAqIGZvdW5kIGluIHJlbW92ZUFycmF5IGlzIHJlbW92ZWQgZnJvbSB0aGUgZmlyc3QgYXJyYXlcbiAqIGFuZCBhbGwgdGhlIGVsZW1lbnRzIG9mIGFkZEFycmF5IGFyZSBhZGRlZC5cbiAqIEFueSBkdXBsaWNhdGUgaXRlbXMgYXJlIHJlbW92ZWQuXG4gKiBDcmVhdGVzIGEgbmV3IGFycmF5LCBzbyBpcyBub24tZGVzdHJ1Y3RpdmUuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgLSB0aGUgYXJyYXkgdG8gbWFuaXB1bGF0ZVxuICogQHBhcmFtIHtBcnJheX0gYWRkQXJyYXkgLSB0aGUgZWxlbWVudHMgdG8gYWRkIHRvIHRoZSBhcnJheVxuICogQHBhcmFtIHtBcnJheX0gcmVtb3ZlQXJyYXkgLSB0aGUgZWxlbWVudHMgdG8gcmVtb3ZlIGZyb20gdGhlIGFycmF5XG4gKiBAcmV0dXJuIHtBcnJheX0gVGhlIG1vZGlmaWVkIGFycmF5XG4gKi9cbmZ1bmN0aW9uIGV4cGFuZEFycmF5KGFycmF5LCBhZGRBcnJheSwgcmVtb3ZlQXJyYXkpIHtcbiAgICB2YXIgY29weUFycmF5ID0gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIHJlbW92ZUFycmF5LmluZGV4T2YoaXRlbSkgPT09IC0xO1xuICAgIH0pO1xuICAgIHJldHVybiBhcnJheVVuaXF1ZShjb3B5QXJyYXkuY29uY2F0KGFkZEFycmF5KSk7XG59XG5cbi8qKlxuICogRGVlcGx5IGNsb25lcyBhIG5vZGVcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBBIG5vZGUgdG8gY2xvbmVcbiAqIEByZXR1cm4ge05vZGV9IEEgY2xvbmUgb2YgdGhlIGdpdmVuIG5vZGUgYW5kIGFsbCBpdHMgY2hpbGRyZW5cbiAqL1xuZnVuY3Rpb24gY2xvbmVOb2RlKG5vZGUpIHtcbiAgICAvLyBJZiB0aGUgbm9kZSBpcyBhIHRleHQgbm9kZSwgdGhlbiByZS1jcmVhdGUgaXQgcmF0aGVyIHRoYW4gY2xvbmUgaXRcbiAgICB2YXIgY2xvbmUgPSBub2RlLm5vZGVUeXBlID09IDMgPyBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlLm5vZGVWYWx1ZSkgOiBub2RlLmNsb25lTm9kZShmYWxzZSk7XG4gXG4gICAgLy8gUmVjdXJzZSAgICAgXG4gICAgdmFyIGNoaWxkID0gbm9kZS5maXJzdENoaWxkO1xuICAgIHdoaWxlKGNoaWxkKSB7XG4gICAgICAgIGNsb25lLmFwcGVuZENoaWxkKGNsb25lTm9kZShjaGlsZCkpO1xuICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICAgXG4gICAgcmV0dXJuIGNsb25lO1xufVxuXG4vKipcbiAqIEluZGVudHMgdGhlIGdpdmVuIHN0cmluZyBieSA0IHNwYWNlcy4gVGhpcyBjb3JyZWN0bHkgaGFuZGxlcyBtdWx0aS1saW5lIHN0cmluZ3MuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciAtIFRoZSBzdHJpbmcgdG8gYmUgbWFuaXB1bGF0ZWQuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgc3RyaW5nIHdpdGggZm91ciBzcGFjZXMgYWRkZWQgYXQgdGhlIHN0YXJ0IG9mIGV2ZXJ5IG5ldyBsaW5lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5kZW50KHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvXig/PS4pL2dtLCBcIiAgICBcIik7XG59XG5cbi8qKlxuICogVHVybnMgc3BhY2VzIGludG8gdW5kZXJzY29yZXMgaW4gdGhlIHN0cmluZywgbWFrZXMgaXQgbG93ZXJjYXNlLlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciAtIHRoZSBzdHJpbmcgdG8gYmUgbWFuaXB1bGF0ZWRcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzbHVnKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvXFxzL2csIFwiX1wiKS50b0xvd2VyQ2FzZSgpO1xufVxuXG4vKipcbiAqIENhcGl0YWxpemUgdGhlIGZpcnN0IGxldHRlciBvZiBhIHN0cmluZy5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzIC0gVGhlIHN0cmluZyB0byBiZSBjYXBpdGFsaXplZC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYXBpdGFsaXplKHMpIHtcbiAgICBpZiAodHlwZW9mIHMgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIHJldHVybiBzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcy5zbGljZSgxKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSByYW5kb20gaW50ZWdlciBiZXR3ZWVuIFtgbWluYCwgYG1heGBdLlxuICogXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIC0gVGhlIGxvd2VzdCBwb3NzaWJsZSBpbnRlZ2VyLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heCAtIFRoZSBoaWdoZXN0IHBvc3NpYmxlIGludGVnZXIgKGluY2x1c2l2ZSkuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBBIHJhbmRvbSBpbnRlZ2VyLlxuICovXG5mdW5jdGlvbiByYW5kb21JbnRlZ2VyKG1pbixtYXgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihtYXgtbWluKzEpK21pbik7XG59XG5cbi8qKlxuICogRW5jb2RlcyBzb21lIHRleHQgc28gdGhhdCBpdCBjYW4gYmUgc2FmZWx5IHdyaXR0ZW4gaW50byBhbiBIVE1MIGJveC5cbiAqIFRoaXMgaW5jbHVkZXMgcmVwbGFjaW5nIHNwZWNpYWwgSFRNTCBjaGFyYWN0ZXJzICgmLCA8LCA+LCBldGMuKS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIHRleHQgdG8gYmUgY29udmVydGVkLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgSFRNTC1zYWZlIHRleHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVIVE1MKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvJi9nLCBcIiZhbXA7XCIpXG4gICAgICAgIC5yZXBsYWNlKC88L2csIFwiJmx0O1wiKVxuICAgICAgICAucmVwbGFjZSgvPi9nLCBcIiZndDtcIilcbiAgICAgICAgLnJlcGxhY2UoL1wiL2csIFwiJnF1b3Q7XCIpXG4gICAgICAgIC5yZXBsYWNlKC8nL2csIFwiJmFwb3M7XCIpO1xufVxuXG4vKipcbiAqIFNodWZmbGUgdGhlIGJsb2NrcyBpbiB0aGUgd29ya3NwYWNlXG4gKi9cbmlmICh0eXBlb2YgQmxvY2tseSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIEJsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5zaHVmZmxlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtZXRyaWNzID0gdGhpcy5nZXRNZXRyaWNzKCk7XG4gICAgICAgIHZhciB3aWR0aCA9IG1ldHJpY3Mudmlld1dpZHRoIC8gMixcbiAgICAgICAgICAgIGhlaWdodCA9IG1ldHJpY3Mudmlld0hlaWdodDtcbiAgICAgICAgdmFyIGJsb2NrcyA9IHRoaXMuZ2V0VG9wQmxvY2tzKGZhbHNlKTtcbiAgICAgICAgdmFyIHkgPSA1LCB4ID0gMCxcbiAgICAgICAgICAgIG1heGltYWxfaW5jcmVhc2UgPSBoZWlnaHQvYmxvY2tzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBibG9ja3MubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgLy8gR2V0IGEgYmxvY2tcbiAgICAgICAgICAgIHZhciBibG9jayA9IGJsb2Nrc1tpXTtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0gYmxvY2suZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO1xuICAgICAgICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICAgICAgICAgIHggPSA1O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4ID0gLXByb3BlcnRpZXMueCtyYW5kb21JbnRlZ2VyKDEwLCB3aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBibG9jay5tb3ZlQnkoeCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgLXByb3BlcnRpZXMueSt5KTtcbiAgICAgICAgICAgIHkgPSB5ICsgcmFuZG9tSW50ZWdlcig1LCBtYXhpbWFsX2luY3JlYXNlKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8qKlxuICogTW92ZSBlbGVtZW50cyBmcm9tIG9uZSBhcnJheSB0byBhbm90aGVyIGJhc2VkIG9uIGEgY29uZGl0aW9uYWwgY2hlY2suXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMTg4Nzk2Ny9qYXZhc2NyaXB0LW1vdmUtb2JqZWN0cy1mcm9tLW9uZS1hcnJheS10by1hbm90aGVyLWJlc3QtYXBwcm9hY2hcbiAqL1xuZnVuY3Rpb24gbW92ZUVsZW1lbnRzKHNvdXJjZSwgdGFyZ2V0LCBtb3ZlQ2hlY2spIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZWxlbWVudCA9IHNvdXJjZVtpXTtcbiAgICAgICAgaWYgKG1vdmVDaGVjayhlbGVtZW50KSkge1xuICAgICAgICAgICAgc291cmNlLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIHRhcmdldC5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICB9XG4gICAgfSBcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZmlyc3REZWZpbmVkVmFsdWUoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50c1tpXSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjaGVja3MgaWYgdGhlIGdpdmVuIG9iamVjdCBpcyBvbmUgb2YgdGhlIFNrLmJ1aWx0aW4gb2JqZWN0c1xuICogVE9ETzogbWFrZSB0aGlzIHNvIHdlIGRvbid0IGhhdmUgdG8gZXhwbGljaXRseSBwdXQgb3V0IGV2ZXJ5IG9wdGlvblxuICogICAgICAgICAgb25lIHBvc3NpYmxlIHRoaW5nIHdlIGNvdWxkIGRvIGlzIGdldCBhIHN0cmluZyB2ZXJzaW9uIG9mIHRoZSBcbiAqICAgICAgICAgIG9mIHRoZSBjb25zdHJ1Y3RvciBhbmQgbG9vayBmb3IgdGhlIHN1YnN0cmluZyBcInJldHVybiBuZXcgU2suYnVpbHRpblwiXG4gKiAgICAgICAgICBCdXQgSSBkb24ndCBrbm93IGhvdyByZWxpYWJsZSB0aGF0IGlzLiAgUmF0aGVyLCBpdCdzIGtpbmQgb2YgaGFja2lzaC5cbiAqICAgICAgICAgIFNob3VsZCB0ZWhvcmV0aWNhbGx5IGJlbG9uZyBpbiBTay5mZmlcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSB0aGUgb2JqZWN0IHRvIGJlIGV4YW1pbmVkXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBvYmplY3QgaXMgb25lIG9mIHRoZSBTay5idWlsdGluIHR5cGVzXG4qKi9cbmZ1bmN0aW9uIGlzU2tCdWlsdGluKG9iail7XG4gICAgcmV0dXJuIChvYmogaW5zdGFuY2VvZiBTay5idWlsdGluLmRpY3QpIHx8XG4gICAgICAgIChvYmogaW5zdGFuY2VvZiBTay5idWlsdGluLmxpc3QpIHx8XG4gICAgICAgIChvYmogaW5zdGFuY2VvZiBTay5idWlsdGluLnR1cGxlKSB8fFxuICAgICAgICAob2JqIGluc3RhbmNlb2YgU2suYnVpbHRpbi5ib29sKSB8fFxuICAgICAgICAob2JqIGluc3RhbmNlb2YgU2suYnVpbHRpbi5pbnRfKSB8fFxuICAgICAgICAob2JqIGluc3RhbmNlb2YgU2suYnVpbHRpbi5mbG9hdF8pIHx8XG4gICAgICAgIChvYmogaW5zdGFuY2VvZiBTay5idWlsdGluLnN0cikgfHxcbiAgICAgICAgKG9iaiBpbnN0YW5jZW9mIFNrLmJ1aWx0aW4ubG5nKTtcbiAgICAvL3ZhciBjb25zX3N0ciA9IG9iai5jb25zdHJ1Y3RvciArIFwiXCI7XG4gICAgLy9yZXR1cm4gY29uc19zdHIuaW5kZXhPZihcInJldHVybiBuZXcgU2suYnVpbHRpblwiKSAhPT0gLTE7XG59XG5cbmZ1bmN0aW9uIGlzQXN0Tm9kZShvYmope1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBPYmplY3QgJiYgXCJfYXN0bmFtZVwiIGluIG9iajtcbn1cblxuLyoqXG4gKiBTaG91bGQgdGhlb3JldGljYWxseSBiZWxvbmcgaW4gU2suZmZpLCBidXQgSSBwdXQgaXQgaGVyZSBpbnN0ZWFkIHRvIG5vdCBtZXNzIHVwIHRoZSBza3VscHQgZmlsZXNcbiAqIGxpa2UgdGhlIG5vcm1hbCBTay5mZmkucmVtYXBUb1B5LCBpdCBkb2Vzbid0IHdvcmsgZm9yIGZ1bmN0aW9ucyBvciBtb3JlIGNvbXBsZXggb2JqZWN0cywgYnV0IGl0IGhhbmRsZXNcbiAqIGNhc2VzIHdoZXJlIHRoZSB0eXBlcyBpbiBvYmogYXJlIGEgbWl4IG9mIHB5dGhvbiBTSU1QTEUgb2JqZWN0cyBhbmQgU0lNUExFIG5vcm1hbCBqYXZhc2NyaXB0IG9iamVjdHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSB0aGUgb2JqZWN0IHRvIGJlIGNvbnZlcnRlZFxuICogQHJldHVybiB7U2suYnVpbHRpbi4/Pz99IC0gcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBweXRob24gb2JqZWN0LCBkcm9wcGluZyBhbGwgZnVuY3Rpb25zIGFuZCB0aGluZ3MgaXQgY2FuJ3QgY29udmVydFxuKiovXG5mdW5jdGlvbiBtaXhlZFJlbWFwVG9QeShvYmope1xuICAgIHZhciBrO1xuICAgIHZhciBrdnM7XG4gICAgdmFyIGk7XG4gICAgdmFyIGFycjtcbiAgICAvL0BUT0RPOiBzaG91bGQgdGhlb3JldGljYWxseSBjaGVjayBpZiB0aGUgb2JqZWN0IGlzIGEgcHlob24gZGljdCBvciBhcnJheSB3aXRoIGpzIG9iamVjdHNcbiAgICBpZiAoaXNTa0J1aWx0aW4ob2JqKSl7XG4gICAgICAgIC8vb2JqZWN0IGlzIGFscmVhZHkgcHl0aG9uIHJlYWR5XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiKSB7XG4gICAgICAgIC8vb2JqZWN0IGlzIGFjdHVhbGx5IGEgamF2YXNjcmlwdCBhcnJheVxuICAgICAgICBhcnIgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG9iai5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgLy9mb3IgZWFjaCBvYmplY3QsIGNvbnZlcnQgaXQgdG8gYSBweXRob24gb2JqZWN0IGlmIGl0IGlzbid0IG9uZSBhbHJlYWR5XG4gICAgICAgICAgICB2YXIgc3VidmFsID0gb2JqW2ldO1xuICAgICAgICAgICAgaWYoIWlzU2tCdWlsdGluKHN1YnZhbCkpe1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKG1peGVkUmVtYXBUb1B5KHN1YnZhbCkpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2goc3VidmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4ubGlzdChhcnIpO1xuICAgIH0gZWxzZSBpZiAob2JqID09PSBudWxsKSB7Ly9udWxsIG9iamVjdFxuICAgICAgICByZXR1cm4gU2suYnVpbHRpbi5ub25lLm5vbmUkO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBpZighaXNTa0J1aWx0aW4ob2JqKSl7XG4gICAgICAgICAgICAvL2Fzc3VtaW5nIGl0J3MgYSBzdGFuZGFyZCBkaWN0aW9uYXJ5XG4gICAgICAgICAgICBrdnMgPSBbXTsvL1NrLmJ1aWx0aW4uZGljdCB1c2VzIGFuIGFycmF5IG9mIGtleS12YWx1ZSxrZXktdmFsdWUuLi5cbiAgICAgICAgICAgIGZvciAoayBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICAvL2NvbnZlcnQgdGhlIGtleSBpZiBpdCBuZWVkcyB0byBiZSBjb252ZXJ0ZWRcbiAgICAgICAgICAgICAgICBrdnMucHVzaChtaXhlZFJlbWFwVG9QeShrKSk7XG4gICAgICAgICAgICAgICAgLy9jb3ZlcnQgY29ycmVzcG9uZGluZyB2YWx1ZSBpZiBpdCBuZWVkcyB0byBiZSBjb252ZXJ0ZWRcbiAgICAgICAgICAgICAgICBrdnMucHVzaChtaXhlZFJlbWFwVG9QeShvYmpba10pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vY3JlYXRlIHRoZSBuZXcgZGljdGlvbmFyeVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTay5idWlsdGluLmRpY3Qoa3ZzKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2suYnVpbHRpbi5zdHIob2JqKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIFNrLmJ1aWx0aW4uYXNzayQob2JqKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2suYnVpbHRpbi5ib29sKG9iaik7XG4gICAgfSBlbHNlIGlmKHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4uc3RyKG9iai5uYW1lKTtcbiAgICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfanF1ZXJ5X187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2tub2Nrb3V0X187Il0sInNvdXJjZVJvb3QiOiIifQ==